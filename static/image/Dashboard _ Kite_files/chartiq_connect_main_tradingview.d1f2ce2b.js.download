(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chartiq~connect~main~tradingview"],{"0a56":function(e,t,s){"use strict";class r{constructor(){var e=this;this.promise=new Promise(function(t,s){e.resolve=t,e.reject=s})}}class i{constructor(){this.handlers=[]}on(e){this.handlers.push(e)}off(e){this.handlers=this.handlers.filter(t=>t!==e)}trigger(e){this.handlers.slice(0).forEach(t=>t(e))}}class n{constructor(e){this.mSubscribe="subscribe",this.mUnSubscribe="unsubscribe",this.mSetMode="mode",this.mGetQuote="quote",this.mAlert=10,this.mOrderStr="order",this.mMessage=11,this.mMessageStr="message",this.mLogout=12,this.mLogoutStr="logout",this.mReload=13,this.mReloadStr="reload",this.mClearCache=14,this.mClearCacheStr="clear_cache",this.modeLTP="ltp",this.modeLTPC="ltpc",this.modeFull="full",this.modeQuote="quote",this.modeWeights={[this.modeFull]:1,[this.modeQuote]:2,[this.modeLTPC]:3,[this.modeLTP]:4},this.weightModeMap={1:this.modeFull,2:this.modeQuote,3:this.modeLTPC,4:this.modeLTP},this.segmentNseCM=1,this.segmentNseFO=2,this.segmentNseCD=3,this.segmentBseCM=4,this.segmentBseFO=5,this.segmentBseCD=6,this.segmentMcxFO=7,this.segmentMcxSX=8,this.segmentNseIndices=9,this.eventConnect=new i,this.eventTick=new i,this.eventData=new i,this.eventDisconnect=new i,this.eventReconnect=new i,this.eventNoReconnect=new i,this.eventAlert=new i,this.eventMessage=new i,this.eventReload=new i,this.eventClearCache=new i,this.eventLogout=new i,this.connectionTimeout=5,this.reconnectInterval=5,this.reconnectTries=300,this.isAutoReconnect=!0,this.reconnectionsCount=0,this.currentWsUrl=null,this.tokenTags={},this.subscribedTokens=[],this.defaultTokenTag="_",this.version="1.0.0",this.userAgent="kite3-web",this.quoteMap={},this.getQuoteTimeout=5,this.address=e.address,this.apiKey=e.apiKey,this.publicToken=e.publicToken,this.userId=e.userId,e.version&&(this.version=e.version),this.debug=e.debug}initParams(e){this.address=e.address,this.apiKey=e.apiKey,this.publicToken=e.publicToken,this.userId=e.userId,e.version&&(this.version=e.version),this.debug=e.debug}isConnected(){return!(!this.ws||this.ws.readyState!==this.ws.OPEN)}setAutoReconnect(e,t){this.isAutoReconnect=e,this.reconnectTries=t}getsubscribedTokens(){return this.subscribedTokens}connect(e){e||console.log("ticker: connect to ticker - ",this.address);var t=this;(!this.ws||this.ws.readyState!==this.ws.CONNECTING&&this.ws.readyState!==this.ws.OPEN)&&(this.ws=new WebSocket(this.address+"?api_key="+this.apiKey+"&user_id="+this.userId+"&public_token="+this.publicToken+"&uid="+(new Date).getTime().toString()+"&user-agent="+this.userAgent+"&version="+this.version),this.ws.binaryType="arraybuffer",this.ws.onopen=function(e){t.resubscribe(),t.eventConnect.trigger(),t.setConnectionTimer()},this.ws.onmessage=function(e){if(t.eventData.trigger(e.data),e.data instanceof ArrayBuffer){if(e.data.byteLength>2){var s=t.parseBinary(e.data);s&&t.eventTick.trigger(s)}}else t.processMessage(e.data);t.lastDataReceivedTime=new Date},this.ws.onerror=function(e){t.ws&&t.ws.readyState===t.ws.OPEN&&this.close()},this.ws.onclose=function(e){t.currentWsUrl&&this.url!==t.currentWsUrl||t.triggerDisconnect()})}subscribe(e,t){t=this.getTag(t);let s=[];for(let r of e)"number"===typeof r&&(this.isElementInArray(this.subscribedTokens,r)||(s.push(r),this.tokenTags[r]={mode:"",tags:{}},this.subscribedTokens.push(r)));return s.length>0&&this.send({a:this.mSubscribe,v:s}),s}unsubscribe(e,t){t=this.getTag(t);let s=[];for(let r of e)"number"===typeof r&&(this.deleteTokenTags(r,t),this.canUnsubscribe(r,t)&&(s.push(r),this.deleteSubscriptionToken(r),delete this.tokenTags[r]));return s.length>0&&this.send({a:this.mUnSubscribe,v:s}),s}setMode(e,t,s){s=this.getTag(s);let r={};for(let i of t){if(!this.isElementInArray(this.subscribedTokens,i)){this.deleteTokenTags(i,s);continue}if(e===this.tokenTags[i].mode)continue;if("number"!==typeof i)continue;this.updateTokenTags(i,e,s);let t=this.getBestMode(i,e,s);t&&t!==this.tokenTags[i].mode&&(r[t]||(r[t]=[]),r[t].push(i)),this.tokenTags[i].mode=t}for(let i of Object.keys(r))this.send({a:this.mSetMode,v:[i,r[i]]})}resubscribe(){if(0===this.subscribedTokens.length)return;let e={};for(let s of this.subscribedTokens)"number"===typeof s&&this.tokenTags[s]&&this.tokenTags[s].mode&&(e[this.tokenTags[s].mode]||(e[this.tokenTags[s].mode]=[]),e[this.tokenTags[s].mode].push(s));for(var t of(this.send({a:this.mSubscribe,v:this.subscribedTokens}),Object.keys(e)))this.send({a:this.mSetMode,v:[t,e[t]]})}getQuote(e,t,s,i){return this.quoteMap[e]=new r,i||(i=this.getQuoteTimeout),setTimeout(()=>{let t=this.quoteMap[e];t&&(t.reject(),delete this.quoteMap[e])},1e3*i),this.send({id:e,a:this.mGetQuote,v:{fields:s,tokens:t}}),this.quoteMap[e].promise}isElementInArray(e,t){let s=e.filter(e=>{return e===t});return s.length>0}deleteSubscriptionToken(e){let t=this.subscribedTokens.indexOf(e);t>-1&&this.subscribedTokens.splice(t,1)}getTag(e){return e&&"string"===typeof e?e:this.defaultTokenTag}updateTokenTags(e,t,s){s!==this.defaultTokenTag&&(this.tokenTags[e]||(this.tokenTags[e]={mode:t,tags:{}}),this.tokenTags[e]["tags"][s]=this.modeWeights[t])}deleteTokenTags(e,t){this.tokenTags[e]&&this.tokenTags[e].tags&&this.tokenTags[e].tags[t]&&delete this.tokenTags[e].tags[t]}getBestMode(e,t,s){if(s===this.defaultTokenTag)return t;let r=Math.min.apply(Math,Object.keys(this.tokenTags[e].tags).map(t=>this.tokenTags[e].tags[t]));return r?this.weightModeMap[r]:t}canUnsubscribe(e,t){if(!this.isElementInArray(this.subscribedTokens,e))return!1;if(t===this.defaultTokenTag)return!0;if(!this.tokenTags[e])return!0;let s=Object.keys(this.tokenTags[e].tags).filter(e=>{return e!==t});return!(s.length>0)}triggerDisconnect(){this.eventDisconnect.trigger(),this.isAutoReconnect?this.attemptReconnection():this.eventNoReconnect.trigger()}setConnectionTimer(){clearInterval(this.connectionTimer),this.lastDataReceivedTime=new Date,this.connectionTimer=setInterval(()=>{((new Date).getTime()-this.lastDataReceivedTime.getTime())/1e3>=this.connectionTimeout&&(this.currentWsUrl=null,this.ws&&this.ws.close(),clearInterval(this.connectionTimer),this.triggerDisconnect())},1e3*this.connectionTimeout)}attemptReconnection(){this.reconnectionsCount>this.reconnectTries?this.eventNoReconnect.trigger():(this.eventReconnect.trigger(this.reconnectInterval),setTimeout(()=>{this.connect(!0)},1e3*this.reconnectInterval),this.reconnectionsCount++)}send(e){if(this.ws&&this.ws.readyState===this.ws.OPEN)try{this.ws.send(JSON.stringify(e))}catch(t){this.ws.close()}}dateToString(e){let t=e.getFullYear().toString(),s=(e.getMonth()+1).toString(),r=e.getDate().toString(),i=e.getMinutes().toString(),n=e.getHours().toString(),o=e.getSeconds().toString();s.length<2&&(s="0"+s),r.length<2&&(r="0"+r),n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),o.length<2&&(o="0"+o);let a=`${t}-${s}-${r} ${n}:${i}:${o}`;return a}parseBinary(e){let t=this.splitPackets(e),s=[];for(let r of t){let e,t=this.buf2long(r.slice(0,4)),i=255&t,n=100;switch(i===this.segmentNseCD&&(n=1e7),i===this.segmentBseCD&&(n=1e4),i){case this.segmentMcxFO:case this.segmentNseCM:case this.segmentBseCM:case this.segmentNseFO:case this.segmentNseCD:case this.segmentBseCD:case this.segmentNseIndices:if(8===r.byteLength)s.push({mode:this.modeLTP,isTradeable:!0,token:t,lastPrice:this.buf2long(r.slice(4,8))/n});else if(12===r.byteLength){if(e={mode:this.modeLTPC,isTradeable:!0,token:t,lastPrice:this.buf2long(r.slice(4,8))/n,closePrice:this.buf2long(r.slice(8,12))/n},e.change=0,e.absoluteChange=0,0!==e.closePrice){let t=e.lastPrice-e.closePrice;e.change=100*t/e.closePrice,e.absoluteChange=t}s.push(e)}else if(28===r.byteLength||32===r.byteLength){if(e={mode:this.modeFull,isTradeable:!1,token:t,lastPrice:this.buf2long(r.slice(4,8))/n,highPrice:this.buf2long(r.slice(8,12))/n,lowPrice:this.buf2long(r.slice(12,16))/n,openPrice:this.buf2long(r.slice(16,20))/n,closePrice:this.buf2long(r.slice(20,24))/n},e.change=0,e.absoluteChange=0,0!==e.closePrice){let t=e.lastPrice-e.closePrice;e.change=100*t/e.closePrice,e.absoluteChange=t}s.push(e)}else if(492===r.byteLength){let e={mode:this.modeFull,token:t,extendedDepth:{buy:[],sell:[]}},i=0,o=r.slice(12,492);for(let t=0;t<40;t++)i=12*t,e.extendedDepth[t<20?"buy":"sell"].push({quantity:this.buf2long(o.slice(i,i+4)),price:this.buf2long(o.slice(i+4,i+8))/n,orders:this.buf2long(o.slice(i+8,i+12))});s.push(e)}else{if(e={mode:this.modeQuote,token:t,isTradeable:!0,volume:this.buf2long(r.slice(16,20)),lastQuantity:this.buf2long(r.slice(8,12)),totalBuyQuantity:this.buf2long(r.slice(20,24)),totalSellQuantity:this.buf2long(r.slice(24,28)),lastPrice:this.buf2long(r.slice(4,8))/n,averagePrice:this.buf2long(r.slice(12,16))/n,openPrice:this.buf2long(r.slice(28,32))/n,highPrice:this.buf2long(r.slice(32,36))/n,lowPrice:this.buf2long(r.slice(36,40))/n,closePrice:this.buf2long(r.slice(40,44))/n},e.change=0,e.absoluteChange=0,0!==e.closePrice){let t=e.lastPrice-e.closePrice;e.change=100*t/e.closePrice,e.absoluteChange=t}if(164===r.byteLength||184===r.byteLength){let t=44;184===r.byteLength&&(t=64);let s=t+120;if(e.mode=this.modeFull,e.depth={buy:[],sell:[]},184===r.byteLength){let t=this.buf2long(r.slice(44,48));e.lastTradedTime=t&&t>0?this.dateToString(new Date(1e3*t)):null,e.oi=this.buf2long(r.slice(48,52)),e.oiDayHigh=this.buf2long(r.slice(52,56)),e.oiDayLow=this.buf2long(r.slice(56,60))}let i=0,o=r.slice(t,s);for(let r=0;r<10;r++)i=12*r,e.depth[r<5?"buy":"sell"].push({price:this.buf2long(o.slice(i+4,i+8))/n,orders:this.buf2long(o.slice(i+8,i+10)),quantity:this.buf2long(o.slice(i,i+4))})}s.push(e)}}}return s}splitPackets(e){let t=this.buf2long(e.slice(0,2)),s=2,r=[];for(let o=0;o<t;o++){var i=this.buf2long(e.slice(s,s+2)),n=e.slice(s+2,s+2+i);r.push(n),s+=2+i}return r}processMessage(e){try{var t=JSON.parse(e)}catch(i){return}if(!t.hasOwnProperty("t")&&!t.hasOwnProperty("type"))return;let s=t.t||t.type,r=t.p||t.data;switch(s){case this.mAlert:case this.mOrderStr:this.eventAlert.trigger(t);break;case this.mMessage:case this.mMessageStr:this.eventMessage.trigger(r);break;case this.mLogout:case this.mLogoutStr:this.eventLogout.trigger();break;case this.mReload:case this.mReloadStr:this.eventReload.trigger();break;case this.mClearCache:case this.mClearCacheStr:if(r)try{let e=JSON.parse(r);this.eventClearCache.trigger(e)}catch(i){}else this.eventClearCache.trigger();break;case this.mGetQuote:this.processQuoteMessage(t.id,r);break}}processQuoteMessage(e,t){let s=this.quoteMap[e];s&&(s.resolve(t),delete this.quoteMap[e])}buf2long(e){let t=new Uint8Array(e),s=0,r=t.length;for(let i=0,n=r-1;i<r;i++,n--)s+=t[n]<<8*i;return s}}var o=n,a=s("39e3");s.d(t,"a",function(){return l});class l{}l.namespace=a["b"],l.Provider=o,l.install=function(e,t){t.store&&t.store.registerModule(this.namespace,a["a"])}},"0e50":function(e,t,s){"use strict";var r=s("3da7"),i=s("d9d2"),n=s("025e"),o=s("b202");function a(e){let t=[],s=[];for(let r of e)-1!==r.status.indexOf("COMPLETE")||-1!==r.status.indexOf("REJECT")||-1!==r.status.indexOf("CANCEL")?s.push(r):t.push(r);return{pendingOrders:t,completedOrders:s}}s.d(t,"b",function(){return c});let l=!0;const c=i["a"],d={orders:null,ordersError:null,pendingOrders:null,completedOrders:null,orderPrefs:Object(o["b"])(c,"orderPrefs")||{},trades:null,tradesError:null,orderFetchStatus:0,tradeFetchStatus:0,gtt:null,gttError:null,gttFetchStatus:0},u={orders:e=>e.orders,ordersError:e=>e.ordersError,pendingOrders:e=>e.pendingOrders,completedOrders:e=>e.completedOrders,orderPrefs:e=>e.orderPrefs,trades:e=>e.trades,tradesError:e=>e.tradesError,orderFetchStatus:e=>e.orderFetchStatus,tradeFetchStatus:e=>e.tradeFetchStatus,gtt:e=>e.gtt,gttError:e=>e.gttError,gttFetchStatus:e=>e.gttFetchStatus},h={setOrders(e,t){e.orders=t;let s=a(t),r=s.pendingOrders,i=s.completedOrders;e.pendingOrders=r,e.completedOrders=i},setOrdersError(e,t){e.ordersError=t},setOrderPrefs(e,t){e.orderPrefs=t,Object(o["d"])(c,"orderPrefs",t)},setTrades(e,t){e.trades=t},setTradesError(e,t){e.tradesError=t},setOrderFetchStatus(e,t){e.orderFetchStatus=t},setTradeFetchStatus(e,t){e.tradeFetchStatus=t},setGTT(e,t){e.gtt=t},setGTTError(e,t){e.gttError=t},setGTTFetchStatus(e,t){e.gttFetchStatus=t}},p={fetchOrders(e){let t=e.commit;e.state;t("setOrderFetchStatus",1);let s=r["a"].getOrders();Object(n["f"])({commit:t,apiPromise:s,data:"setOrders",error:"setOrdersError",status:"setOrderFetchStatus"})},fetchTrades(e){let t=e.commit;e.state;t("setTradeFetchStatus",1);let s=r["a"].getTrades();Object(n["f"])({commit:t,apiPromise:s,data:"setTrades",error:"setTradesError",status:"setTradeFetchStatus"})},fetchGTT(e){let t=e.commit;e.state;t("setGTTFetchStatus",1);let s=r["a"].getGTT();Object(n["f"])({commit:t,apiPromise:s,data:"setGTT",error:"setGTTError",status:"setGTTFetchStatus"})}};t["a"]={state:d,getters:u,mutations:h,actions:p,namespaced:l}},"100e":function(e,t,s){var r=s("cd9d"),i=s("2286"),n=s("c1c9");function o(e,t){return n(i(e,t,r),e+"")}e.exports=o},"1a6d":function(e,t,s){},2286:function(e,t,s){var r=s("85e3"),i=Math.max;function n(e,t,s){return t=i(void 0===t?e.length-1:t,0),function(){var n=arguments,o=-1,a=i(n.length-t,0),l=Array(a);while(++o<a)l[o]=n[t+o];o=-1;var c=Array(t+1);while(++o<t)c[o]=n[o];return c[t]=s(l),r(e,this,c)}}e.exports=n},"2ec1":function(e,t,s){var r=s("100e"),i=s("9aff");function n(e){return r(function(t,s){var r=-1,n=s.length,o=n>1?s[n-1]:void 0,a=n>2?s[2]:void 0;o=e.length>3&&"function"==typeof o?(n--,o):void 0,a&&i(s[0],s[1],a)&&(o=n<3?void 0:o,n=1),t=Object(t);while(++r<n){var l=s[r];l&&e(t,l,r,o)}return t})}e.exports=n},"39e3":function(e,t,s){"use strict";s.d(t,"b",function(){return o});var r=s("5fb0"),i=s("b202");let n=!0;const o="ticker";function a(e,t){let s=e.change||0,r=e.absoluteChange||0;t.closePrice&&(r=e.lastPrice-t.closePrice,s=100*r/t.closePrice);let i=0;return s&&0!==s&&(i=s>0?1:-1),Object.assign({},t,e,{change:s,absoluteChange:r,tickChange:i})}const l={ticks:{},tickerConnectionStatus:r["a"].initial},c={ticks:e=>e.ticks,tickerConnectionStatus:e=>e.tickerConnectionStatus},d={setTick(e,t){let s=t,r=e.ticks[t.token]||{};s=a(t,r),e.ticks=Object.assign({},e.ticks,{[t.token]:s}),Object(i["d"])(o,"ticks",e.ticks)},setTicks(e,t){let s={};for(let r of t){let t=r;if(e.ticks[r.token]){let s=e.ticks[r.token]||{};t=a(r,s)}s[r.token]=t}e.ticks=Object.assign({},e.ticks,s),Object(i["d"])(o,"ticks",e.ticks)},setExtendedTicks(e,t){let s={};for(let r of t){let t=r;if(e.ticks[r.token]){let s=e.ticks[r.token]||{};t=Object.assign({},s,r)}s[r.token]=t}e.ticks=Object.assign({},e.ticks,s),Object(i["d"])(o,"ticks",e.ticks)},dumpTicks(e,t){e.ticks=t,Object(i["d"])(o,"ticks",e.ticks)},setTickerConnectionStatus(e,t){e.tickerConnectionStatus=t}},u={};t["a"]={state:l,getters:c,mutations:d,actions:u,namespaced:n}},"3da7":function(e,t,s){"use strict";var r=s("ba6a"),i=s("5665");function n(e){return e?r["a"].get(Object(i["a"])("orders.info",{orderId:e})):r["a"].get(Object(i["a"])("orders.all"))}function o(){return r["a"].get(Object(i["a"])("trades.all"))}function a(e){return r["a"].get(Object(i["a"])("orders.trades",{orderId:e}))}function l(e){return r["a"].post(Object(i["a"])("orders.place",{variety:e.variety}),e)}function c(e,t){return r["a"].put(Object(i["a"])("orders.modify",{orderId:e,variety:t.variety}),t)}function d(e,t){return r["a"].delete(Object(i["a"])("orders.cancel",{orderId:e,variety:t.variety}),{params:t})}function u(e,t){return r["a"].get(Object(i["a"])("orders.triggerRange",{transactionType:e}),{params:t})}function h(e){return r["a"].post(Object(i["a"])("gtt_orders.place"),e)}function p(e,t){return r["a"].put(Object(i["a"])("gtt_orders.modify",{orderId:e}),t)}function g(e,t){return r["a"].delete(Object(i["a"])("gtt_orders.cancel",{orderId:e}),{params:t})}function f(e){return e?r["a"].get(Object(i["a"])("gtt_orders.info",{orderId:e})):r["a"].get(Object(i["a"])("gtt_orders.all"))}t["a"]={getOrders:n,getTrades:o,getOrderTrades:a,placeOrder:l,cancelOrder:d,modifyOrder:c,getTriggerRange:u,placeGTT:h,modifyGTT:p,deleteGTT:g,getGTT:f}},"4e10":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.orderWindowPosition?s("vue-draggable-resizable",{directives:[{name:"on-escape",rawName:"v-on-escape",value:e.actionOnEscape,expression:"actionOnEscape"}],staticClass:"order-window-draggable",attrs:{w:e.orderWindowPosition.width,h:e.orderWindowPosition.height,resizable:!1,draggable:e.isOrderWindowDraggable,parent:!0}},[s("transition",{attrs:{name:"order-window"}},[e.showOrderWindow&&e.order&&e.order.instrument?s("div",{directives:[{name:"tour",rawName:"v-tour",value:"order",expression:"'order'"}],staticClass:"order-window-cover",class:[e.order.transactionType.toLowerCase(),"variety-"+e.order.variety]},[s("div",{staticClass:"draggable-area",on:{mouseover:e.handleDraggableMouseOver,mouseleave:e.handleDraggableMouseLeave}}),e._v(" "),s("su-form",{ref:"order",staticClass:"order-window",class:[e.order.transactionType.toLowerCase()],on:{submit:function(t){return t.preventDefault(),e.actionOnEnter(t)}}},[s("div",{staticClass:"dock"},[s("span",{staticClass:"icon icon-full"})]),e._v(" "),s("div",{staticClass:"head row",class:[e.order.transactionType.toLowerCase()]},[s("div",{staticClass:"nine columns header-left"},[s("div",{staticClass:"instruments-info"},[s("span",{staticClass:"transaction-type"},[e._v(e._s(e.order.transactionType.toLowerCase()))]),e._v(" "),e.order.instrument&&e.order.instrument.niceName?s("span",{staticClass:"tradingsymbol"},[e._v("\n\t\t\t\t\t\t\t"+e._s(e.order.instrument.niceName)+"\n\t\t\t\t\t\t")]):s("span",[e._v("\n\t\t\t\t\t\t\t"+e._s(e.order.instrument.tradingsymbol)+"\n\t\t\t\t\t\t")]),e._v(" "),s("span",{staticClass:"quantity"},[e._v("× "+e._s(e.order.quantity)+" Qty")]),e._v(" "),e.order.price?s("span",[e._v("\n\t\t\t\t\t\t\tat "),s("span",{staticClass:"price"},[s("span",[e._v("₹")]),e._v(e._s(e.order.price))])]):e._e()]),e._v(" "),s("div",{staticClass:"last-price"},[e._v("\n\t\t\t\t\t\t"+e._s(e._f("inrFormat")(e.order.lastPrice,e.order.instrument.precision,null,!0))+" on "+e._s(e.order.instrument.exchange)+"\n\t\t\t\t\t")])]),e._v(" "),s("div",{staticClass:"three columns text-right header-right"},[s("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"transaction-type-switch",attrs:{title:"Toggle transaction type"}},[s("su-switch",{attrs:{"state-on":"SELL","state-off":"BUY",disabled:!e.constraints.transactionType},on:{change:e.setUIConstraints},model:{value:e.order.transactionType,callback:function(t){e.$set(e.order,"transactionType",t)},expression:"order.transactionType"}})],1),e._v(" "),s("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"info",attrs:{target:"_blank",href:"https://kite.trade/docs/kite/orders/#orders",title:"Help"}},[s("span",{staticClass:"icon icon-info"})])])]),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"row row-1"},[s("div",{staticClass:"four columns"},[s("su-radio-group",{staticClass:"products",on:{change:e.setUIConstraints},model:{value:e.order.product,callback:function(t){e.$set(e.order,"product",t)},expression:"order.product"}},e._l(e.products,function(t,r){return"MIS"===t||e.constraints["equity"]&&"CNC"===t||!e.constraints["equity"]&&"NRML"===t?s("su-radio",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:r,staticClass:"product",attrs:{title:e.productLabels[t],disabled:e.order.modify||!e.constraints[t],label:t,value:t,rules:e.rules.product}},[e._v(e._s(t))]):e._e()}),1)],1),e._v(" "),s("div",{staticClass:"eight columns text-right"},[s("su-radio-group",{staticClass:"order-types",on:{change:e.setUIConstraints},model:{value:e.order.orderType,callback:function(t){e.$set(e.order,"orderType",t)},expression:"order.orderType"}},e._l(e.orderTypes,function(t,r){return s("su-radio",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:r,staticClass:"order-type",attrs:{title:e.orderTypeLabels[t],disabled:!e.constraints[t],label:t,value:t,rules:e.rules.orderType}},[e._v(e._s(t))])}),1)],1)]),e._v(" "),s("div",{staticClass:"row row-2"},[s("div",{staticClass:"quantity input-field three columns",attrs:{prop:"quantity"}},[s("su-input",{attrs:{type:"number",min:e.order.instrument.lotSize,rules:e.rules.quantity,step:e.order.instrument.lotSize,disabled:!e.constraints.quantity,"static-label":"","no-error":"",label:"Qty."},model:{value:e.order.quantity,callback:function(t){e.$set(e.order,"quantity",t)},expression:"order.quantity"}})],1),e._v(" "),s("div",{staticClass:"price input-field three columns",attrs:{prop:"price"}},[s("su-input",{attrs:{type:"number",min:0,step:e.order.instrument.tickSize,rules:e.rules.price,disabled:!e.constraints.price,"static-label":"","no-error":"",label:"Price"},model:{value:e.order.price,callback:function(t){e.$set(e.order,"price",t)},expression:"order.price"}})],1),e._v(" "),s("div",{staticClass:"trigger-price input-field three columns",attrs:{prop:"triggerPrice"}},[s("su-input",{attrs:{type:"number",min:0,step:e.order.instrument.tickSize,rules:e.rules.triggerPrice,disabled:!e.constraints.triggerPrice,"static-label":"","no-error":"",label:"Trigger price"},model:{value:e.order.triggerPrice,callback:function(t){e.$set(e.order,"triggerPrice",t)},expression:"order.triggerPrice"}}),e._v(" "),e.order.triggerRange&&"co"===e.order.variety?s("span",{staticClass:"text-xxsmall"},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"dim",attrs:{title:"CO trigger range"}},[e._v("Trg.")]),e._v(" "+e._s(e.order.triggerRange.lower)+" - "+e._s(e.order.triggerRange.upper)+"\n\t\t\t\t\t\t")]):e._e()],1),e._v(" "),e.constraints.disclosedQuantity?s("div",{staticClass:"disclosed-quantity input-field three columns",attrs:{prop:"disclosedQuantity"}},[s("su-input",{attrs:{type:"number",min:0,step:e.order.instrument.lotSize,rules:e.rules.disclosedQuantity,disabled:!e.constraints.disclosedQuantity,"static-label":"","no-error":"",label:"Disclosed qty."},model:{value:e.order.disclosedQuantity,callback:function(t){e.$set(e.order,"disclosedQuantity",t)},expression:"order.disclosedQuantity"}})],1):e._e()]),e._v(" "),e.order.variety===e.constants.VARIETY.BO&&e.order.place?s("div",{staticClass:"row row-3"},[s("div",{staticClass:"stoploss-price input-field three columns",attrs:{label:"Stoploss",prop:"stoploss"}},[s("su-input",{attrs:{type:"number",rules:e.rules.stoploss,min:0,step:e.order.instrument.tickSize,label:"Stoploss","static-label":"","no-error":""},model:{value:e.order.stoploss,callback:function(t){e.$set(e.order,"stoploss",t)},expression:"order.stoploss"}})],1),e._v(" "),s("div",{staticClass:"squareoff-price input-field three columns",attrs:{label:"Target",prop:"squareoff"}},[s("su-input",{attrs:{type:"number",rules:e.rules.squareoff,min:0,step:e.order.instrument.tickSize,label:"Target","static-label":"","no-error":""},model:{value:e.order.squareoff,callback:function(t){e.$set(e.order,"squareoff",t)},expression:"order.squareoff"}})],1),e._v(" "),s("div",{staticClass:"trailing-stoploss-price input-field three columns",attrs:{label:"Trailing stoploss",prop:"trailingStoploss"}},[s("su-input",{attrs:{type:"number",rules:e.rules.trailingStoploss,min:e.order.minimumTrailingStoploss,step:e.order.instrument.tickSize,label:"Trailing stoploss","static-label":"","no-error":""},model:{value:e.order.trailingStoploss,callback:function(t){e.$set(e.order,"trailingStoploss",t)},expression:"order.trailingStoploss"}})],1)]):e._e(),e._v(" "),e.isGTT?s("div",{staticClass:"row row-gtt-wrapper"},[s("span",{staticClass:"text-xxsmall dim"},[e._v("\n\t\t\t\t\t\t\tAutomatically create a GTT for the position on order completion. "),s("a",{attrs:{href:"https://support.zerodha.com/category/trading-and-markets/gtt/articles/what-is-the-good-till-triggered-gtt-feature",target:"_blank"}},[e._v("Learn more")]),e._v(".\n\t\t\t\t\t\t")]),e._v(" "),s("div",{staticClass:"row-gtt"},[s("img",{staticClass:"gtt-logo",attrs:{alt:"GTT logo",src:"/static/images/gtt-logo.svg"}}),e._v(" "),s("span",{staticClass:"trigger-picker stoploss"},[s("su-checkbox",{attrs:{label:"Set stoploss",disabled:!e.order.place},on:{input:e.onGTTStoplossField},model:{value:e.gttStoplossField,callback:function(t){e.gttStoplossField=t},expression:"gttStoplossField"}}),e._v(" "),s("div",{staticClass:"trigger-picker-input",class:{disabled:!e.gttStoplossField}},[s("su-input",{attrs:{disabled:!e.order.place||!e.gttStoplossField,type:"number",max:0,step:.01,rules:e.rules.gttStoploss,"dynamic-width":"","dynamic-width-size":8,"no-error":""},model:{value:e.gtt.stoploss,callback:function(t){e.$set(e.gtt,"stoploss",t)},expression:"gtt.stoploss"}}),e.gttStoplossField?s("span",[e._v("%")]):e._e()],1)],1),e._v(" "),s("span",{staticClass:"trigger-picker"},[s("su-checkbox",{attrs:{label:"Set target",disabled:!e.order.place},on:{input:e.onGTTTargetField},model:{value:e.gttTargetField,callback:function(t){e.gttTargetField=t},expression:"gttTargetField"}}),e._v(" "),s("div",{staticClass:"trigger-picker-input",class:{disabled:!e.gttTargetField}},[s("su-input",{attrs:{disabled:!e.order.place||!e.gttTargetField,type:"number",min:0,step:.01,rules:e.rules.gttTarget,"dynamic-width":"","dynamic-width-size":8,"no-error":""},model:{value:e.gtt.target,callback:function(t){e.$set(e.gtt,"target",t)},expression:"gtt.target"}}),e.gttTargetField?s("span",[e._v("%")]):e._e()],1)],1)])]):e._e(),e._v(" "),s("div",{staticClass:"row row-4"},[s("div",{staticClass:"advanced-options-toggle seven columns"},[e.showPOAAgree?s("div",{staticClass:"poa-agreement"},[s("su-checkbox",{attrs:{label:""},model:{value:e.isPOAAgreed,callback:function(t){e.isPOAAgreed=t},expression:"isPOAAgreed"}}),e._v(" "),s("p",{staticClass:"text-xxsmall disclaimer"},[s("span",{on:{click:e.togglePOAAgree}},[e._v("I agree to the debit of shares from my demat account for this trade. ")]),e._v(" "),s("a",{attrs:{target:"_blank",href:"https://zerodha.com/tos/online-dis-consent/"}},[e._v("More info.")])])],1):e._e(),e._v(" "),e.showAdvancedOptions?e._e():s("a",{staticClass:"advanced-options-open",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.showAdvanced()}}},[e._v("More options "),s("span",{staticClass:"icon icon-chevron-down text-xsmall"})]),e._v(" "),e.showAdvancedOptions?s("div",{attrs:{prop:"variety"}},[s("su-radio-group",{staticClass:"varieties",on:{change:e.setUIConstraints},model:{value:e.order.variety,callback:function(t){e.$set(e.order,"variety",t)},expression:"order.variety"}},e._l(e.varieties,function(t,r){return e.constraints[t]?s("su-radio",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:r,staticClass:"variety",attrs:{title:e.varietyLabels[t],disabled:e.order.modify,label:t,value:t}},[e._v(e._s(t))]):e._e()}),1)],1):e._e(),e._v(" "),e.showAdvancedOptions?s("div",{staticClass:"advanced-options"},[s("div",{staticClass:"row row-5"},[s("div",{staticClass:"tweleve columns"},[s("div",{attrs:{prop:"validity"}},[s("su-radio-group",{staticClass:"validities",on:{change:e.setUIConstraints},model:{value:e.order.validity,callback:function(t){e.$set(e.order,"validity",t)},expression:"order.validity"}},e._l(e.validities,function(t,r){return s("su-radio",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:r,staticClass:"validity",attrs:{title:e.validityLabels[t],label:t,value:t,disabled:!e.constraints[t]}},[e._v(e._s(t))])}),1)],1)])])]):e._e()]),e._v(" "),s("div",{staticClass:"actions five columns text-right"},[e.order.place?s("su-button",{staticClass:"place",class:["buy"==e.order.transactionType.toLowerCase()?"button-blue":"button-orange"],attrs:{type:"submit",processing:e.order.loading,disabled:e.isPlaceDisabled},nativeOn:{click:function(t){return t.preventDefault(),e.placeOrder()}}},[e.order.label?s("span",[e._v(e._s(e.order.label))]):e._e(),e._v(" "),e.order.label||"BUY"!==e.order.transactionType?e._e():s("span",[e._v("Buy")]),e._v(" "),e.order.label||"SELL"!==e.order.transactionType?e._e():s("span",[e._v("Sell")])]):e._e(),e._v(" "),e.order.modify?s("su-button",{staticClass:"modify",class:["buy"==e.order.transactionType.toLowerCase()?"button-blue":"button-orange"],attrs:{type:"submit",processing:e.order.loading},nativeOn:{click:function(t){return t.preventDefault(),e.modifyOrder()}}},[e.order.label?s("span",[e._v(e._s(e.order.label))]):s("span",[e._v("Modify")])]):e._e(),e._v(" "),s("su-button",{staticClass:"button-outline cancel",attrs:{disabled:e.order.loading},nativeOn:{click:function(t){return t.preventDefault(),e.hide()}}},[e._v("Cancel")])],1)]),e._v(" "),e.errors&&e.errors.length>0?s("div",{staticClass:"errors"},e._l(e.errors,function(t,r){return s("p",{key:r},[e._v(e._s(t))])}),0):e._e()])])],1):e._e()])],1):e._e()},i=[],n=s("9dcd"),o=s.n(n),a=s("a9b9"),l=s.n(a),c=s("5fb0"),d=s("2f62"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vdr",class:{draggable:e.draggable,active:e.active},style:e.style,on:{mousedown:e.elmDown}},[e._t("default")],2)},h=[],p={replace:!0,name:"vue-draggable-resizable",props:{draggable:{type:Boolean,default:!0},w:{type:Number,default:200,validator:function(e){return e>0}},h:{type:Number,default:200,validator:function(e){return e>0}},minw:{type:Number,default:50,validator:function(e){return e>0}},minh:{type:Number,default:50,validator:function(e){return e>0}},x:{type:Number,default:0,validator:function(e){return e>=0}},y:{type:Number,default:0,validator:function(e){return e>=0}},axis:{type:String,default:"both",validator:function(e){return-1!==["x","y","both"].indexOf(e)}},grid:{type:Array,default:function(){return[1,1]}},parent:{type:Boolean,default:!1}},created:function(){this.parentX=0,this.parentW=9999,this.parentY=0,this.parentH=9999,this.mouseX=0,this.mouseY=0,this.lastMouseX=0,this.lastMouseY=0,this.mouseOffX=0,this.mouseOffY=0,this.elmX=0,this.elmY=0,this.elmW=0,this.elmH=0},mounted:function(){if(document.documentElement.addEventListener("mousemove",this.handleMove,!0),document.documentElement.addEventListener("mouseup",this.handleUp,!0),this.minw>this.w&&(this.width=this.minw),this.minh>this.h&&(this.height=this.minh),this.parent){const e=parseInt(window.innerWidth,10),t=parseInt(window.innerHeight,10);this.parentW=e,this.parentH=t,this.w>this.parentW&&(this.width=e),this.h>this.parentH&&(this.height=t),this.x+this.w>this.parentW&&(this.width=e-this.x),this.y+this.h>this.parentH&&(this.height=t-this.y)}},beforeDestroy:function(){document.documentElement.removeEventListener("mousemove",this.handleMove,!0),document.documentElement.removeEventListener("mouseup",this.handleUp,!0)},data:function(){return{top:this.y,left:this.x,width:this.w,height:this.h,dragging:!1,active:!1,opacity:1,handle:null,zIndex:1,setToBottom:!0}},watch:{w(e){this.width=e},h(e,t){this.height=e,this.setToBottom&&this.height>10&&(this.top=this.parentH-this.height)}},methods:{pauseEvent:function(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1},elmDown:function(e){this.active||(this.zIndex+=1,this.active=!0,this.$emit("activated")),this.elmX=parseInt(this.$el.style.left),this.elmY=parseInt(this.$el.style.top),this.elmW=this.$el.offsetWidth||this.$el.clientWidth,this.elmH=this.$el.offsetHeight||this.$el.clientHeight,this.draggable&&(this.pauseEvent(e),this.opacity=.6,this.dragging=!0)},handleMove:function(e){this.mouseX=e.pageX||e.clientX+document.documentElement.scrollLeft,this.mouseY=e.pageY||e.clientY+document.documentElement.scrollTop;let t=this.mouseX-this.lastMouseX+this.mouseOffX,s=this.mouseY-this.lastMouseY+this.mouseOffY;this.mouseOffX=this.mouseOffY=0,this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY;let r=t,i=s;this.dragging&&(this.elmX+r<this.parentX?this.mouseOffX=r-(t=this.parentX-this.elmX):this.elmX+this.elmW+r>this.parentW&&(this.mouseOffX=r-(t=this.parentW-this.elmX-this.elmW)),this.elmY+i<this.parentY?this.mouseOffY=i-(s=this.parentY-this.elmY):this.elmY+this.elmH+i>this.parentH&&(this.mouseOffY=i-(s=this.parentH-this.elmY-this.elmH)),this.elmX+=t,this.elmY+=s,"x"!==this.axis&&"both"!==this.axis||(this.left=Math.round(this.elmX/this.grid[0])*this.grid[0]),"y"!==this.axis&&"both"!==this.axis||(this.top=Math.round(this.elmY/this.grid[1])*this.grid[1]),this.setToBottom=!1,this.parentH-this.height===this.top&&(this.setToBottom=!0),this.$emit("dragging",this.left,this.top))},handleUp:function(e){this.handle=null,this.dragging&&(this.dragging=!1,this.$emit("dragstop",this.left,this.top)),this.opacity=1,this.elmX=this.left,this.elmY=this.top}},computed:{style:function(){return{top:this.top+"px",left:this.left+"px",width:this.width+"px",height:this.height+"px",zIndex:this.zIndex,opacity:this.opacity}}}},g=p,f=(s("7daa"),s("2877")),m=Object(f["a"])(g,u,h,!1,null,"130adaec",null),b=m.exports,y=s("39e3"),v=s("d1de"),T=s("b202"),O=s("3da7"),S=s("0e50"),E=s("d9d2");class w{constructor(){this.tags=["product","orderType","regular","amo","bo","co","BUY","SELL","MARKET","LIMIT","SL","SL-M","DAY","IOC","NRML","MIS","CNC","NSE","BSE","NFO","BFO","CDS","MCX","quantity","price","triggerPrice","disclosedQuantity","equity","lotSize","transactionType","suqareoff","stoploss","trailingStoploss"],this.items=[]}add(e){-1===this.items.indexOf(e)&&this.items.push(e)}addMany(e){for(let t of e)this.add(t)}delete(e){var t=this.items.indexOf(e);t>-1&&this.items.splice(t,1)}flush(){this.items=[]}has(e){return-1!==this.items.indexOf(e)}compute(){var e={};for(let t of this.tags)e[t]=!0;return e["suqareoff"]=!1,e["stoploss"]=!1,e["trailingStoploss"]=!1,this.has("NSE")||this.has("BSE")?(e["lotSize"]=!1,e["NRML"]=!1):(e["equity"]=!1,e["CNC"]=!1),this.has("MCX")&&(e["bo"]=!1),(this.has("NFO")||this.has("BFO"))&&(e["disclosedQuantity"]=!1),this.has("IOC")&&(e["disclosedQuantity"]=!1),this.has("MARKET")?(e["price"]=!1,e["triggerPrice"]=!1):this.has("LIMIT")?e["triggerPrice"]=!1:this.has("SL-M")&&(e["price"]=!1),(this.has("bo")||this.has("co"))&&(e["IOC"]=!1,e["disclosedQuantity"]=!1,e["product"]=!1,e["CNC"]=!1,e["NRML"]=!1,e["MIS"]=!1,this.has("modify")&&this.has("parentOrderId")&&(e["quantity"]=!1)),this.has("co")&&(this.has("modify")?this.has("modify")&&(e["MARKET"]=!1,e["LIMIT"]=!1,e["SL"]=!1,e["SL-M"]=!1):(e["SL"]=!1,e["SL-M"]=!1,e["triggerPrice"]=!0)),this.has("bo")&&(this.has("modify")?this.has("modify")&&(e["orderType"]=!1,e["MARKET"]=!1,e["LIMIT"]=!1,e["SL-M"]=!1,e["SL"]=!1,this.has("SL")&&(e["price"]=!1)):(e["stoploss"]=!0,e["suqareoff"]=!0,e["trailingStoploss"]=!0,e["SL-M"]=!1,e["MARKET"]=!1)),this.has("place")&&(e["place"]=!0,e["modify"]=!1),this.has("modify")&&(e["modify"]=!0,e["place"]=!1,e["transactionType"]=!1,this.has("co")&&(e["quantity"]=!1)),e}}var C=s("025e");function P(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function k(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?P(s,!0).forEach(function(t){_(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):P(s).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function _(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const R={[E["b"].PRODUCT.MIS]:"Intraday squareoff with extra leverage",[E["b"].PRODUCT.CNC]:"Cash and carry. Delivery based trades",[E["b"].PRODUCT.NRML]:"Overnight positions without additional leverage"},A={[E["b"].ORDER_TYPE.MARKET]:"Market",[E["b"].ORDER_TYPE.LIMIT]:"Limit",[E["b"].ORDER_TYPE.SL]:"Stoploss",[E["b"].ORDER_TYPE.SLM]:"Stoploss market"},M={[E["b"].VARIETY.REGULAR]:"Regular order",[E["b"].VARIETY.AMO]:"After market order",[E["b"].VARIETY.BO]:"Bracket order",[E["b"].VARIETY.CO]:"Cover order"},I={[E["b"].VALIDITY.DAY]:"Day",[E["b"].VALIDITY.IOC]:"Immediate or cancel"};function D(){return{validities:E["b"].VALIDITIES,products:E["b"].PRODUCTS,varieties:E["b"].VARIETIES,orderTypes:E["b"].ORDER_TYPES,productLabels:R,orderTypeLabels:A,varietyLabels:M,validityLabels:I,showAdvancedOptions:!1,gtt:{target:null,stoploss:null},order:{transactionTypeModel:!0,transactionType:"BUY",instrument:null,tradingsymbol:null,exchange:null,quantity:1,filledQuantity:0,disclosedQuantity:0,price:0,lastPrice:0,triggerPrice:0,triggerRange:null,stoploss:"",squareoff:"",trailingStoploss:"",minimumTrailingStoploss:0,product:E["b"].PRODUCT.CNC,validity:E["b"].VALIDITY.DAY,variety:E["b"].VARIETY.REGULAR,orderType:E["b"].ORDER_TYPE.MARKET,place:!1,modify:!1,loading:!1,orderId:null,parentOrderId:null,disableAPI:!1,label:null,uid:null,instrumentToken:null,data:null,userId:null,tag:"null",gtt:null}}}var x={name:"order-window",components:{"vue-draggable-resizable":b},inject:["ticker","instrumentManager"],data(){let e=(e,t)=>{if(t=parseInt(t),t>this.order.quantity)return new Error(e.label+" can't be higher than qty. ")},t=(e,t)=>{if(t=parseFloat(t),this.order.orderType===E["b"].ORDER_TYPE.SL||this.order.place&&this.order.variety===E["b"].VARIETY.CO&&this.order.orderType===E["b"].ORDER_TYPE.LIMIT){if(this.order.transactionType===E["b"].TRANSACTION_TYPE.BUY&&t>this.order.price)return new Error(e.label+" can't be higher than price. ");if(this.order.transactionType===E["b"].TRANSACTION_TYPE.SELL&&t<this.order.price)return new Error(e.label+" can't be lesser than price. ")}},s=(e,t)=>{if(t=parseFloat(t),isNaN(t))return new Error(e.label+" is invalid.");try{if(!o()(t).mod(o()(this.order.instrument.tickSize)).eq(o()(0)))return new Error(e.label+" should be a multiple of "+this.order.instrument.tickSize)}catch(s){return new Error(e.label+" is invalid.")}},r=(e,t)=>{t=parseInt(t);try{if(t%this.order.instrument.lotSize!==0)return new Error(e.label+" should be a multiple of "+this.order.instrument.lotSize)}catch(s){return new Error(e.label+" is invalid.")}},i=(e,t)=>{t=parseFloat(t);try{if(t<=0)return new Error(e.label+" should be greater than 0")}catch(s){return new Error(e.label+" is invalid.")}},n=(e,t)=>{if(t=parseFloat(t),this.order.variety===E["b"].VARIETY.BO)try{if(t&&0!==t&&t<this.order.minimumTrailingStoploss)return new Error(e.label+" should be minimum "+this.order.minimumTrailingStoploss)}catch(s){return new Error(e.label+" is invalid.")}},a=(e,t)=>{let s=/^\d+$/;if(!s.exec(t))return new Error(e.label+" is invalid.")},c=e=>{return Math.floor(e)===e?0:e.toString().split(".")[1].length||0},d=(e,t)=>{if(this.gttStoplossField)try{if(t=parseFloat(t),t&&t>0)return new Error(e.label+" percent should be less than 0");if(!t)return new Error(e.label+" is invalid.");if(t&&c(t)>2)return new Error(e.label+" percent should be multiple of 0.01")}catch(s){return new Error(e.label+" is invalid.")}},u=(e,t)=>{if(this.gttTargetField)try{if(t=parseFloat(t),t&&t<=0)return new Error(e.label+" percent should be greater than 0");if(!t)return new Error(e.label+" is invalid.");if(t&&c(t)>2)return new Error(e.label+" percent should be multiple of 0.01")}catch(s){return new Error(e.label+" is invalid.")}},h={isPOAAgreed:!1,gttStoplossField:!1,gttTargetField:!1,errors:[],showOrderWindow:!1,constraints:null,receivedParams:null,constants:E["b"],fetchingTriggerRange:!1,orderWindowPosition:null,isOrderWindowDraggable:!1,rules:{quantity:[{type:"number",required:!0,message:"Quantity is required"},{validator:a,label:"Quantity is not multiple of 1"},{validator:r,label:"Quantity"}],disclosedQuantity:[{validator:e,label:"Disclosed quantity"},{validator:r,label:"Disclosed quantity"}],price:[{validator:s,label:"Price"}],triggerPrice:[{validator:t,label:"Trigger price"},{validator:s,label:"Trigger price"}],squareoff:[{type:"number",required:!0,message:"Target is required"},{validator:s,label:"Target"},{validator:i,label:"Target"}],stoploss:[{type:"number",required:!0,message:"Stoploss is required"},{validator:s,label:"Stoploss"},{validator:i,label:"Stoploss"}],trailingStoploss:[{validator:s,label:"Trailing stoploss"},{validator:n,label:"Trailing stoploss"}],product:[{type:"string",required:!0,message:"Product is required"}],variety:[{type:"string",required:!0,message:"Variety is required"}],orderType:[{type:"string",required:!0,message:"Order types is required"}],validity:[{type:"string",required:!0,message:"Order validity is required"}],gttStoploss:[{validator:d,label:"GTT stoploss"}],gttTarget:[{validator:u,label:"GTT target"}]},keyboardShortcutEvents:[{keys:["13"],cb:this.actionOnEnter,stop:!0,prevent:!0,ignoreInput:!1}]};return l()(h,D())},created(){this.$events.on(E["b"].EVENTS.ORDER_PLACE,this.initPlaceOrder),this.$events.on(E["b"].EVENTS.ORDER_MODIFY,this.initModifyOrder)},mounted(){Object(C["j"])("resize","optimizedResize"),window.addEventListener("optimizedResize",this.adjustDraggable),this.isMobile&&(this.isOrderWindowDraggable=!1),this.$nextTick(()=>{this.adjustDraggable()})},beforeDestroy(){window.removeEventListener("optimizedResize",this.adjustDraggable),this.$events.off(E["b"].EVENTS.ORDER_PLACE),this.$events.off(E["b"].EVENTS.ORDER_MODIFY),this.$events.off(E["b"].EVENTS.ORDER_CANCEL)},deactivated(){this.errors=[]},computed:k({},Object(d["c"])(["isMobile"]),{},Object(d["c"])(S["b"],["orderPrefs"]),{},Object(d["c"])(y["b"],["ticks","tickerConnectionStatus"]),{},Object(d["c"])(v["b"],["profile","userId"]),{showPOAAgree(){return this.profile&&this.profile.meta&&"consent"===this.profile.meta.poa&&this.order&&this.order.product===E["b"].PRODUCT.CNC&&this.order.transactionType===E["b"].TRANSACTION_TYPE.SELL},isPlaceDisabled(){return this.showPOAAgree&&!this.isPOAAgreed},isGTT(){return this.order&&this.order.product===E["b"].PRODUCT.CNC&&this.instrumentManager.IsEquity(this.order.instrument.exchange)&&this.order.transactionType===E["b"].TRANSACTION_TYPE["BUY"]&&this.order.variety===E["b"].VARIETY.REGULAR}}),watch:{ticks(e){this.order.instrumentToken&&this.showOrderWindow&&e[this.order.instrumentToken]&&(this.order.lastPrice=e[this.order.instrumentToken].lastPrice)}},methods:k({},Object(d["d"])(S["b"],["setOrderPrefs"]),{hide(){this.errors=[],this.showAdvancedOptions=!1,this.showOrderWindow=!1,this.$nextTick(()=>{this.resetOrderWindowPosition()}),this.order.instrumentToken&&this.unsubscribeTicks(this.order.instrumentToken)},show(){this.showOrderWindow=!0,this.resetOrderLoading();let e=Object(T["b"])("","is_poa_agreed",T["c"])||!1;e&&(this.isPOAAgreed=!0),this.$nextTick(()=>{this.focusQuantityField(),this.adjustDraggable()})},focusQuantityField(){const e=this.$el.getElementsByClassName("quantity input-field")[0].getElementsByTagName("input")[0];e.focus(),e.select()},actionOnEnter(e){this.order&&this.order.place?this.placeOrder():this.order&&this.order.modify&&this.modifyOrder()},actionOnEscape(e){this.hide()},setOrderLoading(){this.order.loading=!0},resetOrderLoading(){this.order.loading=!1},apiOrderPlace(e){O["a"].placeOrder(e).then(e=>{this.orderPlaceCallback(e,null)}).catch(e=>{this.orderPlaceCallback(null,e)})},apiOrderModify(e,t){O["a"].modifyOrder(e,t).then(e=>{this.orderModifyCallback(e,null)}).catch(e=>{this.orderModifyCallback(null,e)})},orderPlaceCallback(e,t){if(e){let t=e.data.data.order_id;this.$events.emit(E["b"].EVENTS.ORDER_PLACE_SUCCESS,k({},this.order,{orderId:t})),this.$toast.info({class:"order-toast",title:"Placed",message:this.order.transactionType+" "+this.order.instrument.tradingsymbol+" is placed.<br />Check the orderbook for status.<br /><span class='order-id'>#"+e.data.data.order_id+"</span>",orientation:this.$toast.BOTTOM_RIGHT,update:!1,id:e.data.data.order_id,onClick:()=>{this.$router.push({name:"orders"})}})}else if(t){let e=Object(C["g"])(t);if(this.$events.emit(E["b"].EVENTS.ORDER_PLACE_ERROR,k({},this.order,{error:e})),502!==e.status_code&&503!==e.status_code&&504!==e.status_code)return this.$toast.error({title:"Error",message:e.message,orientation:this.$toast.BOTTOM_RIGHT,duration:6e3}),void this.show();{"orders"===this.$route.name&&this.$events.emit(c["c"].EVENTS.refetch+this.$route.name);let t=e.message+"<br />Please check the orderbook before placing the order again.";this.$toast.warning({title:"Error",message:t,orientation:this.$toast.BOTTOM_RIGHT,duration:6e3})}}this.hide()},orderModifyCallback(e,t){if(e)this.$events.emit(E["b"].EVENTS.ORDER_MODIFY_SUCCESS,this.order),this.$toast.success({title:"Request sent",message:"Order modification request has been sent.",orientation:this.$toast.BOTTOM_RIGHT});else if(t){let e=Object(C["g"])(t);return this.$events.emit(E["b"].EVENTS.ORDER_MODIFY_ERROR,k({},this.order,{error:e})),this.$toast.error({title:"Error",message:e.message,orientation:this.$toast.BOTTOM_RIGHT}),void this.show()}this.hide()},orderCancelCallback(e,t){if(e){let t=e&&e.data&&e.data.data;this.$events.emit(E["b"].EVENTS.ORDER_CANCEL_SUCCESS,t)}else if(t){let e=Object(C["g"])(t);this.$events.emit(E["b"].EVENTS.ORDER_CANCEL_ERROR,e)}},orderApiParams(e){let t={exchange:e.instrument.exchange.toUpperCase(),tradingsymbol:e.instrument.tradingsymbol.toUpperCase(),transaction_type:e.transactionType.toUpperCase(),order_type:e.orderType.toUpperCase(),quantity:parseInt(e.quantity).toString(),price:parseFloat(e.price||0).toString(),product:e.product.toUpperCase(),validity:e.validity.toUpperCase(),disclosed_quantity:parseInt(e.disclosedQuantity||0).toString(),trigger_price:parseFloat(e.triggerPrice||0).toString(),squareoff:parseFloat(e.squareoff||0).toString(),stoploss:parseFloat(e.stoploss||0).toString(),trailing_stoploss:parseFloat(e.trailingStoploss||0).toString(),variety:e.variety||"regular",user_id:e.userId||this.userId};if(this.gtt&&(this.gtt.stoploss||this.gtt.target)){let e=[],s=1;this.gtt.stoploss&&e.push([s,parseFloat(this.gtt.stoploss)]),this.gtt.target&&e.push([s,parseFloat(this.gtt.target)]),t.gtt_params=JSON.stringify(e)}return e.modify&&(t.order_id=e.orderId,t.parent_order_id=e.parent_order_id,t.quantity=(parseInt(e.quantity)+(parseInt(e.filledQuantity)||0)).toString()),t},initOrder(e,t){let s=e.instrument&&e.instrument.instrumentToken||e.instrumentToken;s&&(e.instrumentToken=s,this.subscribeTicks(s)),"place"===t?(e.place=!0,e.modify=!1):"modify"===t&&(e.modify=!0,e.place=!1),this.receivedParams=e,this.setOrderParams(this.$clone(e),t),this.setUIConstraints(),this.gtt.target=null,this.gtt.stoploss=null,this.gttStoplossField=!1,this.gttTargetField=!1,e.gtt?(e.gtt.target&&(this.gttTargetField=!0,this.gtt.target=e.gtt.target),e.gtt.stoploss&&(this.gttStoplossField=!0,this.gtt.stoploss=e.gtt.stoploss)):(this.gtt.stoploss=null,this.gtt.target=null,this.order.gtt=null)},initPlaceOrder(e){e=this.$clone(e),this.initOrder(e,"place"),this.show()},initModifyOrder(e){e=this.$clone(e),this.initOrder(e,"modify"),this.show()},placeOrder(){let e="order";if(this.$refs[e]&&!this.$refs[e].validate())return this.errors=this.$refs[e].errors,void this.$nextTick(()=>this.adjustDraggable());this.order.loading||(this.setOrderLoading(),this.order.disableAPI?(this.$events.emit(E["b"].EVENTS.ORDER_PLACE_SUCCESS,this.order),this.hide()):this.apiOrderPlace(this.orderApiParams(this.order))),this.showPOAAgree&&this.isPOAAgreed&&Object(T["d"])("","is_poa_agreed",!0,T["c"])},modifyOrder(){let e="order";if(this.$refs[e]&&!this.$refs[e].validate())return this.errors=this.$refs[e].errors,void this.$nextTick(()=>this.adjustDraggable());this.order.loading||(this.setOrderLoading(),this.order.disableAPI?(this.$events.emit(E["b"].EVENTS.ORDER_MODIFY_SUCCESS,this.order),this.hide()):this.apiOrderModify(this.order.orderId,this.orderApiParams(this.order)))},fetchTriggerRange(e){if(this.order.variety!==E["b"].VARIETY.CO)return;this.fetchingTriggerRange=!0;let t=e.transactionType;!0===e.modify&&(t=E["b"].TRANSACTION_TYPE.BUY===e.transactionType?E["b"].TRANSACTION_TYPE.SELL:E["b"].TRANSACTION_TYPE.BUY);let s=e.instrument.exchange+":"+e.instrument.tradingsymbol,r={i:s};O["a"].getTriggerRange(t.toLowerCase(),r).then(e=>{this.fetchingTriggerRange=!1,e&&e.data&&e.data.data&&e.data.data[s]&&this.$set(this.order,"triggerRange",e.data.data[s])}).catch(()=>{this.fetchingTriggerRange=!1})},setOrderParams(e,t){let s=D();for(let r in e)e.hasOwnProperty(r)&&this.order.hasOwnProperty(r)&&(this.order[r]=e[r]||this.orderPrefs[r]||s.order[r]);"modify"===t&&(this.order.quantity=this.order.quantity-(this.order.filledQuantity||0)),this.order.minimumTrailingStoploss=this.order.instrument.exchange===E["b"].EXCHANGES.CDS?.05:1,this.order.price||(this.order.price=0),this.order.triggerPrice||this.order.trigger_price||(this.order.triggerPrice=0,this.order.trigger_price=0)},setTransactionType(e){this.order.transactionType=e?"BUY":"SELL"},showAdvanced(){this.showAdvancedOptions=!0,this.$nextTick(()=>this.adjustDraggable())},setUIConstraints(){let e=new w,t=this.order.product;if(-1===E["b"].PRODUCTS.indexOf(t)&&(t=t.toLowerCase()),e.addMany([this.order.orderType,t,this.order.variety,this.order.validity,this.order.place&&"place",this.order.modify&&"modify",this.order.parentOrderId&&"parentOrderId"]),this.order.instrument&&e.addMany([this.order.instrument.exchange.toUpperCase(),this.order.instrument.segment.toUpperCase()]),this.constraints=e.compute(),this.setPriceConstraints(),this.setProductConstaints(),this.setVarietyConstraints(),this.order.disclosedQuantity=this.constraints.disclosedQuantity&&this.order.disclosedQuantity||0,!this.constraints[this.order.orderType])for(let s of E["b"].ORDER_TYPES)if(this.constraints[s]){this.order.orderType=s;break}this.order.variety===E["b"].VARIETY.CO&&this.fetchTriggerRange(this.order),(this.order.variety&&this.order.variety!==E["b"].VARIETY.REGULAR||this.order.validity&&this.order.validity!==E["b"].VALIDITY.DAY)&&this.showAdvanced(),this.setOrderPrefs({product:this.order.product,validity:this.order.validity,variety:this.order.variety,orderType:this.order.orderType}),this.$nextTick(()=>{this.adjustDraggable()})},setProductConstaints(){let e=this.order.instrument.exchange;e!==E["b"].EXCHANGES.NSE&&e!==E["b"].EXCHANGES.BSE||this.order.product!==E["b"].PRODUCT.NRML||(this.order.product=E["b"].PRODUCT.CNC),e!==E["b"].EXCHANGES.NSE&&e!==E["b"].EXCHANGES.BSE&&this.order.product===E["b"].PRODUCT.CNC&&(this.order.product=E["b"].PRODUCT.NRML)},setPriceConstraints(){let e=D(),t=this.order.price||this.order.lastPrice||e.order.price,s=this.order.triggerPrice||this.order.lastPrice||e.order.triggerPrice;this.order.modify?(this.order.price=this.receivedParams.price||t||0,this.order.triggerPrice=this.receivedParams.triggerPrice||t||0):(this.order.price=this.constraints.price&&t||0,this.order.triggerPrice=this.constraints.triggerPrice&&s||0)},setVarietyConstraints(){this.order.variety===E["b"].VARIETY.BO?(this.order.product=E["b"].PRODUCT.MIS,this.order.validity=E["b"].VALIDITY.DAY):(this.order.stoploss=0,this.order.squareoff=0,this.order.trailingStoploss=0),this.order.variety===E["b"].VARIETY.CO&&(this.order.product=E["b"].PRODUCT.MIS,this.order.validity=E["b"].VALIDITY.DAY)},handleDraggableMouseOver(e){this.isOrderWindowDraggable=!0},handleDraggableMouseLeave(e){this.isOrderWindowDraggable=!1},adjustDraggable(){this.setOrderWindowPosition(),this.calculateOrderWindowPosition()},calculateOrderWindowPosition(){let e=this.$el&&this.$el.querySelector&&this.$el.querySelector(".order-window-cover"),t=1,s=1;e&&!this.isMobile&&(s=e.clientHeight||1,t=e.clientWidth||1);let r=!0;this.orderWindowPosition&&(r=this.orderWindowPosition.initial),this.orderWindowPosition={width:t,height:s,initial:r}},setOrderWindowPosition(){let e=Object(C["k"])(),t=this.$el&&this.$el.querySelector&&this.$el.querySelector(".order-window-cover");if(t&&this.orderWindowPosition.initial)this.$el.style.top=e.height-t.clientHeight+"px",this.$el.style.left=e.width/2-t.clientWidth/2+"px",this.orderWindowPosition.initial=!1;else if(t){let s=parseInt(this.$el.style.top)>e.height-t.clientHeight,r=parseInt(this.$el.style.left)>e.width-t.clientWidth;s&&(this.$el.style.top=e.height-t.clientHeight+"px"),r&&(this.$el.style.left=e.width-t.clientWidth+"px")}},resetOrderWindowPosition(){let e=!0;this.orderWindowPosition&&(e=this.orderWindowPosition.initial),this.orderWindowPosition={width:1,height:1,initial:e}},subscribeTicks(e){this.ticker.subscribe([e],"order-window"),this.ticker.setMode(this.ticker.modeLTP,[e],"order-window")},unsubscribeTicks(e){this.ticker.unsubscribe([e],"order-window")},togglePOAAgree(){this.isPOAAgreed=!this.isPOAAgreed},calculatePriceByPercent(e,t,s){let r=o()(t).div(o()(100)).times(o()(e)).plus(o()(e)),i=r.minus(r.mod(o()(s)));return parseFloat(i.valueOf())},onGTTStoplossField(e){e?this.gtt.stoploss||(this.gtt.stoploss=this.order.gtt&&this.order.gtt.stoploss||-5):this.gtt.stoploss=null},onGTTTargetField(e){e?this.gtt.target||(this.gtt.target=this.order.gtt&&this.order.gtt.target||5):this.gtt.target=null}})},N=x,F=Object(f["a"])(N,r,i,!1,null,null,null);t["a"]=F.exports},"598f":function(e,t,s){"use strict";var r=s("ba6a"),i=s("5665");function n(){return r["a"].get(Object(i["a"])("user.profile"))}function o(){return r["a"].get(Object(i["a"])("user.session"))}function a(){return r["a"].get(Object(i["a"])("user.appSessions"))}function l(e){return r["a"].delete(Object(i["a"])("user.appSessions"))}function c(e){return r["a"].post(Object(i["a"])("user.login"),e)}function d(e){return r["a"].post(Object(i["a"])("user.twofa"),e)}function u(e){return r["a"].put(Object(i["a"])("user.changePassword"),e)}function h(e){return r["a"].put(Object(i["a"])("user.changeTwoFA"),e)}function p(e){return r["a"].get(Object(i["a"])("user.totp"),e)}function g(e){return r["a"].post(Object(i["a"])("user.initiatePasswordReset"),e)}function f(e){return r["a"].post(Object(i["a"])("user.validatePasswordReset"),e)}function m(e){return r["a"].put(Object(i["a"])("user.doPasswordReset"),e)}function b(e){return r["a"].delete(Object(i["a"])("user.deleteAvatar"))}function y(e){return r["a"].get(Object(i["a"])("preferences.all"),{params:e})}function v(e){return r["a"].post(Object(i["a"])("preferences.update"),e)}t["a"]={getProfile:n,getSession:o,getAppSessions:a,clearAppSessions:l,login:c,twofa:d,changePassword:u,changeTwoFA:h,getTOTP:p,initiatePasswordReset:g,validatePasswordReset:f,doPasswordReset:m,deleteAvatar:b,getPreferences:y,updatePreferences:v}},6825:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"},{name:"on-escape",rawName:"v-on-escape",value:e.hide,expression:"hide"}],staticClass:"context-menu",attrs:{id:"context-menu-"+e._uid}},[s("div",{staticClass:"context-menu-button-wrap",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleButtonClick(t)}}},[e._t("button")],2),e._v(" "),s("transition",{attrs:{name:"dropdown"}},[e.showMenu?s("ul",{staticClass:"context-menu-list list-flat"},[e._t("menu")],2):e._e()])],1)},i=[],n={name:"mobile-context-menu",props:{orientation:{type:String,default:"left"},marginTop:{type:Number,default:8},parentSelector:String},data(){return{showMenu:!1}},deactivated(){this.hide(),this.$emit("delete")},methods:{hide(){this.showMenu&&(this.showMenu=!1)},handleButtonClick(e){this.showMenu?this.showMenu=!1:(this.showMenu=!0,this.$nextTick(()=>{let e=0;if(this.parentSelector){let t=document.querySelector(this.parentSelector);e=t&&t.scrollTop}else e=window.pageYOffset||document.documentElement.scrollTop;let t,s=this.$el.querySelector(".context-menu-list"),r=s.getBoundingClientRect(),i=this.$el.querySelector(".context-menu-button").getBoundingClientRect(),n=0;r.height+r.top-e<=window.innerHeight?(t="bottom",n=i.top+i.height+this.marginTop):(t="top",n=i.top-r.height-this.marginTop),n>=0?s.style.top=n+"px":(s.style.top="0px",t=null),"bottom"===t?s.classList.add("position-bottom"):"top"===t&&s.classList.add("position-top");let o=0;"left"===this.orientation?o=i.left+i.width-r.width:"right"===this.orientation&&(o=i.left+i.width),s.style.left=t?o+"px":o-i.width+"px"}))}}},o=n,a=s("2877"),l=Object(a["a"])(o,r,i,!1,null,null,null);t["a"]=l.exports},"72f0":function(e,t){function s(e){return function(){return e}}e.exports=s},"7daa":function(e,t,s){"use strict";var r=s("1a6d"),i=s.n(r);i.a},"808c":function(e,t,s){"use strict";class r{constructor(){this.maxResults=25,this.lastResults=null,this.currentYear=(new Date).getFullYear(),this.weeklyMonthsMap={1:"JAN",2:"FEB",3:"MAR",4:"APR",5:"MAY",6:"JUN",7:"JUL",8:"AUG",9:"SEP",O:"OCT",N:"NOV",D:"DEC"},this.strikePrecision={"BCD-OPT":4},this.eventsInstruments={},this.defaultTickSize={"MCX-OPT":1,"MCX-FUT":1,MCX:1}}init(e){this.months=e.months,this.weeklyMonthsMap=e.weekly_months,this.segments=this.arrayToSet(e.segments),this.segmentsList=e.segments,this.equitySegments=this.arrayToSet(e.equity_segments),this.optionsSegments=this.arrayToSet(e.options_segments),this.futuresSegments=this.arrayToSet(e.futures_segments),this.exchangeSegments=this.arrayToSet(e.exchange_segments),this.tradeableSegments=this.arrayToSet(e.tradeable_segments),this.segmentsID=e.segments_id_map,this.segmentsAliases=e.segments_aliases,this.segmentsExchangeMap=e.segments_exchange_map,this.eventsInstruments=Object.assign({},this.arrayToMap(e.events)),this.instrumentsMap={},this.instrumentsArray={};for(let t of e.segments)e.instruments[t]&&this.feed(t,e.instruments[t])}arrayToMap(e,t){if(!e)return{};t||(t="");let s={};for(let r of e)s[t+r]=!0;return s}feed(e,t){this.instrumentsMap[e]={},this.instrumentsArray[e]=[],this.equitySegments.has(e)||"INDICES"===e?this.loadEquity(e,t):this.optionsSegments.has(e)?this.loadOptions(e,t):this.futuresSegments.has(e)?this.loadFutures(e,t):console.log("skip loading segment: ",e)}search(e,t){t||(t=this.maxResults);let s=this.tokenize(e),r=this.searchSegments(s),i=this.subtract(s,r.matchedTokens),n=this.rankSegments(r.results);0===n.length&&(n=this.allSegements());let o=this.searchSymbols(n,i,e,t);if(o.length>0)this.lastResults=o;else if(this.lastResults)return this.lastResults;return o}get(e,t,s){if(e=e.toUpperCase(),-1!==e.indexOf("-EQ")&&(e=e.split("-EQ")[0]),s&&!t&&(t=this.getSegment(e,s)),e&&t&&this.instrumentsMap[t]){let r=this.instrumentsMap[t][e];if(r){let e="";r.length>4&&(e=r[4]);let s=this.makeInstrument({exchangeToken:r[0],tradingsymbol:r[1],segment:t,exchange:this.segmentsExchangeMap[t],tickSize:r[2],lotSize:r[3],company:e});return s.isFound=!1,s}console.log("invalid instrument",e,s,t)}else console.log("invalid instrument",e,s,t);let r=this.makeInstrument({exchangeToken:0,tradingsymbol:e,segment:t||s,exchange:s||t,tickSize:this.defaultTickSize[s||t]||.05,lotSize:1,company:""});return r.isFound=!1,r}getSegment(e,t){if(this.exchangeSegments.has(t))return t;let s=/(.+?)((-EQ)|([0-9]{2})(([A-Z]{3})|(([0-9OND])([0-9]{2})))(FUT|([0-9.]+)(CE|PE)(W.)?))/gi.exec(e);return s?"FUT"===s[10]?t+"-FUT":s[11]&&s[12]?t+"-OPT":null:null}loadEquity(e,t){let s=[],r={},i=-1,n=-1,o=-1;for(let a of t){let e,t,l,c=a[1],d=a[2];e=-1===i?a[0]:i+a[0],i=e,a[3]?(t=a[3],n=t):t=n,a[4]?(l=a[4],o=l):l=o;let u=[e,c,t,l,d];s.push(u),r[c]=u}this.instrumentsArray[e]=s,this.instrumentsMap[e]=r}loadOptions(e,t){let s=[],r={};for(let i=0;i<t.length;i++){let n=t[i],o=n[0],a=n[1],l=n[2];for(let t=0;t<n[3].length;t++){let i=n[3][t][0],c=n[3][t][1];for(let t in c)if(c.hasOwnProperty(t)){let n=c[t],d=-1,u=-1;for(let c=0;c<n.length;c++){let h,p,g;-1===d&&-1===u?(p=n[c][0],h=n[c][1]):(p=d+n[c][0],h=Math.round(u*Math.pow(10,9)+n[c][1]*Math.pow(10,9))/Math.pow(10,9)),u=h,d=p,g=n[c][2]?n[c][2]:l;let f="";f=this.strikePrecision[e]?o+i+parseFloat(h).toFixed(this.strikePrecision[e])+t:o+i+h+t;let m=[p,f,a,g];s.push(m),r[m[1]]=m}}}}this.instrumentsArray[e]=s,this.instrumentsMap[e]=r}loadFutures(e,t){let s=[],r={};for(let i=0;i<t.length;i++){let e=t[i][0],n=-1,o=t[i][1],a=t[i][2];for(let l=0;l<t[i][3].length;l++){let c,d,u;u=-1===n?t[i][3][l][0]:n+t[i][3][l][0],n=u,c=t[i][3][l][1],d=t[i][3][l][2]?t[i][3][l][2]:a;let h=[u,e+c+"FUT",o,d];s.push(h),r[h[1]]=h}}this.instrumentsArray[e]=s,this.instrumentsMap[e]=r}searchSymbols(e,t,s,r){let i=[];for(let n of this.segmentsList){if(!this.instrumentsArray[n])continue;let r=-1!==e.indexOf(n);for(let e=0;e<this.instrumentsArray[n].length;e++){let o=0,a=!0;if(this.instrumentsArray[n][e][1]===s.toUpperCase())o=-100;else if(r)for(let s=0;s<t.length;s++){let r=this.instrumentsArray[n][e][1].indexOf(t[s]),i=-1;if(this.instrumentsArray[n][e].length>4&&null!==this.instrumentsArray[n][e][4]&&(i=this.instrumentsArray[n][e][4].indexOf(t[s])),-1===r&&-1===i){a=!1;break}0===r?o-=2:i&&(o-=1)}else a=!1;a&&i.push([n,this.instrumentsArray[n][e],o,i.length])}}return this.formatResults(i,r)}formatResults(e,t){e.sort(function(e,t){return e[2]===t[2]?e[3]-t[3]:e[2]<t[2]?-1:1}),e=e.slice(0,t);let s=[];for(let r=0;r<e.length;r++){let t="",i=e[r][1],n=e[r][0];i.length>4&&(t=i[4]),s.push(this.makeInstrument({exchangeToken:i[0],tradingsymbol:i[1],segment:n,exchange:this.segmentsExchangeMap[n],tickSize:i[2],lotSize:i[3],company:t}))}return s}allSegements(){let e=[];return this.segments.forEach(t=>e.push(t)),e}rankSegments(e){let t=[],s=[];for(let o in e)e.hasOwnProperty(o)&&(t.push(o),s.push(e[o]));let r=[],i=-1,n=-1;while(1){if(i=s.indexOf(Math.max.apply(Math,s)),-1===i)break;let e=s[i];if(s[i]=0,e<n)break;n=e,r.push(t[i])}return r}searchSegments(e){let t={},s=[];for(let r of this.segmentsList)for(let i=0;i<e.length;i++)-1!==this.segmentsAliases[r].indexOf(e[i])&&(s.push(e[i]),t.hasOwnProperty(r)||(t[r]=0),t[r]++);return{results:t,matchedTokens:this.unique(s)}}tokenize(e){e=this.trim(e).toUpperCase(),e=this.trim(e.replace(/[^a-z0-9.\s&]/gi," ")),e=e.replace(/[\s+]/gi," ");let t=e.split(" ");return this.unique(t)}trim(e){return"undefined"===typeof String.prototype.trim?e.replace(/^\s+|\s+$/gm,""):e.trim()}unique(e){return e.sort().filter(function(t,s){return!s||t!==e[s-1]})}subtract(e,t){let s=[];for(let r=0;r<e.length;r++)-1===t.indexOf(e[r])&&s.push(e[r]);return s}arrayToSet(e){let t=new Set;return e.forEach(e=>t.add(e)),t}makeInstrument(e){let t=e.exchangeToken,s=e.tradingsymbol,r=e.segment,i=e.exchange,n=e.tickSize,o=e.lotSize,a=e.company,l=this.parse(s,i);return l.segment=r,l.exchange=i,l.tickSize=n,l.lotSize=o,l.company=a,l.tradable=this.tradeableSegments.has(r),l.precision="CDS"===i||"BCD"===i?4:2,l.fullName=this.getFullName(l),l.niceName=this.getNiceName(l),l.stockWidget=this.isStockWidget(l),l.exchangeToken=t,l.instrumentToken=(t<<8)+this.segmentsID[r],l.isEvent=("NSE"===i||"BSE"===i||"INDICES"===i)&&this.eventsInstruments[s],l}getFullName(e){return"BSE"===e.exchange?e.symbol+" ("+e.tradingsymbol+")":e.tradingsymbol}getNiceName(e){if("EQ"===e.type)return e.tradingsymbol;let t=e.symbol;return e.expiryDay&&(t+=" "+e.expiryDay+this.dateSuffix(e.expiryDay)),e.expiryMonth&&e.expiryYear&&(t+=" "+(e.expiryYear!==this.currentYear?e.expiryYear.toString().substr(2,4):"")+this.months[e.expiryMonth-1]),"OPT"===e.type?t+=" "+e.strike+" "+e.optionType:"FUT"===e.type&&(t+=" "+e.type),t}isStockWidget(e){return this.equitySegments.has(e.exchange)}IsEquity(e){return this.equitySegments.has(e)||"INDICES"===e}extractEqSymbol(e){return e.length>3&&"-"===e[e.length-3]?e.slice(0,-3):e}parse(e,t){let s="";if(-1!==e.indexOf("|")&&"BSE"===t){var r=e.split("|");e=r[0],s=r[1]}let i={};i.tradingsymbol=e,i.scripCode=s;let n=/(.+?)((-EQ)|([0-9]{2})(([A-Z]{3})|(([0-9OND])([0-9]{2})))(FUT|([0-9.]+)(CE|PE)(W.)?))/gi.exec(e);if(!n)return i.type="EQ",i.symbol=this.extractEqSymbol(e),i;if(i.symbol=n[1],"-EQ"===n[2]&&(i.type="EQ"),"FUT"===n[10]?i.type="FUT":n[11]&&n[12]&&(i.type="OPT",i.optionType=n[12],i.strike=parseFloat(n[11])),n[4]&&n[8]&&n[9]&&this.weeklyMonthsMap[n[8]]){let e=this.weeklyMonthsMap[n[8]];i.expiryMonth=this.months.indexOf(e.toUpperCase())+1,i.expiryYear=parseInt(n[4])+2e3,i.expiryDay=parseInt(n[9]),i.expiryWeek=Math.floor(parseInt(n[9])/7)+1}else n[4]&&n[5]&&(i.expiryYear=parseInt(n[4])+2e3,i.expiryMonth=this.months.indexOf(n[5].toUpperCase())+1);return i}dateSuffix(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}}var i=r;s.d(t,"a",function(){return n});class n{}n.InstrumentManager=i,n.install=function(e,t){}},"85e3":function(e,t){function s(e,t,s){switch(s.length){case 0:return e.call(t);case 1:return e.call(t,s[0]);case 2:return e.call(t,s[0],s[1]);case 3:return e.call(t,s[0],s[1],s[2])}return e.apply(t,s)}e.exports=s},9285:function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"c",function(){return i}),s.d(t,"b",function(){return n});const r="chartiq",i="tradingview",n={[r]:"chart",[i]:"tvchart"}},"9aff":function(e,t,s){var r=s("9638"),i=s("30c9"),n=s("c098"),o=s("1a8c");function a(e,t,s){if(!o(s))return!1;var a=typeof t;return!!("number"==a?i(s)&&n(t,s.length):"string"==a&&t in s)&&r(s[t],e)}e.exports=a},"9c9e":function(e,t,s){"use strict";var r=s("5665"),i=s("2f62"),n=s("d1de"),o=s("9285");function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(s,!0).forEach(function(t){c(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(s).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}t["a"]={inject:[],data(){return{sentinelURL:"https://sentinel.zerodha.com/dashboard?stockA="}},computed:l({},Object(i["c"])(n["b"],["preferences"])),methods:{getStatic(e){return"/static/"+e},openInAppChart(e,t,s){let r=this.preferences.chart_type;this.$router.push({name:o["b"][r]||o["b"][o["a"]],params:{token:e,segment:t,tradingsymbol:s}})},openPopoutChart(e,t,s){let i=this.preferences.chart_type,n=r["b"].extChart;return i===o["c"]&&(n=r["b"].extTvchart),n=n.replace(":segment",t),n=n.replace(":tradingsymbol",s),n=n.replace(":token",e),n}}}},"9dcd":function(e,t,s){var r;(function(i){"use strict";var n,o=20,a=1,l=1e6,c=1e6,d=-7,u=21,h="[big.js] ",p=h+"Invalid ",g=p+"decimal places",f=p+"rounding mode",m=h+"Division by zero",b={},y=void 0,v=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function T(){function e(t){var s=this;if(!(s instanceof e))return t===y?T():new e(t);t instanceof e?(s.s=t.s,s.e=t.e,s.c=t.c.slice()):O(s,t),s.constructor=e}return e.prototype=b,e.DP=o,e.RM=a,e.NE=d,e.PE=u,e.version="5.2.2",e}function O(e,t){var s,r,i;if(0===t&&1/t<0)t="-0";else if(!v.test(t+=""))throw Error(p+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(s=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(s<0&&(s=r),s+=+t.slice(r+1),t=t.substring(0,r)):s<0&&(s=t.length),i=t.length,r=0;r<i&&"0"==t.charAt(r);)++r;if(r==i)e.c=[e.e=0];else{for(;i>0&&"0"==t.charAt(--i););for(e.e=s-r-1,e.c=[],s=0;r<=i;)e.c[s++]=+t.charAt(r++)}return e}function S(e,t,s,r){var i=e.c,n=e.e+t+1;if(n<i.length){if(1===s)r=i[n]>=5;else if(2===s)r=i[n]>5||5==i[n]&&(r||n<0||i[n+1]!==y||1&i[n-1]);else if(3===s)r=r||!!i[0];else if(r=!1,0!==s)throw Error(f);if(n<1)i.length=1,r?(e.e=-t,i[0]=1):i[0]=e.e=0;else{if(i.length=n--,r)for(;++i[n]>9;)i[n]=0,n--||(++e.e,i.unshift(1));for(n=i.length;!i[--n];)i.pop()}}else if(s<0||s>3||s!==~~s)throw Error(f);return e}function E(e,t,s,r){var i,n,o=e.constructor,a=!e.c[0];if(s!==y){if(s!==~~s||s<(3==t)||s>l)throw Error(3==t?p+"precision":g);for(e=new o(e),s=r-e.e,e.c.length>++r&&S(e,s,o.RM),2==t&&(r=e.e+s+1);e.c.length<r;)e.c.push(0)}if(i=e.e,n=e.c.join(""),s=n.length,2!=t&&(1==t||3==t&&r<=i||i<=o.NE||i>=o.PE))n=n.charAt(0)+(s>1?"."+n.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)n="0"+n;n="0."+n}else if(i>0)if(++i>s)for(i-=s;i--;)n+="0";else i<s&&(n=n.slice(0,i)+"."+n.slice(i));else s>1&&(n=n.charAt(0)+"."+n.slice(1));return e.s<0&&(!a||4==t)?"-"+n:n}b.abs=function(){var e=new this.constructor(this);return e.s=1,e},b.cmp=function(e){var t,s=this,r=s.c,i=(e=new s.constructor(e)).c,n=s.s,o=e.s,a=s.e,l=e.e;if(!r[0]||!i[0])return r[0]?n:i[0]?-o:0;if(n!=o)return n;if(t=n<0,a!=l)return a>l^t?1:-1;for(o=(a=r.length)<(l=i.length)?a:l,n=-1;++n<o;)if(r[n]!=i[n])return r[n]>i[n]^t?1:-1;return a==l?0:a>l^t?1:-1},b.div=function(e){var t=this,s=t.constructor,r=t.c,i=(e=new s(e)).c,n=t.s==e.s?1:-1,o=s.DP;if(o!==~~o||o<0||o>l)throw Error(g);if(!i[0])throw Error(m);if(!r[0])return new s(0*n);var a,c,d,u,h,p=i.slice(),f=a=i.length,b=r.length,v=r.slice(0,a),T=v.length,O=e,E=O.c=[],w=0,C=o+(O.e=t.e-e.e)+1;for(O.s=n,n=C<0?0:C,p.unshift(0);T++<a;)v.push(0);do{for(d=0;d<10;d++){if(a!=(T=v.length))u=a>T?1:-1;else for(h=-1,u=0;++h<a;)if(i[h]!=v[h]){u=i[h]>v[h]?1:-1;break}if(!(u<0))break;for(c=T==a?i:p;T;){if(v[--T]<c[T]){for(h=T;h&&!v[--h];)v[h]=9;--v[h],v[T]+=10}v[T]-=c[T]}for(;!v[0];)v.shift()}E[w++]=u?d:++d,v[0]&&u?v[T]=r[f]||0:v=[r[f]]}while((f++<b||v[0]!==y)&&n--);return E[0]||1==w||(E.shift(),O.e--),w>C&&S(O,o,s.RM,v[0]!==y),O},b.eq=function(e){return!this.cmp(e)},b.gt=function(e){return this.cmp(e)>0},b.gte=function(e){return this.cmp(e)>-1},b.lt=function(e){return this.cmp(e)<0},b.lte=function(e){return this.cmp(e)<1},b.minus=b.sub=function(e){var t,s,r,i,n=this,o=n.constructor,a=n.s,l=(e=new o(e)).s;if(a!=l)return e.s=-l,n.plus(e);var c=n.c.slice(),d=n.e,u=e.c,h=e.e;if(!c[0]||!u[0])return u[0]?(e.s=-l,e):new o(c[0]?n:0);if(a=d-h){for((i=a<0)?(a=-a,r=c):(h=d,r=u),r.reverse(),l=a;l--;)r.push(0);r.reverse()}else for(s=((i=c.length<u.length)?c:u).length,a=l=0;l<s;l++)if(c[l]!=u[l]){i=c[l]<u[l];break}if(i&&(r=c,c=u,u=r,e.s=-e.s),(l=(s=u.length)-(t=c.length))>0)for(;l--;)c[t++]=0;for(l=t;s>a;){if(c[--s]<u[s]){for(t=s;t&&!c[--t];)c[t]=9;--c[t],c[s]+=10}c[s]-=u[s]}for(;0===c[--l];)c.pop();for(;0===c[0];)c.shift(),--h;return c[0]||(e.s=1,c=[h=0]),e.c=c,e.e=h,e},b.mod=function(e){var t,s=this,r=s.constructor,i=s.s,n=(e=new r(e)).s;if(!e.c[0])throw Error(m);return s.s=e.s=1,t=1==e.cmp(s),s.s=i,e.s=n,t?new r(s):(i=r.DP,n=r.RM,r.DP=r.RM=0,s=s.div(e),r.DP=i,r.RM=n,this.minus(s.times(e)))},b.plus=b.add=function(e){var t,s=this,r=s.constructor,i=s.s,n=(e=new r(e)).s;if(i!=n)return e.s=-n,s.minus(e);var o=s.e,a=s.c,l=e.e,c=e.c;if(!a[0]||!c[0])return c[0]?e:new r(a[0]?s:0*i);if(a=a.slice(),i=o-l){for(i>0?(l=o,t=c):(i=-i,t=a),t.reverse();i--;)t.push(0);t.reverse()}for(a.length-c.length<0&&(t=c,c=a,a=t),i=c.length,n=0;i;a[i]%=10)n=(a[--i]=a[i]+c[i]+n)/10|0;for(n&&(a.unshift(n),++l),i=a.length;0===a[--i];)a.pop();return e.c=a,e.e=l,e},b.pow=function(e){var t=this,s=new t.constructor(1),r=s,i=e<0;if(e!==~~e||e<-c||e>c)throw Error(p+"exponent");for(i&&(e=-e);;){if(1&e&&(r=r.times(t)),e>>=1,!e)break;t=t.times(t)}return i?s.div(r):r},b.round=function(e,t){var s=this.constructor;if(e===y)e=0;else if(e!==~~e||e<-l||e>l)throw Error(g);return S(new s(this),e,t===y?s.RM:t)},b.sqrt=function(){var e,t,s,r=this,i=r.constructor,n=r.s,o=r.e,a=new i(.5);if(!r.c[0])return new i(r);if(n<0)throw Error(h+"No square root");n=Math.sqrt(r+""),0===n||n===1/0?(t=r.c.join(""),t.length+o&1||(t+="0"),n=Math.sqrt(t),o=((o+1)/2|0)-(o<0||1&o),e=new i((n==1/0?"1e":(n=n.toExponential()).slice(0,n.indexOf("e")+1))+o)):e=new i(n),o=e.e+(i.DP+=4);do{s=e,e=a.times(s.plus(r.div(s)))}while(s.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return S(e,i.DP-=4,i.RM)},b.times=b.mul=function(e){var t,s=this,r=s.constructor,i=s.c,n=(e=new r(e)).c,o=i.length,a=n.length,l=s.e,c=e.e;if(e.s=s.s==e.s?1:-1,!i[0]||!n[0])return new r(0*e.s);for(e.e=l+c,o<a&&(t=i,i=n,n=t,c=o,o=a,a=c),t=new Array(c=o+a);c--;)t[c]=0;for(l=a;l--;){for(a=0,c=o+l;c>l;)a=t[c]+n[l]*i[c-l-1]+a,t[c--]=a%10,a=a/10|0;t[c]=(t[c]+a)%10}for(a?++e.e:t.shift(),l=t.length;!t[--l];)t.pop();return e.c=t,e},b.toExponential=function(e){return E(this,1,e,e)},b.toFixed=function(e){return E(this,2,e,this.e+e)},b.toPrecision=function(e){return E(this,3,e,e-1)},b.toString=function(){return E(this)},b.valueOf=b.toJSON=function(){return E(this,4)},n=T(),n["default"]=n.Big=n,r=function(){return n}.call(t,s,t,e),void 0===r||(e.exports=r)})()},a454:function(e,t,s){var r=s("72f0"),i=s("3b4a"),n=s("cd9d"),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:n;e.exports=o},a9b9:function(e,t,s){var r=s("8eeb"),i=s("2ec1"),n=s("9934"),o=i(function(e,t){r(t,n(t),e)});e.exports=o},aada:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"empty-state"},[e._t("header"),e._v(" "),e.image?s("img",{attrs:{src:e.image}}):e._e(),e._v(" "),e._t("message"),e._v(" "),e.showOmnisearch?s("su-button",{class:e.omnisearchClass,nativeOn:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.showMarketDepthWidget(t)}}},[e._v(e._s(e.omnisearchActionTitle))]):e._e(),e._v(" "),e._t("action"),e._v(" "),e._t("footer")],2)},i=[],n=s("5fb0"),o={name:"empty-state",props:{image:String,showOmnisearch:Boolean,omnisearchActionTitle:{type:String,default:"Get started"},omnisearchClass:{type:String,default:"button-blue"}},data(){return{}},methods:{showMarketDepthWidget(){this.$events.emit(n["c"].EVENTS.showMarketDepthWidget)}}},a=o,l=s("2877"),c=Object(l["a"])(a,r,i,!1,null,null,null);t["a"]=c.exports},ba6a:function(e,t,s){"use strict";var r=s("bc3a"),i=s.n(r),n=s("b383"),o=s.n(n),a=s("c0d6"),l=s("b202"),c=s("0644"),d=s.n(c),u=s("df03");let h={};const p=i.a.create({timeout:8e3,responseType:"json"});let g="2.4.0";const f=a["a"].getters[u["b"]+"/getETag"],m=(e,t,s)=>a["a"].commit(u["b"]+"/setETag",{key:e,ETag:t,response:s});p.interceptors.request.use(e=>{if(e.headers["X-Kite-Version"]=g,"get"===e.method){let t=f(e.url);t&&t.ETag&&(e.headers["X-If-None-Match"]=t.ETag);let s=e.url+o.a.stringify(e.params);h[s]&&h[s].cancel("cancel-duplicate-requests");let r=i.a.CancelToken,n=r.source();e.cancelToken=n.token,h[s]=n}return e.data&&e.data.user_id&&(e.headers["X-Kite-Userid"]=e.data.user_id),e.params&&e.params.user_id&&(e.headers["X-Kite-Userid"]=e.params.user_id),"post"!==e.method&&"put"!==e.method||(e.headers["Content-Type"]="application/x-www-form-urlencoded",e.data=o.a.stringify(e.data)),"/oms/"===e.url.substring(0,5)?e.headers["Authorization"]="enctoken "+Object(l["b"])(null,"enctoken",l["c"]):e.headers["X-CSRFTOKEN"]=Object(l["b"])(null,"public_token",l["c"]),e}),p.interceptors.response.use(e=>{if(e.headers["x-etag"])m(e.config.url,e.headers["x-etag"],e.data);else if("304"===e.headers["x-status"]){let t=f(e.config.url);if(t&&t.response)return Promise.resolve({data:d()(t.response),status:200,statusText:"OK",headers:e.headers,config:e.config})}return e},e=>{if(e&&e.response&&304===e.response.status){let t=e.response,s=f(t.config.url);if(s&&s.response)return t.data=s.response,Promise.resolve(t)}if(e&&e.response&&403===e.response.status&&e.response.data&&"TokenException"===e.response.data.error_type&&(Object(l["d"])("","user_id","",l["c"]),Object(l["d"])("","public_token","",l["c"]),Object(l["d"])("","enctoken","",l["c"]),window.location="/logout?invalidtoken=true"),e)return Promise.reject(e)}),t["a"]=p},c1c9:function(e,t,s){var r=s("a454"),i=s("f3c1"),n=i(r);e.exports=n},cd9d:function(e,t){function s(e){return e}e.exports=s},d1de:function(e,t,s){"use strict";s.d(t,"b",function(){return u});var r=s("598f"),i=s("5fb0"),n=s("025e"),o=s("b202");function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(s,!0).forEach(function(t){c(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(s).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let d=!0;const u="user",h={questions:null,questionsError:null,profile:Object(o["b"])(u,"profile")||{},profileError:null,profileFetchStatus:i["a"].initial,userName:Object(o["b"])(u,"user_name")||{},userAvatar:Object(o["b"])(u,"user_avatar")||"",userId:Object(o["b"])(u,"user_id")||"",userEmail:Object(o["b"])(u,"user_email")||"",questionsFetchStatus:i["a"].initial,appSessions:null,appSessionsError:null,appSessionsFetchStatus:i["a"].initial,twoFAType:null,preferences:null,preferencesError:null,preferencesFetchStatus:i["a"].initial},p={profile:e=>e.profile,profileError:e=>e.profileError,questions:e=>e.questions,questionsError:e=>e.questionsError,userId:e=>e.userId,userEmail:e=>e.userEmail,userName:e=>e.userName,userAvatar:e=>e.userAvatar,questionsFetchStatus:e=>e.questionsFetchStatus,profileFetchStatus:e=>e.profileFetchStatus,appSessions:e=>e.appSessions,appSessionsError:e=>e.appSessionsError,appSessionsFetchStatus:e=>e.appSessionsFetchStatus,twoFAType:e=>e.twoFAType,preferences:e=>e.preferences,preferencesError:e=>e.preferencesError,preferencesFetchStatus:e=>e.preferencesFetchStatus},g={clearProfile(e){e.profile=null,e.userName=null,e.userAvatar=null,e.userEmail=null},setProfile(e,t){e.profile=t,e.userName={userName:t.user_name,userShortName:t.user_shortname},e.userAvatar=t.avatar_url,e.userEmail=t.email,e.twoFAType=t.twofa_type,Object(o["d"])(u,"user_name",e.userName),Object(o["d"])(u,"user_avatar",e.userAvatar),Object(o["d"])(u,"user_email",e.userEmail)},setProfileError(e,t){e.profileError=t},setProfileFetchStatus(e,t){e.profileFetchStatus=t},setQuestions(e,t){e.questions=t},setQuestionsError(e,t){e.questionsError=t},setQuestionsFetchStatus(e,t){e.questionsFetchStatus=t},setUserName(e,t,s){e.userName={userName:t,userShortName:s},Object(o["d"])(u,"user_name",e.userName)},setUserAvatar(e,t){e.userAvatar=t,Object(o["d"])(u,"user_avatar",e.userAvatar)},setUserId(e,t){e.userId=t,Object(o["d"])(u,"user_id",e.userId)},setAppSessions(e,t){e.appSessions=t},setAppSessionsError(e,t){e.appSessionsError=t},setAppSessionsFetchStatus(e,t){e.appSessionsFetchStatus=t},setTwoFAType(e,t){e.twoFAType=t},setPreferences(e,t){e.preferences=t},setPreferencesError(e,t){e.preferencesError=t},setPreferencesFetchStatus(e,t){e.preferencesFetchStatus=t},updatePreference(e,t){e.preferences=l({},e.preferences,{[t.key]:t.value})}},f={fetchProfile(e){let t=e.commit;e.state;t("setProfileFetchStatus",i["a"].fetching);let s=r["a"].getProfile();Object(n["f"])({commit:t,apiPromise:s,data:"setProfile",error:"setProfileError",status:"setProfileFetchStatus"})},fetchQuestions(e){let t=e.commit;e.state;t("setQuestionsFetchStatus",i["a"].fetching);let s=r["a"].getTwofaQuestions();Object(n["f"])({commit:t,apiPromise:s,data:"setQuestions",error:"setQuestionsError",status:"setQuestionsFetchStatus"})},fetchAppSessions(e){let t=e.commit;e.state;t("setAppSessionsFetchStatus",i["a"].fetching);let s=r["a"].getAppSessions();Object(n["f"])({commit:t,apiPromise:s,data:"setAppSessions",error:"setAppSessionsError",status:"setAppSessionsFetchStatus"})},fetchPreferences(e){let t=e.commit;e.state;t("setPreferencesFetchStatus",i["a"].fetching);let s=r["a"].getPreferences();Object(n["f"])({commit:t,apiPromise:s,data:"setPreferences",error:"setPreferencesError",status:"setPreferencesFetchStatus"})}};t["a"]={state:h,getters:p,mutations:g,actions:f,namespaced:d}},d9d2:function(e,t,s){"use strict";s.d(t,"a",function(){return r});const r="orders",i=["DAY","IOC"],n=["MIS","NRML","CNC"],o=["regular","bo","co","amo"],a=["MARKET","LIMIT","SL","SL-M"],l=["BUY","SELL"],c={DAY:"DAY",IOC:"IOC"},d={MIS:"MIS",NRML:"NRML",CNC:"CNC"},u={REGULAR:"regular",BO:"bo",CO:"co",AMO:"amo"},h={MARKET:"MARKET",LIMIT:"LIMIT",SL:"SL",SLM:"SL-M"},p={BUY:"BUY",SELL:"SELL"},g={ORDER_PLACE:r+".order.place",ORDER_PLACE_SUCCESS:r+".order.place.success",ORDER_PLACE_ERROR:r+".order.place.error",ORDER_MODIFY:r+".order.modify",ORDER_MODIFY_SUCCESS:r+".order.modify.success",ORDER_MODIFY_ERROR:r+".order.modify.error",ORDER_CANCEL:r+".order.cancel",ORDER_CANCEL_SUCCESS:r+".order.cancel.success",ORDER_CANCEL_ERROR:r+".order.cancel.error",PRODUCT_MODIFY:r+".product.modify",ORDER_INFO:r+".order.ifo",GTT_PLACE:r+".gtt.place",GTT_PLACE_SUCCESS:r+".gtt.place.success",GTT_PLACE_ERROR:r+".gtt.place.error",GTT_MODIFY:r+".gtt.modify",GTT_MODIFY_SUCCESS:r+".gtt.modify.success",GTT_MODIFY_ERROR:r+".gtt.modify.error",GTT_DELETE:r+".gtt.delete",GTT_DELETE_SUCCESS:r+".gtt.delete.success",GTT_DELETE_ERROR:r+".gtt.delete.error",GTT_INFO:r+".gtt.info"},f={INDICES:"INDICES",NSE:"NSE",BSE:"BSE",NFO:"NFO","NFO-FUT":"NFO","NFO-OPT":"NFO",CDS:"CDS","CDS-FUT":"CDS","CDS-OPT":"CDS",BFO:"BFO","BFO-FUT":"BFO","BFO-OPT":"BFO",MCX:"MCX",MCXSX:"MCXSX"},m={typeSingle:"single",typeTwoLeg:"two-leg",statusExpired:"EXPIRED",statusCancelled:"CANCELLED",statusActive:"ACTIVE",statusTriggered:"TRIGGERED",statusDisabled:"DISABLED"};t["b"]={NAMESPACE:r,VALIDITY:c,VALIDITIES:i,PRODUCT:d,PRODUCTS:n,VARIETY:u,VARIETIES:o,ORDER_TYPE:h,ORDER_TYPES:a,TRANSACTION_TYPE:p,TRANSACTION_TYPES:l,EVENTS:g,EXCHANGES:f,GTT:m}},da42:function(e,t,s){"use strict";s.d(t,"a",function(){return o});var r=s("3da7"),i=s("0e50"),n=s("d9d2");class o{}o.api=r["a"],o.constants=n["b"],o.events=n["b"].EVENTS,o.namespace=n["b"].NAMESPACE,o.install=function(e,t){t.store&&t.store.registerModule(n["b"].NAMESPACE,i["a"])}},f3c1:function(e,t){var s=800,r=16,i=Date.now;function n(e){var t=0,n=0;return function(){var o=i(),a=r-(o-n);if(n=o,a>0){if(++t>=s)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}e.exports=n}}]);