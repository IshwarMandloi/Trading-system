(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["main"],{"013d":function(t,e,s){"use strict";var i=s("656f"),n=s.n(i);n.a},"033e":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-profile-form"},[s("h3",{staticClass:"page-title small"},[t._v("\n\t\tAccount security\n\t")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"five columns"},[s("su-form",{ref:"passwordForm",attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.submitPasswordForm(e)}}},[s("div",{staticClass:"form-header"},[s("h2",[t._v("Change "+t._s("password"===t.form.type?"password":"PIN"))])]),t._v(" "),s("su-input",{attrs:{autofocus:!0,type:"password",autocomplete:"off",minlength:6,maxlength:100,placeholder:"Current password",label:"Current password",rules:t.rules.currentPassword},model:{value:t.form.currentPassword,callback:function(e){t.$set(t.form,"currentPassword",e)},expression:"form.currentPassword"}}),t._v(" "),s("br"),t._v(" "),s("su-radio-group",{staticClass:"row change-type",model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[s("su-radio",{attrs:{checked:"",name:"type",value:"password",label:"Change password"}}),t._v(" "),s("su-radio",{directives:[{name:"show",rawName:"v-show",value:"pin"===t.twoFAType||"pin"===t.form.type,expression:"twoFAType === 'pin' || form.type === 'pin'"}],attrs:{name:"type",value:"pin",label:"Change PIN"}})],1),t._v(" "),s("br"),t._v(" "),"password"===t.form.type?s("div",[s("su-input",{key:"password",attrs:{type:"password",autocomplete:"off",minlength:8,maxlength:100,placeholder:"New password",rules:t.rules.password},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t._v(" "),s("su-input",{key:"password",attrs:{type:"password",autocomplete:"off",minlength:8,maxlength:100,placeholder:"Confirm new password",rules:t.rules.password},model:{value:t.form.password2,callback:function(e){t.$set(t.form,"password2",e)},expression:"form.password2"}})],1):t._e(),t._v(" "),"pin"===t.form.type?s("div",[s("su-input",{key:"pin",attrs:{type:"password",autocomplete:"off",minlength:6,maxlength:6,placeholder:"New 6 digit PIN",rules:t.rules.pin},model:{value:t.form.pin,callback:function(e){t.$set(t.form,"pin",e)},expression:"form.pin"}}),t._v(" "),s("su-input",{key:"pin2",attrs:{type:"password",autocomplete:"off",minlength:6,maxlength:6,placeholder:"Confirm new PIN",rules:t.rules.pin},model:{value:t.form.pin2,callback:function(e){t.$set(t.form,"pin2",e)},expression:"form.pin2"}})],1):t._e(),t._v(" "),s("p",{staticClass:"actions"},[s("su-button",{staticClass:"button-blue",attrs:{type:"submit",processing:t.isPasswordChangeInProgress}},[s("span",[t._v("Submit")])]),t._v(" "),s("su-button",{staticClass:"button button-outline cancel",nativeOn:{click:function(e){return t.gotoProfile(e)}}},[s("span",[t._v("Cancel")])])],1)],1)],1),t._v(" "),s("div",{staticClass:"one columns"},[t._v(" ")]),t._v(" "),s("div",{staticClass:"five columns"},[s("h3",[t._v("Password tips")]),t._v(" "),s("ul",[s("li",[t._v("Choose long passwords.")]),t._v(" "),s("li",[t._v("Meaningless phrases made up of multiple words make for secure passwords.\n\t\t\t\tThese are memorable and cannot be guessed easily.\n\t\t\t\tFor example: "),s("span",{staticClass:"text-light"},[t._v(t._s(t.examplePassword))]),t._v(".\n\t\t\t\t")])])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"totp-section"},[s("h2",[t._v("2Factor TOTP —\n\t\t\t"),"totp"===t.twoFAType?s("span",{staticClass:"text-green"},[s("span",{staticClass:"icon icon-check"}),t._v(" Enabled")]):t._e(),t._v(" "),"totp"!==t.twoFAType?s("span",[t._v("Disabled")]):t._e()]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"three columns"},[t.totp.showForm?t._e():s("p",{staticClass:"text-center"},[s("img",{staticClass:"splash",attrs:{src:t.getStatic("images/illustrations/totp.svg")}})]),t._v(" "),t.totp.showForm?s("p",{staticClass:"text-center"},[s("img",{staticClass:"qr",attrs:{src:t.totp.image}})]):t._e(),t._v("\n\t\t\t\t \n\t\t\t")]),t._v(" "),s("div",{staticClass:"six columns"},[t.totp.showForm||"totp"==t.twoFAType?t._e():s("div",{staticClass:"intro"},[t._m(0),t._v(" "),s("p",[s("su-button",{staticClass:"button-blue",nativeOn:{click:function(e){return t.toggleTOTPForm(e)}}},[t._v("Enable 2Factor TOTP")])],1)]),t._v(" "),t.totp.showForm?s("su-form",{ref:"totpForm",attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.submitTOTPForm(e)}}},[s("h3",[t._v("Scan the QR code on your authenticator app")]),t._v(" "),s("p",[t._v("Once scanned, the app should give you a 6 digit TOTP. Enter it here.\n\t\t\t\t\t\t"),s("a",{attrs:{href:"https://support.zerodha.com/category/your-zerodha-account/login-credentials/login-credentials-of-trading-platforms/articles/time-based-otp-setup",target:"_blank"}},[t._v("Need help?")])]),t._v(" "),s("div",{staticClass:"row"},[s("p",{staticClass:"six columns"},[s("su-input",{key:"totp",staticClass:"totp-value",attrs:{autofocus:!0,type:"text",autocomplete:"off",static:"",minlength:6,maxlength:6,placeholder:"6 digit TOTP",rules:t.rules.totp},model:{value:t.totpForm.totp,callback:function(e){t.$set(t.totpForm,"totp",e)},expression:"totpForm.totp"}})],1),t._v(" "),s("p",{staticClass:"six columns"},[s("su-input",{attrs:{type:"password",autocomplete:"off",minlength:6,maxlength:100,placeholder:"Current password",label:"Enter your password to confirm",rules:t.rules.currentPassword},model:{value:t.totpForm.currentPassword,callback:function(e){t.$set(t.totpForm,"currentPassword",e)},expression:"totpForm.currentPassword"}})],1)]),t._v(" "),s("div",{staticClass:"row"},[s("p",{staticClass:"text-xsmall text-light"},[t._v("IMPORTANT: Once TOTP is setup, you have to use the same mobile authenticator app to generate\n\t\t\t\t\t\t\ta new 6-digit TOTP every time you login.\n\t\t\t\t\t\t")]),t._v(" "),s("p",{staticClass:"actions"},[s("su-button",{staticClass:"button-blue",attrs:{type:"submit",processing:t.isTOTPinProgress}},[t._v("Enable")]),t._v(" "),s("su-button",{staticClass:"button button-outline cancel",nativeOn:{click:function(e){return t.toggleTOTPForm(e)}}},[t._v("Cancel")])],1)])]):t._e(),t._v(" "),"totp"==t.twoFAType?s("div",[s("h3",[t._v("Authenticator TOTP is enabled on your account")]),t._v(" "),s("p",[t._v("Every time you login, you will be prompted to enter a 6 digit TOTP that your\n\t\t\t\t\t\tmobile authenticator app generates.\n\t\t\t\t\t")]),t._v(" "),s("p",[t._v("\n\t\t\t\t\t\tDisabling TOTP is not recommended. If you still wish to do it, click the following\n\t\t\t\t\t\tbutton and set a new 6 digit PIN above.\n\t\t\t\t\t")]),t._v(" "),s("p",[s("su-button",{staticClass:"button button-outline",nativeOn:{click:function(e){return t.enablePINForm(e)}}},[t._v("Disable 2FA TOTP")])],1)]):t._e()],1)])])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Enable 2Factor TOTP in place of PIN for added security.\n\t\t\t\t\t\tUse apps like Google® Authenticator, Microsoft® Authenticator, or Authy on your mobile phone to\n\t\t\t\t\t\tgenerate 6 digit TOTPs for every login. "),s("a",{attrs:{href:"https://support.zerodha.com/category/your-zerodha-account/login-credentials/login-credentials-of-trading-platforms/articles/time-based-otp-setup",target:"_blank"}},[t._v("Learn more")]),t._v(".\n\t\t\t\t\t")])}],r=s("2f62"),a=s("598f"),o=s("d1de"),l=s("9c9e"),c=s("025e");function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function h(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(s,!0).forEach(function(e){d(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function d(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const p=o["b"];var g={mixins:[l["a"]],data:function(){let t=(t,e)=>{return"password"!==this.form.type||(this.form.password!==this.form.password2?new Error("Passwords do not match."):e===this.examplePassword?new Error("Please don't use the example! Come up with your own passphrase."):void 0)},e=(t,e)=>{return"pin"!==this.form.type||(e.match(/[0-9]{6}/)?this.form.pin!==this.form.pin2?new Error("PINs do not match."):void 0:new Error("PIN must be a 6 digit number."))},s=(t,e)=>{if(!e.match(/[0-9]{6}/))return new Error("TOTP must be a 6 digit number.")};return{form:{type:"password",currentPassword:"",password:"",password2:"",pin:"",pin2:""},totpForm:{currentPassword:"",totp:""},totp:{showForm:!1,image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg=="},examplePassword:"icy mangoes fly kites high",isPasswordChangeInProgress:!1,isTOTPinProgress:!1,rules:{currentPassword:[{required:!0,label:"Existing password"}],password:[{validator:t,required:!0,label:"Password"}],pin:[{validator:e,required:!0,label:"PIN"}],totp:[{validator:s,required:!0,label:"TOTP"}]}}},mounted:function(){this.$nextTick(()=>{this.focusFirstField()})},computed:h({},Object(r["c"])(p,["twoFAType"])),methods:h({},Object(r["d"])(p,["setTwoFAType"]),{focusFirstField(){this.$el.getElementsByTagName("input")[0].focus()},resetForm(){this.form.currentPassword="",this.form.password="",this.form.password2="",this.form.pin="",this.form.pin2="",this.totpForm.currentPassword="",this.totpForm.totp=""},submitPasswordForm(){if(!this.$refs["passwordForm"].validate())return;this.isPasswordChangeInProgress=!0;let t={},e=null;"password"===this.form.type?(t={current_password:this.form.currentPassword,new_password:this.form.password},e=a["a"].changePassword):"pin"===this.form.type&&(t={current_password:this.form.currentPassword,twofa_type:this.form.type,twofa_value:this.form.pin},e=a["a"].changeTwoFA),e(t).then(t=>{"pin"===this.form.type&&this.setTwoFAType(this.form.type),this.resetForm(),this.isPasswordChangeInProgress=!1,this.$toast.success({title:"Done",message:"password"===this.form.type?"Password changed successfully":"PIN changed successfully",orientation:this.$toast.TOP_RIGHT})}).catch(t=>{this.resetForm(),this.focusFirstField(),this.isPasswordChangeInProgress=!1,this.$toast.error({title:"Error",message:Object(c["g"])(t).message,orientation:this.$toast.TOP_RIGHT})})},submitTOTPForm(){if(!this.$refs["totpForm"].validate())return;this.isTOTPinProgress=!0;let t={current_password:this.totpForm.currentPassword,twofa_type:"totp",twofa_value:this.totpForm.totp};a["a"].changeTwoFA(t).then(t=>{this.setTwoFAType("totp"),this.toggleTOTPForm(),this.resetForm(),this.isTOTPinProgress=!1,this.$toast.success({title:"TOTP enabled",message:"TOTP authentication is now enabled on your account.",orientation:this.$toast.BOTTOM_RIGHT})}).catch(t=>{this.resetForm(),this.$refs["totpForm"].$el.getElementsByTagName("input")[0].focus(),this.isTOTPinProgress=!1,this.$toast.error({title:"Error",message:Object(c["g"])(t).message,orientation:this.$toast.BOTTOM_RIGHT})})},gotoProfile(){this.$router.push({name:"profile"})},enablePINForm(){this.form.type="pin",this.focusFirstField(),Object(c["c"])(this.$refs.passwordForm.$el,"shake")},toggleTOTPForm(){this.totp.showForm=!this.totp.showForm,this.totp.showForm&&this.getTOTP()},getTOTP(){a["a"].getTOTP({}).then(t=>{this.totp.image=t.data.data.image}).catch(t=>{this.$toast.error({title:"Error",message:Object(c["g"])(t).message,orientation:this.$toast.TOP_RIGHT})})}})},f=g,v=s("2877"),m=Object(v["a"])(f,i,n,!1,null,null,null);e["default"]=m.exports},"0721":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"tour",rawName:"v-tour",value:"default",expression:"'default'"}],staticClass:"marketwatch-sidebar"},[s("div",{staticClass:"omnisearch-wrap"},[s("span",{staticClass:"icon icon-search"}),t._v(" "),s("omnisearch",{attrs:{insManager:t.instrumentManager,styleClasses:{}},on:{add:t.addItem,place:t.onOmneSearchPlace}})],1),t._v(" "),t.currentWatch?s("div",{staticClass:"instruments"},[t.isMarketWatchFetching||t.isTickerConnecting?s("loading-bar"):t._e(),t._v(" "),t.isMarketWatchFetchFailed?s("error-state",{attrs:{title:"Marketwatch couldn't be loaded.",error:t.marketwatchesError}}):t._e(),t._v(" "),s("transition",{attrs:{name:"list",tag:"div"}},[t.currentWatch&&t.currentWatch.items&&0===t.currentWatch.items.length?s("empty-state",{attrs:{image:t.getStatic("images/illustrations/marketwatch.svg")}},[s("div",{attrs:{slot:"message"},slot:"message"},[s("h2",[t._v("Nothing here.")]),t._v(" "),s("p",[t._v("Use the search bar at the top to add some instruments")])]),t._v(" "),s("div",{attrs:{slot:"action"},slot:"action"},[s("button",{staticClass:"button-blue",on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"default",void 0,e.key,void 0)?null:(e.preventDefault(),t.triggerSearch())}}},[t._v("Add instrument")])])]):t._e()],1),t._v(" "),s("vddl-list",{staticClass:"list-flat",attrs:{list:t.currentWatch.items,drop:t.handleDragDrop,horizontal:!1}},t._l(t.currentWatch.items,function(e,i){return s("vddl-draggable",{key:e.instrument_token,staticClass:"instrument",class:t.marketwatchItemStyleObject(i,e),attrs:{index:i,draggable:e,wrapper:t.currentWatch.items,"effect-allowed":"move",moved:t.handleDragMoved},on:{click:function(e){return t.rowClicked(i)}}},[s("div",{on:{mouseenter:function(e){return t.onItemHover(i)},mouseleave:function(e){return t.onItemLeave(i)},click:function(e){return t.onItemClick(i)}}},[s("div",{staticClass:"info"},[s("span",{staticClass:"symbol"},[s("span",[s("span",{staticClass:"nice-name",domProps:{innerHTML:t._s(t.dateSuperScript(e.instrument.niceName))}}),t._v(" "),t.showExchange(e.instrument.exchange)?s("span",{staticClass:"exchange"},[t._v(t._s(e.instrument.exchange))]):t._e(),t._v(" "),e.instrument.tradable?t._e():s("span",{staticClass:"exchange"},[t._v("INDEX")]),t._v(" "),e.instrument.isEvent?s("span",{staticClass:"events-label text-blue"},[t._v("EVENT")]):t._e()]),t._v(" "),t.showHoldings&&e.holdingQuantities?s("span",{staticClass:"holding-quantities"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.holdingQuantities)),s("span",{staticClass:"icon icon-briefcase"})]):t._e()]),t._v(" "),t.ticks[e.instrument_token]?s("span",{staticClass:"price"},[t.showPriceChange?s("span",[t.isPriceChangePercent?s("span",{staticClass:"change-percent dim"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t._f("decimalPad")(t.ticks[e.instrument_token].change,2))+" "),s("span",{staticClass:"text-xxsmall"},[t._v("%")])]):s("span",{staticClass:"change-percent dim"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t._f("decimalPad")(t.ticks[e.instrument_token].absoluteChange,e.instrument.precision))+"\n\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),t.showDirection?[t.ticks[e.instrument_token].change>0?s("span",{staticClass:"change-indicator icon icon-chevron-up"}):t._e(),t._v(" "),t.ticks[e.instrument_token].change<0?s("span",{staticClass:"change-indicator icon icon-chevron-down"}):t._e(),t._v(" "),0==t.ticks[e.instrument_token].change?s("span",{staticClass:"change-indicator icon icon-circle"}):t._e()]:t._e(),t._v(" "),s("span",{staticClass:"last-price"},[t._v(t._s(t._f("decimalPad")(t.ticks[e.instrument_token].lastPrice,e.instrument.precision)))])],2):t._e()]),t._v(" "),t.isMobile?t._e():s("transition",{attrs:{name:"fade"}},[t.currentItemHoverIndex===i?s("span",{staticClass:"actions"},[e.instrument.tradable?s("su-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"button-blue buy",attrs:{type:"button",title:"Buy (B)"},nativeOn:{click:function(s){return t.placeOrder(e,"BUY")}}},[t._v("B")]):t._e(),t._v(" "),e.instrument.tradable?s("su-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"button-orange sell",attrs:{type:"button",title:"Sell (S)"},nativeOn:{click:function(s){return t.placeOrder(e,"SELL")}}},[t._v("S")]):t._e(),t._v(" "),s("su-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"button-outline",attrs:{type:"button",title:"Market Depth (D)"},nativeOn:{click:function(s){return t.toggleMarketDepth(e)}}},[s("span",{staticClass:"icon icon-align-center"})]),t._v(" "),s("su-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"button-outline",attrs:{type:"button",title:"Chart (C)"},nativeOn:{click:function(s){return t.openChart(e)}}},[s("span",{staticClass:"icon icon-trending-up"})]),t._v(" "),s("su-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"button-outline",attrs:{type:"button",title:"Delete (del)"},nativeOn:{click:function(s){return t.deleteItem(e.id,i)}}},[s("span",{staticClass:"icon icon-trash"})]),t._v(" "),s("context-menu",{attrs:{"margin-top":8,"parent-selector":".marketwatch-sidebar"}},[s("su-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"context-menu-button button-outline",attrs:{slot:"button",type:"button",title:"More"},slot:"button"},[s("span",{staticClass:"icon icon-ellipsis"})]),t._v(" "),s("template",{slot:"menu"},[t.isMobile?t._e():s("li",{staticClass:"pin"},[s("span",{staticClass:"icon icon-paperclip"}),t._v("\n\t\t\t\t\t\t\t\t\t\tPin\n\t\t\t\t\t\t\t\t\t\t"),s("span",{staticClass:"options"},[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.setPinInstrument(e,0)}}},[t._v("1")]),t._v(" "),s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.setPinInstrument(e,1)}}},[t._v("2")])])]),t._v(" "),e.instrument?s("li",[e.instrument.tradable&&t.isEquity(e.instrument.exchange)?s("a",{staticClass:"svg",attrs:{rel:"noopener noreferrer",href:"#"},on:{click:function(s){return s.preventDefault(),t.createGTT(e.instrument)}}},[s("img",{attrs:{src:"/static/images/gtt-icon.svg"}}),s("span",[t._v("Create GTT "),s("span",{staticClass:"text-lightest"},[t._v(" / GTC")])])]):t._e()]):t._e(),t._v(" "),s("li",[s("a",{attrs:{rel:"noopener noreferrer",href:"#"},on:{click:function(s){return s.preventDefault(),t.openChart(e,!0)}}},[s("span",{staticClass:"icon icon-trending-up"}),t._v("\n\t\t\t\t\t\t\t\t\t\t\tPopout chart\n\t\t\t\t\t\t\t\t\t\t")])]),t._v(" "),s("addon-context-menu",{attrs:{"data-type":"instrument",data:e.instrument}})],1)],2)],1):t._e()]),t._v(" "),t.currentClickedRow==i&&t.isMobile?s("mobile-context-menu",{on:{close:function(s){return t.hideContextMenu(e)}}},[s("template",{slot:"menu"},[s("li",[e.instrument.tradable?s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.placeOrder(e,"BUY")}}},[s("span",{staticClass:"icon icon-plus"}),t._v(" Buy")]):t._e()]),t._v(" "),s("li",[e.instrument.tradable?s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.placeOrder(e,"SELL")}}},[s("span",{staticClass:"icon icon-minus"}),t._v(" Sell")]):t._e()]),t._v(" "),s("li",[e.instrument.tradable&&t.isEquity(e.instrument.exchange)?s("a",{staticClass:"svg",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.createGTT(e.instrument)}}},[s("img",{attrs:{src:"/static/images/gtt-icon.svg"}}),s("span",[t._v("Create GTT "),s("span",{staticClass:"text-lightest"},[t._v(" / GTC")])])]):t._e()]),t._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.toggleMarketDepth(e)}}},[s("span",{staticClass:"icon icon-align-center"}),t._v(" Market Depth")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.openChart(e)}}},[s("span",{staticClass:"icon icon-trending-up"}),t._v(" Chart")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.deleteItem(e.id,i)}}},[s("span",{staticClass:"icon icon-trash"}),t._v(" Delete")])]),t._v(" "),s("li",[s("a",{attrs:{rel:"noopener noreferrer"},on:{click:function(s){return t.openChart(e,!0)}}},[s("span",{staticClass:"icon icon-trending-up"}),t._v(" Popout chart")])]),t._v(" "),s("addon-context-menu",{attrs:{"data-type":"instrument",data:e.instrument}})],1)],2):t._e(),t._v(" "),s("transition",{attrs:{name:"market-depth-fade"}},[t.marketDepthMap[e.id]?s("market-depth",{attrs:{data:t.marketDepthData(e)}}):t._e()],1)],1)])}),1)],1):t._e(),t._v(" "),s("ul",{staticClass:"marketwatch-selector list-flat"},[t._l(t.marketwatches,function(e,i){return s("li",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:i,staticClass:"item",class:{selected:i==t.currentWatchId},attrs:{title:e.name},on:{click:function(e){return t.switchCurrentWatch(i)}}},[t._v("\n\t\t\t"+t._s(i+1)+"\n\t\t")])}),t._v(" "),s("li",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideSettings,expression:"hideSettings"},{name:"on-escape",rawName:"v-on-escape",value:t.hideSettings,expression:"hideSettings"}],staticClass:"settings"},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:"Marketwatch settings","tooltip-pos":"left"}},[s("span",{staticClass:"icon icon-settings",on:{click:function(e){e.preventDefault(),t.showSettings=!t.showSettings}}})]),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showSettings,expression:"showSettings"}],staticClass:"dropdown-nav"},[s("ul",{staticClass:"list-flat dropdown-nav-list"},[s("li",[s("div",{staticClass:"head"},[s("span",{staticClass:"dim"},[t._v("Sort by")]),t._v(" "),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"save",attrs:{title:"Save sorted marketwatch"}},[s("span",{staticClass:"icon icon-upload",on:{click:t.saveSorted}})])]),t._v(" "),s("div",{staticClass:"actions"},[s("su-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"button-small button-outline",attrs:{title:"Sort alphabetically"},nativeOn:{click:function(e){return t.sortCurrentWatch("tradingsymbol")}}},[t._v("\n\t\t\t\t\t\t\t\t\tA-Z\n\t\t\t\t\t\t\t\t")]),t._v(" "),s("su-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"button-small button-outline",attrs:{title:"Sort by change"},nativeOn:{click:function(e){return t.sortCurrentWatch("change")}}},[t._v("\n\t\t\t\t\t\t\t\t\t%\n\t\t\t\t\t\t\t\t")]),t._v(" "),s("su-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"button-small button-outline",attrs:{title:"Sort by LTP"},nativeOn:{click:function(e){return t.sortCurrentWatch("lastPrice")}}},[t._v("\n\t\t\t\t\t\t\t\t\tLTP\n\t\t\t\t\t\t\t\t")]),t._v(" "),s("su-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"button-small button-outline",attrs:{title:"Sort by exchange"},nativeOn:{click:function(e){return t.sortCurrentWatch("segment")}}},[t._v("\n\t\t\t\t\t\t\t\t\tEXH\n\t\t\t\t\t\t\t\t")])],1)]),t._v(" "),s("li",{staticClass:"option"},[s("hr"),t._v(" "),s("su-checkbox",{attrs:{label:"Show direction"},model:{value:t.currentShowDirection,callback:function(e){t.currentShowDirection=e},expression:"currentShowDirection"}})],1),t._v(" "),s("li",{staticClass:"option"},[s("su-checkbox",{attrs:{label:"Show change"},model:{value:t.currentShowPriceChange,callback:function(e){t.currentShowPriceChange=e},expression:"currentShowPriceChange"}})],1),t._v(" "),s("li",{staticClass:"option"},[s("su-checkbox",{attrs:{label:"Change in %"},model:{value:t.isPriceChangePercent,callback:function(e){t.isPriceChangePercent=e},expression:"isPriceChangePercent"}})],1),t._v(" "),s("li",{staticClass:"option"},[s("su-checkbox",{attrs:{label:"Show holdings"},model:{value:t.currentShowHoldings,callback:function(e){t.currentShowHoldings=e},expression:"currentShowHoldings"}})],1)])])])],1)],2)])},n=[],r=s("2f62"),a=s("f586"),o=s("9c9e"),l=s("25b5"),c=s("025e"),u=s("0a3b"),h=s("5fb0"),d=s("d9d2"),p=s("9f74"),g=s("39e3"),f=s("d4ff"),v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loading-bar"})},m=[],_={name:"loading-bar",data(){return{}}},b=_,y=(s("013d"),s("2877")),w=Object(y["a"])(b,v,m,!1,null,"12d7700c",null),C=w.exports,T=s("c184"),k=s("58b4");function x(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function S(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?x(s,!0).forEach(function(e){E(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):x(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function E(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var O={inject:["ticker","instrumentManager"],mixins:[o["a"]],components:{omnisearch:T["a"],"market-depth":k["a"],"loading-bar":C},data(){return{keyToSort:null,showSettings:!1,currentItemHoverIndex:null,currentWatch:[],currentIndex:null,highlightedIndex:null,currentDragOverItem:null,currentDraggedItem:null,currentClickedRow:null,tickerConnecting:!0,tickerShutdown:!1,holdingsQuantities:{},currentWatchTokens:[],marketDepthMap:{},keyboardShortcutEvents:[{keys:["40"],cb:this.moveDown,stop:!0,prevent:!0},{keys:["38"],cb:this.moveUp,stop:!0,prevent:!0},{keys:["46"],cb:this.deleteCurrentItem,stop:!0,prevent:!0},{keys:["8"],cb:this.deleteCurrentItem,stop:!0,prevent:!0},{keys:["66"],cb:()=>this.placeCurrentItemOrder("BUY"),stop:!0,prevent:!0},{keys:["83"],cb:()=>this.placeCurrentItemOrder("SELL"),stop:!0,prevent:!0},{keys:["68"],cb:this.openMarketDepth,stop:!0,prevent:!0},{keys:["67"],cb:()=>this.openChart(this.currentWatch.items[this.currentIndex]),stop:!0,prevent:!0},{keys:["16","17","49"],cb:()=>this.switchCurrentWatch(0),stop:!0,prevent:!0},{keys:["16","17","50"],cb:()=>this.switchCurrentWatch(1),stop:!0,prevent:!0},{keys:["16","17","51"],cb:()=>this.switchCurrentWatch(2),stop:!0,prevent:!0},{keys:["16","17","52"],cb:()=>this.switchCurrentWatch(3),stop:!0,prevent:!0},{keys:["16","17","53"],cb:()=>this.switchCurrentWatch(4),stop:!0,prevent:!0}],chartSrc:"chart"}},created(){this.fetchMarketwatches(),this.preProcess()},mounted(){this.$keyEvents.register(this.keyboardShortcutEvents),this.$events.on(l["b"].EVENTS.SEARCH,this.triggerSearch)},beforeDestroy(){this.unsubscribeCurrentWatch(),this.$events.off(l["b"].EVENTS.SEARCH,this.triggerSearch),this.postProcess()},activated(){this.preProcess()},deactivated(){this.postProcess()},computed:S({},Object(r["c"])(["isMobile"]),{},Object(r["c"])(f["b"],["holdings"]),{},Object(r["c"])(g["b"],["ticks","tickerConnectionStatus"]),{},Object(r["c"])(p["b"],["currentWatchId","marketwatches","marketwatchFetchStatus","priceChangeType","marketwatchesError","showPriceChange","showHoldings","showDirection"]),{isFetched(){return!(this.marketwatchFetchStatus!==h["c"].API_STATUSES.success||!this.marketwatches)},isMarketWatchFetching(){return this.marketwatchFetchStatus===h["c"].API_STATUSES.fetching},isMarketWatchFetchFailed(){return this.marketwatchFetchStatus===h["c"].API_STATUSES.error},isTickerConnecting(){return this.tickerConnectionStatus===h["c"].API_STATUSES.fetching},isTickerError(){return this.tickerConnectionStatus===h["c"].API_STATUSES.error},currentShowPriceChange:{get(){return this.showPriceChange},set(t){this.setShowPriceChange(t)}},currentShowHoldings:{get(){return this.showHoldings},set(t){this.setShowHoldings(t)}},currentShowDirection:{get(){return this.showDirection},set(t){this.setShowDirection(t)}},isPriceChangePercent:{get(){return"percent"===this.priceChangeType},set(t){let e=t?"percent":"absolute";this.setPriceChangeType(e)}}}),watch:{isMobile(){for(let t in this.marketDepthMap)this.marketDepthMap[t]&&this.toggleMarketDepth({id:t});this.marketDepthMap={}},marketwatches(){this.setCurrentWatch()},currentWatchId(){this.setCurrentWatch()},holdings(t){let e={};if(this.holdings&&this.holdings.length>0)for(let s of this.holdings)s.instrument_token&&(e[s.instrument_token]=s.quantity+(s.t1_quantity||0));this.holdingsQuantities=e,this.setCurrentWatch()},currentWatch(t,e){let s=[],i=[];t&&t.items&&(s=t.items.map(t=>{return t.instrument_token}).filter(t=>{if(t)return t}),this.currentWatchTokens=s),e&&e.items&&(i=e.items.map(t=>{return t.instrument_token}).filter(t=>{if(-1===s.indexOf(t))return t})),this.ticker.subscribe(s,p["b"]),this.ticker.setMode(this.ticker.modeLTPC,s,p["b"]),this.ticker.unsubscribe(i,p["b"])}},methods:S({},Object(r["b"])(p["b"],["fetchMarketwatches"]),{},Object(r["d"])(p["b"],["setCurrentWatchId","setMarketwatchFetchStatus","updatedMarketwatch","setPriceChangeType","setShowPriceChange","setShowHoldings","setShowDirection","pinInstrument"]),{preProcess(){this.$events.on(l["b"].EVENTS.ADD,this.addItem)},postProcess(){this.$events.off(l["b"].EVENTS.ADD,this.addItem)},sortCurrentWatch(t){let e,s=this.$clone(this.currentWatch),i=!0;if(this.keyToSort===t?(i=!i,this.keyToSort=null):this.keyToSort=t,"change"===t||"lastPrice"===t)for(let n of s.items)n[t]=this.ticks[n.instrument_token][t];e=s.items.sort(function(e,s){let n=e[t],r=s[t];return i?n<r?-1:n>r?1:0:n>r?-1:n<r?1:0}),s.items=e,this.currentWatch=s},unsubscribeCurrentWatch(t){if(!t||!t.items)return;let e=t.items.map(t=>{return t.instrument_token});this.ticker.unsubscribe(e,p["b"])},switchCurrentWatch(t){this.marketwatches&&this.marketwatches.length>0&&this.marketwatches.length>this.currentWatchId&&this.setCurrentWatchId(t)},setCurrentWatch(){if(void 0===this.marketwatches[this.currentWatchId])return;let t=[],e=this.$clone(this.marketwatches[this.currentWatchId]);for(let s of e.items){let e=this.instrumentManager.get(s.tradingsymbol,s.segment);e&&(s.instrument=e,s.holdingQuantities=this.holdingsQuantities[s.instrument_token],t.push(s))}e.items=t,this.currentWatch=e},showExchange(t){return t!==d["b"].EXCHANGES.NSE&&t!==d["b"].EXCHANGES.NFO&&t!==d["b"].EXCHANGES.INDICES},moveUp(){null!==this.currentIndex?this.currentWatch.items.length>0&&(this.currentIndex>0?this.currentIndex--:this.currentIndex=this.currentWatch.items.length-1,this.scrollToElement(".instrument.index"+this.currentIndex)):this.currentIndex=0},moveDown(){null!==this.currentIndex?this.currentWatch.items.length>0&&(this.currentIndex<this.currentWatch.items.length-1?this.currentIndex++:this.currentIndex=0,this.scrollToElement(".instrument.index"+this.currentIndex)):this.currentIndex=0},marketwatchItemStyleObject(t,e){let s="index"+[t];return{index:!e.instrument.tradable,up:this.ticks[e.instrument_token]&&this.ticks[e.instrument_token].change>0,down:this.ticks[e.instrument_token]&&this.ticks[e.instrument_token].change<0,selected:t===this.currentIndex,highlight:t===this.highlightedIndex,[s]:!0,draggedover:t===this.currentDragOverItem,"active-marketdepth":!0===this.marketDepthMap[e.id]}},indexOfInstrument(t,e){for(let s=0;s<t.items.length;s++){let i=t.items[s];if(i.tradingsymbol===e.tradingsymbol&&i.segment===e.segment)return s}return null},highlightItem(t){this.highlightedIndex=t,setTimeout(()=>{this.highlightedIndex=null},600)},addItem(t){let e=this.indexOfInstrument(this.currentWatch,t);if(null!==e)return this.scrollToElement(".instrument.index"+e),this.$toast.info({title:"Already added",message:t.tradingsymbol+" is already on the marketwatch.",orientation:this.$toast.TOP_LEFT}),void setTimeout(()=>{this.highlightItem(e)},500);let s=this.$clone(this.currentWatch),i=s.items[s.items.length-1]||{id:0,weight:0};s.items.push({tradingsymbol:t.tradingsymbol,weight:i.weight+1,lot_size:t.lotSize,segment:t.segment,id:i.id+1,strike_price:0,last_price:0,token:null,expiry:""}),this.updatedMarketwatch(s);let n=s.items.length-1;a["a"].add(this.currentWatch.id,{segment:t.segment,tradingsymbol:t.tradingsymbol,watch_id:this.currentWatch.id,weight:this.currentWatch.items[this.currentWatch.items.length-1]?this.currentWatch.items[this.currentWatch.items.length-1].weight+1:0}).then(t=>{let e=this.$clone(this.currentWatch);n>=0&&(e.items[n]=t.data.data,this.updatedMarketwatch(e)),this.$nextTick(()=>{this.scrollToBottom(),setTimeout(()=>{this.currentIndex=n},200)})}).catch(t=>{let e=this.$clone(this.currentWatch);n&&(e.items.splice(n,1),this.updatedMarketwatch(e)),this.$toast.error({title:"Error",message:Object(c["g"])(t).message,orientation:this.$toast.TOP_LEFT})})},deleteItem(t,e){let s=this.$clone(this.currentWatch);s.items.splice(e,1),this.updatedMarketwatch(s),a["a"].deleteItem(this.currentWatch.id,t).then(()=>{})},deleteCurrentItem(){this.currentWatch&&null!==this.currentIndex&&this.deleteItem(this.currentWatch.items[this.currentIndex].id,this.currentIndex)},updateWeights(t,e,s,i){a["a"].update(t,e).then(t=>{this.fetchMarketwatches(),s&&this.$toast.success({title:"Done",message:s,orientation:this.$toast.TOP_LEFT})}).catch(()=>{i&&this.$toast.error({title:"Error",message:i,orientation:this.$toast.TOP_LEFT})})},toggleMarketDepth(t){let e=this.marketDepthMap[t.id];this.$set(this.marketDepthMap,t.id,!e)},scrollToBottom(t,e){let s=t?this.$el.querySelector(t):this.$el,i=e||0;s.scrollTop=s.scrollHeight+i},scrollToElement(t){let e=this.$el.querySelector(t);e&&e.scrollIntoView&&e.scrollIntoView()},handleDragDrop(t){let e=this.$clone(this.currentWatch);e.items.splice(t.index,0,t.item),this.updatedMarketwatch(e)},handleDragMoved(t){let e=this.$clone(this.currentWatch);e.items.splice(t,1),this.updatedMarketwatch(e);let s={};for(let i=0;i<e.items.length;i++){let t=e.items[i].id;s[t]=i+1}this.updateWeights(e.id,s)},onOmneSearchPlace(t,e){this.placeOrder({instrument_token:null,instrument:t},e)},placeOrder(t,e){this.$events.emit(d["b"].EVENTS.ORDER_PLACE,{instrument:t.instrument,instrumentToken:t.instrument_token,transactionType:e,quantity:t.instrument.lotSize||1,disclosedQuantity:0,price:this.ticks[t.instrument_token]&&this.ticks[t.instrument_token].lastPrice,lastPrice:this.ticks[t.instrument_token]&&this.ticks[t.instrument_token].lastPrice,triggerPrice:0,stoplossPrice:0,squareoffPrice:0,trailingStoplossPrice:0})},placeCurrentItemOrder(t){this.currentWatch&&null!==this.currentIndex&&this.currentWatch.items[this.currentIndex].instrument.tradable&&this.placeOrder(this.currentWatch.items[this.currentIndex],t)},openMarketDepth(){this.currentWatch&&null!==this.currentIndex&&this.toggleMarketDepth(this.currentWatch.items[this.currentIndex])},openChart(t,e){if(e){let e=this.openPopoutChart(t.instrument_token,t.instrument.segment,t.instrument.tradingsymbol),s=this.$router.resolve({path:e});window.open(s.href,"_blank")}else this.openInAppChart(t.instrument_token,t.instrument.segment,t.instrument.tradingsymbol)},onItemHover(t){this.isMobile||(this.currentItemHoverIndex=t)},onItemClick(t){this.isMobile&&(this.currentItemHoverIndex=t,this.currentClickedRow=t)},onItemLeave(t){this.currentItemHoverIndex=null},hideSettings(){this.showSettings=!1},hideContextMenu(t){this.currentClickedRow=null},saveSorted(){let t={};for(let e=0;e<this.currentWatch.items.length;e++){let s=this.currentWatch.items[e].id;t[s]=e+1}this.updateWeights(this.currentWatch.id,t,"Saved marketwatch order","Error while saving marketwatch order")},setPinInstrument(t,e){this.pinInstrument({index:e,instrument:{segment:t.segment,tradingsymbol:t.tradingsymbol,instrumentToken:t.instrument_token,expiry:t.expiry}}),Object(c["c"])(document.querySelectorAll(".pinned-instruments .instrument-widget")[e],"shake")},marketDepthData(t){return{instrument:t.instrument,instrumentToken:t.instrument_token,expiry:t.expiry}},dateSuperScript(t){return Object(u["a"])(t)},showStockWidget(t,e){this.$events.emit(h["c"].EVENTS.showStockWidget,{tradingsymbol:t.tradingsymbol,exchange:t.exchange,tab:e})},createGTT(t){this.$events.emit(d["b"].EVENTS.GTT_PLACE,{lastPrice:this.ticks[t.instrument_token]&&this.ticks[t.instrument_token].lastPrice,condition:{tradingsymbol:t.tradingsymbol,exchange:t.exchange}})},isEquity(t){return this.instrumentManager.IsEquity(t)},triggerSearch(t){this.$nextTick(()=>{let e=document.querySelector(".marketwatch-sidebar .omnisearch #search-input"),s=document.createEvent("HTMLEvents");s.initEvent("input",!1,!0),e.value=t||"NIFTY 50",e.focus(),e.dispatchEvent(s)})}})},P=O,D=Object(y["a"])(P,i,n,!1,null,null,null);e["default"]=D.exports},1304:function(t,e,s){var i=s("cd9d");function n(t){return"function"==typeof t?t:i}t.exports=n},"165b":function(t,e,s){"use strict";var i=s("ba6a"),n=s("5665");function r(){return i["a"].get(Object(n["a"])("notice.all"))}var a={getNotices:r},o=s("5fb0"),l=s("025e");let c=!0;const u="notice",h={notices:null,noticesError:null,noticesFetchStatus:o["a"].initial},d={notices:t=>t.notices,noticesError:t=>t.noticesError,noticesFetchStatus:t=>t.noticesFetchStatus},p={setNotices(t,e){t.notices=e},setNoticesError(t,e){t.noticesError=e},setNoticesFetchStatus(t,e){t.noticesFetchStatus=e}},g={fetchNotices(t){let e=t.commit;t.state;e("setNoticesFetchStatus",o["a"].fetching);let s=a.getNotices();Object(l["f"])({commit:e,apiPromise:s,data:"setNotices",error:"setNoticesError",status:"setNoticesFetchStatus"})}};var f={state:h,getters:d,mutations:p,actions:g,namespaced:c},v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.filteredData.length>0?s("div",{staticClass:"notice text-box yellow"},[s("ul",t._l(t.filteredData,function(e,i){return s("li",{key:i},[s("span",{domProps:{innerHTML:t._s(t.formateTextMessage(e.message))}})])}),0)]):t._e()},m=[],_=s("2f62");function b(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function y(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?b(s,!0).forEach(function(e){w(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):b(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function w(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const C=u;var T={props:{page:{required:!0}},created(){this.fetchNotices()},computed:y({},Object(_["c"])(C,["notices","noticesFetchStatus"]),{filteredData:function(){let t=[];if(!this.notices||0===this.notices.length)return t;for(let e of this.notices)Array.isArray(e.scope)&&e.message&&-1!==e.scope.indexOf(this.page)&&t.push(e);return t}}),methods:y({},Object(_["b"])(C,["fetchNotices"]),{formateTextMessage(t){return t.replace(/\[(.+?)\]\((https?:\/\/.+?)\)/gi,"<a href='$2' target='_blank'>$1</a>")}})},k=T,x=s("2877"),S=Object(x["a"])(k,v,m,!1,null,null,null),E=S.exports;s.d(e,"a",function(){return O});class O{}O.namespace=u,O.install=function(t,e){e.store&&e.store.registerModule(u,f),t.component("notice",E)}},"1b06":function(t,e,s){"use strict";var i=s("ba6a"),n=s("5665");function r(t){return i["a"].get(Object(n["a"])("market.pinnedChart"),{params:{i:t}})}var a={getPinnedChartData:r},o=s("025e"),l=s("5fb0");s.d(e,"b",function(){return u});let c=!0;const u="dashboard",h={pinnedChartData:null,pinnedChartDataError:null,pinnedChartDataFetchStatus:l["a"].initial},d={pinnedChartData:t=>t.pinnedChartData,pinnedChartDataError:t=>t.pinnedChartDataError,pinnedChartDataFetchStatus:t=>t.pinnedChartDataFetchStatus},p={setPinnedChartData(t,e){t.pinnedChartData=e},setPinnedChartDataError(t,e){t.pinnedChartDataError=e},setPinnedChartDataFetchStatus(t,e){t.pinnedChartDataFetchStatus=e}},g={fetchPinnedChartData(t,e){let s=t.commit;t.state;s("setPinnedChartDataFetchStatus",l["a"].fetching);let i=a.getPinnedChartData(e);Object(o["f"])({commit:s,apiPromise:i,data:"setPinnedChartData",status:"setPinnedChartDataFetchStatus",error:"setPinnedChartDataError"})}};e["a"]={state:h,getters:d,mutations:p,actions:g,namespaced:c}},2133:function(t,e,s){"use strict";var i=s("86a6"),n=s.n(i);n.a},"242e":function(t,e,s){var i=s("72af"),n=s("ec69");function r(t,e){return t&&i(t,e,n)}t.exports=r},2799:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"holdings-treemap"},[t.hideStats?t._e():s("div",{staticClass:"row stats"},[s("div",{staticClass:"five columns values"},[s("div",{staticClass:"row"},[s("h2",{staticClass:"value"},[t._v(t._s(t._f("inrFormat")(t.formattedData.totalInvestment,2)))]),t._v(" "),s("div",{staticClass:"label"},[t._v("Investment")])]),t._v(" "),s("div",{staticClass:"row"},[s("h2",{staticClass:"value"},[t._v(t._s(t._f("inrFormat")(t.formattedData.totalValue,2)))]),t._v(" "),s("div",{staticClass:"label"},[t._v("Current")])])]),t._v(" "),s("div",{staticClass:"seven columns pnl text-right"},[s("h1",{staticClass:"value",class:{"text-green":t.formattedData.totalPnl>0,"text-red":t.formattedData.totalPnl<0}},[t.formattedData.totalPnl>0?s("span",[t._v("+")]):t._e(),t._v(t._s(t._f("inrFormat")(t.formattedData.totalPnl,2))+"\n\t\t\t")]),t._v(" "),0!=t.formattedData.totalInvestment?s("span",{class:{"text-green":t.formattedData.totalPnl>0,"text-red":t.formattedData.totalPnl<0}},[t.formattedData.totalPnl>0?s("span",[t._v("+")]):t._e(),t._v("\n\t\t\t\t"+t._s(t._f("decimalPad")((t.formattedData.totalValue-t.formattedData.totalInvestment)/t.formattedData.totalInvestment*100,2))+"%\n\t\t\t")]):t._e(),t._v(" "),s("div",{staticClass:"label"},[t._v("P&L")])])]),t._v(" "),s("div",{staticClass:"chart"},[s("div",{staticClass:"canvas"}),t._v(" "),s("form",[s("su-radio-group",{model:{value:t.treeType,callback:function(e){t.treeType=e},expression:"treeType"}},t._l(t.treeTypes,function(e,i){return s("su-radio",{key:i,attrs:{label:e.label,value:e.val}},[t._v(t._s(e.label))])}),1)],1)]),t._v(" "),t.data&&t.data.length>t.maxItems||t.rawData&&t.rawData.length>t.maxItems?s("div",{staticClass:"disclaimer text-right"},[t._v("\n\t\t* Top "+t._s(t.maxItems)+" holdings by investment value are shown.\n\t")]):t._e()])},n=[],r=s("fd32"),a={value:function(){}};function o(){for(var t,e=0,s=arguments.length,i={};e<s;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new l(i)}function l(t){this._=t}function c(t,e){return t.trim().split(/^|\s+/).map(function(t){var s="",i=t.indexOf(".");if(i>=0&&(s=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:s}})}function u(t,e){for(var s,i=0,n=t.length;i<n;++i)if((s=t[i]).name===e)return s.value}function h(t,e,s){for(var i=0,n=t.length;i<n;++i)if(t[i].name===e){t[i]=a,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=s&&t.push({name:e,value:s}),t}l.prototype=o.prototype={constructor:l,on:function(t,e){var s,i=this._,n=c(t+"",i),r=-1,a=n.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++r<a)if(s=(t=n[r]).type)i[s]=h(i[s],t.name,e);else if(null==e)for(s in i)i[s]=h(i[s],t.name,null);return this}while(++r<a)if((s=(t=n[r]).type)&&(s=u(i[s],t.name)))return s},copy:function(){var t={},e=this._;for(var s in e)t[s]=e[s].slice();return new l(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var s,i,n=new Array(s),r=0;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)},apply:function(t,e,s){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],n=0,r=i.length;n<r;++n)i[n].value.apply(e,s)}};var d,p,g=o,f=0,v=0,m=0,_=1e3,b=0,y=0,w=0,C="object"===typeof performance&&performance.now?performance:Date,T="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function k(){return y||(T(x),y=C.now()+w)}function x(){y=0}function S(){this._call=this._time=this._next=null}function E(t,e,s){var i=new S;return i.restart(t,e,s),i}function O(){k(),++f;var t,e=d;while(e)(t=y-e._time)>=0&&e._call.call(null,t),e=e._next;--f}function P(){y=(b=C.now())+w,f=v=0;try{O()}finally{f=0,A(),y=0}}function D(){var t=C.now(),e=t-b;e>_&&(w-=e,b=t)}function A(){var t,e,s=d,i=1/0;while(s)s._call?(i>s._time&&(i=s._time),t=s,s=s._next):(e=s._next,s._next=null,s=t?t._next=e:d=e);p=t,M(i)}function M(t){if(!f){v&&(v=clearTimeout(v));var e=t-y;e>24?(t<1/0&&(v=setTimeout(P,t-C.now()-w)),m&&(m=clearInterval(m))):(m||(b=C.now(),m=setInterval(D,_)),f=1,T(P))}}S.prototype=E.prototype={constructor:S,restart:function(t,e,s){if("function"!==typeof t)throw new TypeError("callback is not a function");s=(null==s?k():+s)+(null==e?0:+e),this._next||p===this||(p?p._next=this:d=this,p=this),this._call=t,this._time=s,M()},stop:function(){this._call&&(this._call=null,this._time=1/0,M())}};var I=function(t,e,s){var i=new S;return e=null==e?0:+e,i.restart(function(s){i.stop(),t(s+e)},e,s),i},N=g("start","end","cancel","interrupt"),j=[],F=0,L=1,$=2,R=3,H=4,U=5,z=6,W=function(t,e,s,i,n,r){var a=t.__transition;if(a){if(s in a)return}else t.__transition={};B(t,s,{name:e,index:i,group:n,on:N,tween:j,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:F})};function G(t,e){var s=V(t,e);if(s.state>F)throw new Error("too late; already scheduled");return s}function q(t,e){var s=V(t,e);if(s.state>R)throw new Error("too late; already running");return s}function V(t,e){var s=t.__transition;if(!s||!(s=s[e]))throw new Error("transition not found");return s}function B(t,e,s){var i,n=t.__transition;function r(t){s.state=L,s.timer.restart(a,s.delay,s.time),s.delay<=t&&a(t-s.delay)}function a(r){var c,u,h,d;if(s.state!==L)return l();for(c in n)if(d=n[c],d.name===s.name){if(d.state===R)return I(a);d.state===H?(d.state=z,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete n[c]):+c<e&&(d.state=z,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete n[c])}if(I(function(){s.state===R&&(s.state=H,s.timer.restart(o,s.delay,s.time),o(r))}),s.state=$,s.on.call("start",t,t.__data__,s.index,s.group),s.state===$){for(s.state=R,i=new Array(h=s.tween.length),c=0,u=-1;c<h;++c)(d=s.tween[c].value.call(t,t.__data__,s.index,s.group))&&(i[++u]=d);i.length=u+1}}function o(e){var n=e<s.duration?s.ease.call(null,e/s.duration):(s.timer.restart(l),s.state=U,1),r=-1,a=i.length;while(++r<a)i[r].call(t,n);s.state===U&&(s.on.call("end",t,t.__data__,s.index,s.group),l())}function l(){for(var i in s.state=z,s.timer.stop(),delete n[e],n)return;delete t.__transition}n[e]=s,s.timer=E(r,0,s.time)}var Y=function(t,e){var s,i,n,r=t.__transition,a=!0;if(r){for(n in e=null==e?null:e+"",r)(s=r[n]).name===e?(i=s.state>$&&s.state<U,s.state=z,s.timer.stop(),s.on.call(i?"interrupt":"cancel",t,t.__data__,s.index,s.group),delete r[n]):a=!1;a&&delete t.__transition}},Q=function(t){return this.each(function(){Y(this,t)})},K=s("a43d");function Z(t,e){var s,i;return function(){var n=q(this,t),r=n.tween;if(r!==s){i=s=r;for(var a=0,o=i.length;a<o;++a)if(i[a].name===e){i=i.slice(),i.splice(a,1);break}}n.tween=i}}function X(t,e,s){var i,n;if("function"!==typeof s)throw new Error;return function(){var r=q(this,t),a=r.tween;if(a!==i){n=(i=a).slice();for(var o={name:e,value:s},l=0,c=n.length;l<c;++l)if(n[l].name===e){n[l]=o;break}l===c&&n.push(o)}r.tween=n}}var J=function(t,e){var s=this._id;if(t+="",arguments.length<2){for(var i,n=V(this.node(),s).tween,r=0,a=n.length;r<a;++r)if((i=n[r]).name===t)return i.value;return null}return this.each((null==e?Z:X)(s,t,e))};function tt(t,e,s){var i=t._id;return t.each(function(){var t=q(this,i);(t.value||(t.value={}))[e]=s.apply(this,arguments)}),function(t){return V(t,i).value[e]}}var et=s("482f"),st=function(t,e){var s;return("number"===typeof e?K["c"]:e instanceof et["a"]?K["d"]:(s=Object(et["a"])(e))?(e=s,K["d"]):K["f"])(t,e)};function it(t){return function(){this.removeAttribute(t)}}function nt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function rt(t,e,s){var i,n,r=s+"";return function(){var a=this.getAttribute(t);return a===r?null:a===i?n:n=e(i=a,s)}}function at(t,e,s){var i,n,r=s+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===r?null:a===i?n:n=e(i=a,s)}}function ot(t,e,s){var i,n,r;return function(){var a,o,l=s(this);if(null!=l)return a=this.getAttribute(t),o=l+"",a===o?null:a===i&&o===n?r:(n=o,r=e(i=a,l));this.removeAttribute(t)}}function lt(t,e,s){var i,n,r;return function(){var a,o,l=s(this);if(null!=l)return a=this.getAttributeNS(t.space,t.local),o=l+"",a===o?null:a===i&&o===n?r:(n=o,r=e(i=a,l));this.removeAttributeNS(t.space,t.local)}}var ct=function(t,e){var s=Object(r["c"])(t),i="transform"===s?K["h"]:st;return this.attrTween(t,"function"===typeof e?(s.local?lt:ot)(s,i,tt(this,"attr."+t,e)):null==e?(s.local?nt:it)(s):(s.local?at:rt)(s,i,e))};function ut(t,e){return function(s){this.setAttribute(t,e(s))}}function ht(t,e){return function(s){this.setAttributeNS(t.space,t.local,e(s))}}function dt(t,e){var s,i;function n(){var n=e.apply(this,arguments);return n!==i&&(s=(i=n)&&ht(t,n)),s}return n._value=e,n}function pt(t,e){var s,i;function n(){var n=e.apply(this,arguments);return n!==i&&(s=(i=n)&&ut(t,n)),s}return n._value=e,n}var gt=function(t,e){var s="attr."+t;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(null==e)return this.tween(s,null);if("function"!==typeof e)throw new Error;var i=Object(r["c"])(t);return this.tween(s,(i.local?dt:pt)(i,e))};function ft(t,e){return function(){G(this,t).delay=+e.apply(this,arguments)}}function vt(t,e){return e=+e,function(){G(this,t).delay=e}}var mt=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?ft:vt)(e,t)):V(this.node(),e).delay};function _t(t,e){return function(){q(this,t).duration=+e.apply(this,arguments)}}function bt(t,e){return e=+e,function(){q(this,t).duration=e}}var yt=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?_t:bt)(e,t)):V(this.node(),e).duration};function wt(t,e){if("function"!==typeof e)throw new Error;return function(){q(this,t).ease=e}}var Ct=function(t){var e=this._id;return arguments.length?this.each(wt(e,t)):V(this.node(),e).ease},Tt=function(t){"function"!==typeof t&&(t=Object(r["a"])(t));for(var e=this._groups,s=e.length,i=new Array(s),n=0;n<s;++n)for(var a,o=e[n],l=o.length,c=i[n]=[],u=0;u<l;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&c.push(a);return new Qt(i,this._parents,this._name,this._id)},kt=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,s=t._groups,i=e.length,n=s.length,r=Math.min(i,n),a=new Array(i),o=0;o<r;++o)for(var l,c=e[o],u=s[o],h=c.length,d=a[o]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(d[p]=l);for(;o<i;++o)a[o]=e[o];return new Qt(a,this._parents,this._name,this._id)};function xt(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function St(t,e,s){var i,n,r=xt(e)?G:q;return function(){var a=r(this,t),o=a.on;o!==i&&(n=(i=o).copy()).on(e,s),a.on=n}}var Et=function(t,e){var s=this._id;return arguments.length<2?V(this.node(),s).on.on(t):this.each(St(s,t,e))};function Ot(t){return function(){var e=this.parentNode;for(var s in this.__transition)if(+s!==t)return;e&&e.removeChild(this)}}var Pt=function(){return this.on("end.remove",Ot(this._id))},Dt=function(t){var e=this._name,s=this._id;"function"!==typeof t&&(t=Object(r["f"])(t));for(var i=this._groups,n=i.length,a=new Array(n),o=0;o<n;++o)for(var l,c,u=i[o],h=u.length,d=a[o]=new Array(h),p=0;p<h;++p)(l=u[p])&&(c=t.call(l,l.__data__,p,u))&&("__data__"in l&&(c.__data__=l.__data__),d[p]=c,W(d[p],e,s,p,d,V(l,s)));return new Qt(a,this._parents,e,s)},At=function(t){var e=this._name,s=this._id;"function"!==typeof t&&(t=Object(r["g"])(t));for(var i=this._groups,n=i.length,a=[],o=[],l=0;l<n;++l)for(var c,u=i[l],h=u.length,d=0;d<h;++d)if(c=u[d]){for(var p,g=t.call(c,c.__data__,d,u),f=V(c,s),v=0,m=g.length;v<m;++v)(p=g[v])&&W(p,e,s,v,g,f);a.push(g),o.push(c)}return new Qt(a,o,e,s)},Mt=r["e"].prototype.constructor,It=function(){return new Mt(this._groups,this._parents)};function Nt(t,e){var s,i,n;return function(){var a=Object(r["h"])(this,t),o=(this.style.removeProperty(t),Object(r["h"])(this,t));return a===o?null:a===s&&o===i?n:n=e(s=a,i=o)}}function jt(t){return function(){this.style.removeProperty(t)}}function Ft(t,e,s){var i,n,a=s+"";return function(){var o=Object(r["h"])(this,t);return o===a?null:o===i?n:n=e(i=o,s)}}function Lt(t,e,s){var i,n,a;return function(){var o=Object(r["h"])(this,t),l=s(this),c=l+"";return null==l&&(this.style.removeProperty(t),c=l=Object(r["h"])(this,t)),o===c?null:o===i&&c===n?a:(n=c,a=e(i=o,l))}}function $t(t,e){var s,i,n,r,a="style."+e,o="end."+a;return function(){var l=q(this,t),c=l.on,u=null==l.value[a]?r||(r=jt(e)):void 0;c===s&&n===u||(i=(s=c).copy()).on(o,n=u),l.on=i}}var Rt=function(t,e,s){var i="transform"===(t+="")?K["g"]:st;return null==e?this.styleTween(t,Nt(t,i)).on("end.style."+t,jt(t)):"function"===typeof e?this.styleTween(t,Lt(t,i,tt(this,"style."+t,e))).each($t(this._id,t)):this.styleTween(t,Ft(t,i,e),s).on("end.style."+t,null)};function Ht(t,e,s){return function(i){this.style.setProperty(t,e(i),s)}}function Ut(t,e,s){var i,n;function r(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&Ht(t,r,s)),i}return r._value=e,r}var zt=function(t,e,s){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!==typeof e)throw new Error;return this.tween(i,Ut(t,e,null==s?"":s))};function Wt(t){return function(){this.textContent=t}}function Gt(t){return function(){var e=t(this);this.textContent=null==e?"":e}}var qt=function(t){return this.tween("text","function"===typeof t?Gt(tt(this,"text",t)):Wt(null==t?"":t+""))},Vt=function(){for(var t=this._name,e=this._id,s=Zt(),i=this._groups,n=i.length,r=0;r<n;++r)for(var a,o=i[r],l=o.length,c=0;c<l;++c)if(a=o[c]){var u=V(a,e);W(a,t,s,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Qt(i,this._parents,t,s)},Bt=function(){var t,e,s=this,i=s._id,n=s.size();return new Promise(function(r,a){var o={value:a},l={value:function(){0===--n&&r()}};s.each(function(){var s=q(this,i),n=s.on;n!==t&&(e=(t=n).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),s.on=e})})},Yt=0;function Qt(t,e,s,i){this._groups=t,this._parents=e,this._name=s,this._id=i}function Kt(t){return Object(r["e"])().transition(t)}function Zt(){return++Yt}var Xt=r["e"].prototype;function Jt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Qt.prototype=Kt.prototype={constructor:Qt,select:Dt,selectAll:At,filter:Tt,merge:kt,selection:It,transition:Vt,call:Xt.call,nodes:Xt.nodes,node:Xt.node,size:Xt.size,empty:Xt.empty,each:Xt.each,on:Et,attr:ct,attrTween:gt,style:Rt,styleTween:zt,text:qt,remove:Pt,tween:J,delay:mt,duration:yt,ease:Ct,end:Bt};var te=3;(function t(e){function s(t){return Math.pow(t,e)}return e=+e,s.exponent=t,s})(te),function t(e){function s(t){return 1-Math.pow(1-t,e)}return e=+e,s.exponent=t,s}(te),function t(e){function s(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,s.exponent=t,s}(te),Math.PI;var ee=1.70158,se=(function t(e){function s(t){return t*t*((e+1)*t-e)}return e=+e,s.overshoot=t,s}(ee),function t(e){function s(t){return--t*t*((e+1)*t+e)+1}return e=+e,s.overshoot=t,s}(ee),function t(e){function s(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,s.overshoot=t,s}(ee),2*Math.PI),ie=1,ne=.3,re=(function t(e,s){var i=Math.asin(1/(e=Math.max(1,e)))*(s/=se);function n(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/s)}return n.amplitude=function(e){return t(e,s*se)},n.period=function(s){return t(e,s)},n}(ie,ne),function t(e,s){var i=Math.asin(1/(e=Math.max(1,e)))*(s/=se);function n(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/s)}return n.amplitude=function(e){return t(e,s*se)},n.period=function(s){return t(e,s)},n}(ie,ne),function t(e,s){var i=Math.asin(1/(e=Math.max(1,e)))*(s/=se);function n(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/s):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/s))/2}return n.amplitude=function(e){return t(e,s*se)},n.period=function(s){return t(e,s)},n}(ie,ne),{time:null,delay:0,duration:250,ease:Jt});function ae(t,e){var s;while(!(s=t.__transition)||!(s=s[e]))if(!(t=t.parentNode))return re.time=k(),re;return s}var oe=function(t){var e,s;t instanceof Qt?(e=t._id,t=t._name):(e=Zt(),(s=re).time=k(),t=null==t?null:t+"");for(var i=this._groups,n=i.length,r=0;r<n;++r)for(var a,o=i[r],l=o.length,c=0;c<l;++c)(a=o[c])&&W(a,t,e,c,o,s||ae(a,e));return new Qt(i,this._parents,t,e)};r["e"].prototype.interrupt=Q,r["e"].prototype.transition=oe;var le=s("41cb"),ce=s("e236");function ue(t){var e=0,s=t.children,i=s&&s.length;if(i)while(--i>=0)e+=s[i].value;else e=1;t.value=e}var he=function(){return this.eachAfter(ue)},de=function(t){var e,s,i,n,r=this,a=[r];do{e=a.reverse(),a=[];while(r=e.pop())if(t(r),s=r.children,s)for(i=0,n=s.length;i<n;++i)a.push(s[i])}while(a.length);return this},pe=function(t){var e,s,i=this,n=[i];while(i=n.pop())if(t(i),e=i.children,e)for(s=e.length-1;s>=0;--s)n.push(e[s]);return this},ge=function(t){var e,s,i,n=this,r=[n],a=[];while(n=r.pop())if(a.push(n),e=n.children,e)for(s=0,i=e.length;s<i;++s)r.push(e[s]);while(n=a.pop())t(n);return this},fe=function(t){return this.eachAfter(function(e){var s=+t(e.data)||0,i=e.children,n=i&&i.length;while(--n>=0)s+=i[n].value;e.value=s})},ve=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},me=function(t){var e=this,s=_e(e,t),i=[e];while(e!==s)e=e.parent,i.push(e);var n=i.length;while(t!==s)i.splice(n,0,t),t=t.parent;return i};function _e(t,e){if(t===e)return t;var s=t.ancestors(),i=e.ancestors(),n=null;t=s.pop(),e=i.pop();while(t===e)n=t,t=s.pop(),e=i.pop();return n}var be=function(){var t=this,e=[t];while(t=t.parent)e.push(t);return e},ye=function(){var t=[];return this.each(function(e){t.push(e)}),t},we=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},Ce=function(){var t=this,e=[];return t.each(function(s){s!==t&&e.push({source:s.parent,target:s})}),e};function Te(t,e){var s,i,n,r,a,o=new Oe(t),l=+t.value&&(o.value=t.value),c=[o];null==e&&(e=xe);while(s=c.pop())if(l&&(s.value=+s.data.value),(n=e(s.data))&&(a=n.length))for(s.children=new Array(a),r=a-1;r>=0;--r)c.push(i=s.children[r]=new Oe(n[r])),i.parent=s,i.depth=s.depth+1;return o.eachBefore(Ee)}function ke(){return Te(this).eachBefore(Se)}function xe(t){return t.children}function Se(t){t.data=t.data.data}function Ee(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Oe(t){this.data=t,this.depth=this.height=0,this.parent=null}Oe.prototype=Te.prototype={constructor:Oe,count:he,each:de,eachAfter:ge,eachBefore:pe,sum:fe,sort:ve,path:me,ancestors:be,descendants:ye,leaves:we,links:Ce,copy:ke};Array.prototype.slice;function Pe(t){if("function"!==typeof t)throw new Error;return t}function De(){return 0}var Ae=function(t){return function(){return t}};var Me=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},Ie=function(t,e,s,i,n){var r,a=t.children,o=-1,l=a.length,c=t.value&&(i-e)/t.value;while(++o<l)r=a[o],r.y0=s,r.y1=n,r.x0=e,r.x1=e+=r.value*c};function Ne(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Ne.prototype=Object.create(Oe.prototype);var je=function(t,e,s,i,n){var r,a=t.children,o=-1,l=a.length,c=t.value&&(n-s)/t.value;while(++o<l)r=a[o],r.x0=e,r.x1=i,r.y0=s,r.y1=s+=r.value*c},Fe=(1+Math.sqrt(5))/2;function Le(t,e,s,i,n,r){var a,o,l,c,u,h,d,p,g,f,v,m=[],_=e.children,b=0,y=0,w=_.length,C=e.value;while(b<w){l=n-s,c=r-i;do{u=_[y++].value}while(!u&&y<w);for(h=d=u,f=Math.max(c/l,l/c)/(C*t),v=u*u*f,g=Math.max(d/v,v/h);y<w;++y){if(u+=o=_[y].value,o<h&&(h=o),o>d&&(d=o),v=u*u*f,p=Math.max(d/v,v/h),p>g){u-=o;break}g=p}m.push(a={value:u,dice:l<c,children:_.slice(b,y)}),a.dice?Ie(a,s,i,n,C?i+=c*u/C:r):je(a,s,i,C?s+=l*u/C:n,r),C-=u,b=y}return m}var $e,Re=function t(e){function s(t,s,i,n,r){Le(e,t,s,i,n,r)}return s.ratio=function(e){return t((e=+e)>1?e:1)},s}(Fe),He=function(){var t=Re,e=!1,s=1,i=1,n=[0],r=De,a=De,o=De,l=De,c=De;function u(t){return t.x0=t.y0=0,t.x1=s,t.y1=i,t.eachBefore(h),n=[0],e&&t.eachBefore(Me),t}function h(e){var s=n[e.depth],i=e.x0+s,u=e.y0+s,h=e.x1-s,d=e.y1-s;h<i&&(i=h=(i+h)/2),d<u&&(u=d=(u+d)/2),e.x0=i,e.y0=u,e.x1=h,e.y1=d,e.children&&(s=n[e.depth+1]=r(e)/2,i+=c(e)-s,u+=a(e)-s,h-=o(e)-s,d-=l(e)-s,h<i&&(i=h=(i+h)/2),d<u&&(u=d=(u+d)/2),t(e,i,u,h,d))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(s=+t[0],i=+t[1],u):[s,i]},u.tile=function(e){return arguments.length?(t=Pe(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(r="function"===typeof t?t:Ae(+t),u):r},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(a="function"===typeof t?t:Ae(+t),u):a},u.paddingRight=function(t){return arguments.length?(o="function"===typeof t?t:Ae(+t),u):o},u.paddingBottom=function(t){return arguments.length?(l="function"===typeof t?t:Ae(+t),u):l},u.paddingLeft=function(t){return arguments.length?(c="function"===typeof t?t:Ae(+t),u):c},u},Ue=(function t(e){function s(t,s,i,n,r){if((a=t._squarify)&&a.ratio===e){var a,o,l,c,u,h=-1,d=a.length,p=t.value;while(++h<d){for(o=a[h],l=o.children,c=o.value=0,u=l.length;c<u;++c)o.value+=l[c].value;o.dice?Ie(o,s,i,n,i+=(r-i)*o.value/p):je(o,s,i,s+=(n-s)*o.value/p,r),p-=o.value}}else t._squarify=a=Le(e,t,s,i,n,r),a.ratio=e}return s.ratio=function(e){return t((e=+e)>1?e:1)},s}(Fe),function(t,e){if((s=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var s,i=t.slice(0,s);return[i.length>1?i[0]+i.slice(2):i,+t.slice(s+1)]}),ze=function(t){return t=Ue(Math.abs(t)),t?t[1]:NaN},We=function(t,e){return function(s,i){var n=s.length,r=[],a=0,o=t[0],l=0;while(n>0&&o>0){if(l+o+1>i&&(o=Math.max(1,i-l)),r.push(s.substring(n-=o,n+o)),(l+=o+1)>i)break;o=t[a=(a+1)%t.length]}return r.reverse().join(e)}},Ge=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},qe=function(t,e){t=t.toPrecision(e);t:for(var s,i=t.length,n=1,r=-1;n<i;++n)switch(t[n]){case".":r=s=n;break;case"0":0===r&&(r=n),s=n;break;case"e":break t;default:r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(s+1):t},Ve=function(t,e){var s=Ue(t,e);if(!s)return t+"";var i=s[0],n=s[1],r=n-($e=3*Math.max(-8,Math.min(8,Math.floor(n/3))))+1,a=i.length;return r===a?i:r>a?i+new Array(r-a+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+Ue(t,Math.max(0,e+r-1))[0]},Be=function(t,e){var s=Ue(t,e);if(!s)return t+"";var i=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+i:i.length>n+1?i.slice(0,n+1)+"."+i.slice(n+1):i+new Array(n-i.length+2).join("0")},Ye={"":qe,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Be(100*t,e)},r:Be,s:Ve,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Qe=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function Ke(t){return new Ze(t)}function Ze(t){if(!(e=Qe.exec(t)))throw new Error("invalid format: "+t);var e,s=e[1]||" ",i=e[2]||">",n=e[3]||"-",r=e[4]||"",a=!!e[5],o=e[6]&&+e[6],l=!!e[7],c=e[8]&&+e[8].slice(1),u=e[9]||"";"n"===u?(l=!0,u="g"):Ye[u]||(u=""),(a||"0"===s&&"="===i)&&(a=!0,s="0",i="="),this.fill=s,this.align=i,this.sign=n,this.symbol=r,this.zero=a,this.width=o,this.comma=l,this.precision=c,this.type=u}Ke.prototype=Ze.prototype,Ze.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Xe,Je,ts=function(t){return t},es=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],ss=function(t){var e=t.grouping&&t.thousands?We(t.grouping,t.thousands):ts,s=t.currency,i=t.decimal,n=t.numerals?Ge(t.numerals):ts,r=t.percent||"%";function a(t){t=Ke(t);var a=t.fill,o=t.align,l=t.sign,c=t.symbol,u=t.zero,h=t.width,d=t.comma,p=t.precision,g=t.type,f="$"===c?s[0]:"#"===c&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",v="$"===c?s[1]:/[%p]/.test(g)?r:"",m=Ye[g],_=!g||/[defgprs%]/.test(g);function b(t){var s,r,c,b=f,y=v;if("c"===g)y=m(t)+y,t="";else{t=+t;var w=t<0;if(t=m(Math.abs(t),p),w&&0===+t&&(w=!1),b=(w?"("===l?l:"-":"-"===l||"("===l?"":l)+b,y=("s"===g?es[8+$e/3]:"")+y+(w&&"("===l?")":""),_){s=-1,r=t.length;while(++s<r)if(c=t.charCodeAt(s),48>c||c>57){y=(46===c?i+t.slice(s+1):t.slice(s))+y,t=t.slice(0,s);break}}}d&&!u&&(t=e(t,1/0));var C=b.length+t.length+y.length,T=C<h?new Array(h-C+1).join(a):"";switch(d&&u&&(t=e(T+t,T.length?h-y.length:1/0),T=""),o){case"<":t=b+t+y+T;break;case"=":t=b+T+t+y;break;case"^":t=T.slice(0,C=T.length>>1)+b+t+y+T.slice(C);break;default:t=T+b+t+y;break}return n(t)}return p=null==p?g?6:12:/[gprs]/.test(g)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),b.toString=function(){return t+""},b}function o(t,e){var s=a((t=Ke(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(ze(e)/3))),n=Math.pow(10,-i),r=es[8+i/3];return function(t){return s(n*t)+r}}return{format:a,formatPrefix:o}};function is(t){return Xe=ss(t),Je=Xe.format,Xe.formatPrefix,Xe}is({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var ns=s("025e"),rs={props:{data:Array,rawData:Array,hideStats:Boolean,maxItems:{type:Number,default:100}},data(){return{element:null,node:null,isActive:!1,treeType:"investmentValue",treeTypes:[{val:"currentValue",label:"Current Value"},{val:"investmentValue",label:"Investment Value"},{val:"pnl",label:"P&L"}]}},created(){this.maxItems=this.maxItems||100},mounted(){this.element=Object(r["d"])(this.$el.querySelector("div.chart .canvas")),this.draw(this.element,this.formattedData,this.hideStats,this.treeType),Object(ns["j"])("resize","optimizedResize"),this.preProcess(),this.$nextTick(()=>{this.treeType="currentValue"})},beforeDestroy(){this.postProcess()},activated(){this.preProcess()},deactivated(){this.postProcess()},computed:{formattedData(){return this.data||this.formatRawData(this.rawData)}},watch:{treeType(t){this.redraw()},rawData(t){this.draw(this.element,this.formattedData,this.hideStats,this.treeType,!1,!0)}},methods:{preProcess(){window.removeEventListener("optimizedResize",this.handleResize),window.addEventListener("optimizedResize",this.handleResize),this.isActive=!0},postProcess(){window.removeEventListener("optimizedResize",this.handleResize),this.isActive=!1},isElementInView(t){return document.querySelector("#"+t+"-treemap div.chart .canvas")},handleResize(){this.isActive&&this.redraw()},redraw(){this.draw(this.element,this.formattedData,this.hideStats,this.treeType,!0)},formatRawData(t){let e=t;if(e){let t=[],s=0,i=0,n=0;for(let o=0;o<e.length;o++){let r=e[o].quantity+(e[o].t1_quantity||0);if(e[o].average_price>0&&e[o].last_price>0){let a=(e[o].last_price-e[o].average_price)*r;t.push({name:e[o].tradingsymbol,quantity:r,investmentValue:r*e[o].average_price,currentValue:r*(0===e[o].last_price?e[o].close_price:e[o].last_price),pnl:a}),s+=a,n+=r*e[o].average_price,i+=r*e[o].last_price}}let r="desc",a="investmentValue";return t.sort((t,e)=>{let s=t[a],i=e[a];if("asc"===r){if(s<i)return-1;if(s>i)return 1}else{if(s>i)return-1;if(s<i)return 1}return 0}),t=t.slice(0,this.maxItems),{name:"holdings",totalPnl:s,totalInvestment:n,totalValue:i,children:t}}},draw(t,e,s,i,n,r){if(!t||!t.node())return;r&&(t.html(""),this.node=null),e.children=e.children.sort((t,e)=>Math.abs(t[i])<Math.abs(e[i]));let a=e,o={top:0,right:0,bottom:20,left:0},l=50,c=t.node().getBoundingClientRect().width,u=c-o.left-o.right,h=Je(".2f"),d=Object(et["f"])(39,174,96),p=Object(et["f"])(237,42,68),g=["#247BA0","#03a9f4","#2196f3","#9c27b0","#673ab7","#3f51b5","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#DCE9BE","#E0E4CC","#795548"],f=t=>{return p.brighter(Math.random(1))},v=t=>{return d.brighter(Math.random(1))},m=Object(ce["c"])().range(g);if(n&&this.node){let t=He().size([u,l]),e=Te(a).sum(t=>Math.abs(Math.round(Math.round(100*t[i]))/100));this.node.data(t(e).leaves()).attr("data-balloon-length","small").attr("data-balloon-pos",function(t){return t.x1<100?"right":t.x1>u-100?"left":"up"}).attr("data-balloon",function(t){return t.data.name+" (₹"+h(t.data[i],2)+")"}).on("click",function(){le["a"].push({name:"holdings"})}).style("background",function(t){return"pnl"===i?t.data.pnl>0?v(t.data.pnl):f(t.data.pnl):m(t.data.name)}).transition().duration(500).style("left",t=>t.x0+"px").style("top",t=>t.y0+"px").style("width",t=>Math.max(0,t.x1-t.x0)+"px").style("height",t=>Math.max(0,t.y1-t.y0)+"px")}else{let e=t.append("div").attr("class","treemap").style("position","relative").style("width",u+"px").style("height",l+"px").style("left",o.left+"px").style("top",o.top+"px"),s=He().size([u,l]),n=Te(a).sum(t=>Math.abs(Math.round(100*Math.round(t[i])))/100);this.node=e.datum(n).selectAll(".node").data(s(n).leaves()).enter().append("div").attr("class","node").style("left",t=>t.x0+"px").style("top",t=>t.y0+"px").style("width",t=>Math.max(0,t.x1-t.x0)+"px").style("height",t=>Math.max(0,t.y1-t.y0)+"px").style("background",function(t){return"pnl"===i?t.data.pnl>0?v(t.data.pnl):f(t.data.pnl):m(t.data.name)}).text(t=>"").on("click",function(){le["a"].push({name:"holdings"})}).attr("data-balloon-length","small").attr("data-balloon-pos",function(t){return t.x1<100?"right":t.x1>u-100?"left":"up"}).attr("data-balloon",function(t){return t.data.name+" (₹"+h(t.data[i],2)+")"})}}}},as=rs,os=s("2877"),ls=Object(os["a"])(as,i,n,!1,null,null,null);e["a"]=ls.exports},"2da9":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"connected-apps"},[t.constraints.showHeader?s("h3",{staticClass:"page-title small"},[s("span",[t._v("Apps")]),t._v(" "),t.connectedApps&&t.connectedApps.length>0?s("span",[t._v("("+t._s(t.connectedApps.length)+")")]):t._e(),t._v(" "),t.constraints.showErrorIcon?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"text-small error-fetch",attrs:{title:t.connectedAppsError&&t.connectedAppsError.message}},[s("span",{staticClass:"icon icon-alert-triangle"})]):t._e(),t._v(" "),t.isConnectedAppsFetching?s("su-loader",{staticClass:"dim",attrs:{size:8}}):t._e()],1):t._e(),t._v(" "),t.constraints.showErrorState?s("error-state",{attrs:{title:"Connected apps couldn't be loaded.",error:t.connectedAppsError}}):t._e(),t._v(" "),t.constraints.showEmptyState?s("empty-state",{attrs:{image:t.getStatic("images/illustrations/positions.svg")}},[s("div",{attrs:{slot:"message"},slot:"message"},[t._v("\n\t\t\tYou don't have any apps linked.\n\t\t")])]):t._e(),t._v(" "),t._l(t.connectedApps,function(e,i){return t.constraints.isData?s("div",{key:i,staticClass:"app row"},[s("div",{staticClass:"app-icon"},[s("img",{attrs:{src:t.appIconURL(e.api_key)}})]),t._v(" "),s("div",{staticClass:"app-details"},[s("div",{staticClass:"app-name"},[t._v(t._s(e.app_name))]),t._v(" "),s("div",{staticClass:"app-meta-details"},[t._v("by\n\t\t\t\t"),s("a",{staticClass:"app-developer",attrs:{rel:"noopener noreferrer",target:"_blank",href:e.developer_website}},[t._v("\n\t\t\t\t\t"+t._s(e.developer_name)+"\n\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"app-description"},[t._v(t._s(e.description))]),t._v(" "),t.currentItemIndex===i?s("div",{staticClass:"more-details row"},[s("div",{staticClass:"six columns last-login-details"},[s("p",{staticClass:"block-title"},[t._v("Last login")]),t._v(" "),s("div",{staticClass:"user-agent"},[s("label",[t._v("User-agent")]),t._v(" "),e.last_login_agent?s("span",[t._v(t._s(e.last_login_agent))]):s("span",{staticClass:"dim"},[t._v("NA")])]),t._v(" "),s("div",{staticClass:"last-login-time"},[s("label",[t._v("Time")]),t._v(" "),e.last_login_time?s("span",[t._v(t._s(e.last_login_time))]):s("span",{staticClass:"dim"},[t._v("NA")])]),t._v(" "),s("div",{staticClass:"login-ip"},[s("label",[t._v("IP address")]),t._v(" "),e.last_login_ip?s("span",[t._v(t._s(e.last_login_ip))]):s("span",{staticClass:"dim"},[t._v("NA")])])]),t._v(" "),s("div",{staticClass:"six columns permissions"},[s("p",{staticClass:"block-title"},[t._v("Permissions")]),t._v(" "),s("ul",t._l(e.permissions,function(e,i){return s("li",{key:i},[t._v("\n\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t")])}),0)])]):t._e()]),t._v(" "),s("div",{staticClass:"actions"},[s("div",{staticClass:"app-status"},[s("su-button",{staticClass:"button-blue",nativeOn:{click:function(s){return t.confirmRevokeAccess(e)}}},[t._v("\n\t\t\t\t\tRevoke\n\t\t\t\t")])],1),t._v(" "),s("div",{staticClass:"details",on:{click:function(e){return t.toggleCurrentItemIndex(i)}}},[t._v("\n\t\t\t\tDetails "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.currentItemIndex!==i,expression:"currentItemIndex !== index"}],staticClass:"icon icon-chevron-down"}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.currentItemIndex===i,expression:"currentItemIndex === index"}],staticClass:"icon icon-chevron-up"})])])]):t._e()}),t._v(" "),t.showRevokeConfirm&&t.currentApp?s("modal",{directives:[{name:"on-escape",rawName:"v-on-escape",value:t.hideRevokeConfirm,expression:"hideRevokeConfirm"}],staticClass:"revoke-access-confirm",on:{close:function(e){return t.hideRevokeConfirm()}}},[s("h2",{attrs:{slot:"header"},slot:"header"},[t._v("Remove access")]),t._v(" "),s("div",{attrs:{slot:"body"},slot:"body"},[s("span",[t._v("Are you sure you want to remove access?")]),s("br"),s("br"),t._v(" "),s("span",[s("span",{staticClass:"app-name"},[t._v(t._s(t.currentApp.app_name))]),t._v(" will no longer have access to your Kite Account. You'll need to grant access if you want to use the app or site again.")])]),t._v(" "),s("div",{staticClass:"actions",attrs:{slot:"footer"},slot:"footer"},[s("su-button",{staticClass:"button-blue",attrs:{processing:t.revokeAppAccessInProgress},nativeOn:{click:function(e){return t.revokeAppAccess(t.currentApp.api_key)}}},[s("span",[t._v("Revoke")])]),t._v(" "),s("su-button",{staticClass:"button-outline",nativeOn:{click:function(e){return t.hideRevokeConfirm(e)}}},[s("span",[t._v("Cancel")])])],1)]):t._e()],2)},n=[],r=s("2f62"),a=s("a029a"),o=s("f9a4"),l=s("5fb0"),c=s("9c9e");function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function h(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(s,!0).forEach(function(e){d(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function d(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const p="apps",g=o["b"];var f={mixins:[c["a"]],data(){return{currentApp:null,showRevokeConfirm:!1,currentItemIndex:!1,revokeAppAccessInProgress:!1}},created(){this.fetchConnectedApps(),this.preProcess(),this.$events.on("refetchData:"+p,this.fetchConnectedApps)},beforeDestroy(){this.postProcess(),this.$events.off("refetchData:"+p,this.fetchConnectedApps)},activated(){this.preProcess()},deactivated(){this.postProcess()},computed:h({},Object(r["c"])(g,["connectedApps","connectedAppsFetchStatus","connectedAppsError"]),{isConnectedAppsFetching(){return this.connectedAppsFetchStatus===l["c"].API_STATUSES.fetching},isConnectedAppsFetchError(){return this.connectedAppsFetchStatus===l["c"].API_STATUSES.error},constraints(){let t=this.connectedAppsFetchStatus===l["c"].API_STATUSES.fetching,e=this.connectedAppsFetchStatus===l["c"].API_STATUSES.error,s=this.connectedApps&&this.connectedApps.length>0,i=this.connectedApps&&0===this.connectedApps.length,n=e&&!this.connectedApps,r=e&&this.connectedApps,a=!i&&!n;return{isData:s,isError:e,isFetching:t,showHeader:a,showErrorIcon:r,showEmptyState:i,showErrorState:n}}}),methods:h({},Object(r["b"])(g,["fetchConnectedApps"]),{preProcess(){},postProcess(){},appIconURL(t){return"https://developers.kite.trade/static/images/app-icons/"+t+".png"},toggleCurrentItemIndex(t){this.currentItemIndex===t?this.currentItemIndex=null:this.currentItemIndex=t},confirmRevokeAccess(t){this.showRevokeConfirm=!0,this.currentApp=t},revokeAppAccess(t){this.revokeAppAccessInProgress=!0,a["a"].revokeAppAccess(t).then(t=>{this.revokeAppAccessInProgress=!1,this.showRevokeConfirm=!1,this.fetchConnectedApps(),this.$toast.success({title:"App removed",message:"The app's has been removed from your account.",orientation:this.$toast.TOP_RIGHT})}).catch(()=>{this.revokeAppAccessInProgress=!1,this.showRevokeConfirm=!1})},hideRevokeConfirm(){this.currentApp=null,this.showRevokeConfirm=!1,this.revokeAppAccessInProgress=!1}})},v=f,m=s("2877"),_=Object(m["a"])(v,i,n,!1,null,null,null);e["default"]=_.exports},"34c7":function(t,e,s){},"3dfd":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isBaseLoaded?s("div",{staticClass:"app",class:t.appClasses,attrs:{id:"app"}},[s("div",{staticClass:"header"},[s("div",{staticClass:"wrapper"},[t.isMobile?t._e():s("div",{staticClass:"header-left"},[s("div",{staticClass:"pinned-instruments"},t._l(t.pinnedInstruments,function(e,i){return s("instrument-widget",{key:i,attrs:{tradingsymbol:e.tradingsymbol,segment:e.segment,"instrument-token":e.instrumentToken,"price-change-type":t.priceChangeType}})}),1)]),t._v(" "),s("div",{staticClass:"header-right"},[t.isMobile?t._e():s("a",{staticClass:"logo",attrs:{href:"/"}},[s("img",{attrs:{src:t.dashboardLogo,alt:"Kite logo"}}),t._v(" "),t.cobrandedLogo?s("img",{staticClass:"cobranded",attrs:{src:t.cobrandedLogo,alt:"Kite cobranded logo"}}):t._e()]),t._v(" "),t.isMobile?t._e():s("div",{staticClass:"app-nav"},[t.isMobile?s("custom-router-link",{attrs:{to:{name:"marketwatch"}}},[s("span",{staticClass:"icon icon-market-watch"})]):t._e(),t._v(" "),s("custom-router-link",{attrs:{to:{name:"dashboard"}}},[s("span",[t._v("Dashboard")])]),t._v(" "),s("custom-router-link",{attrs:{to:{name:"orders"}}},[s("span",[t._v("Orders")])]),t._v(" "),s("custom-router-link",{attrs:{to:{name:"holdings"}}},[s("span",[t._v("Holdings")])]),t._v(" "),s("custom-router-link",{attrs:{to:{name:"positions"}}},[s("span",[t._v("Positions")])]),t._v(" "),s("custom-router-link",{attrs:{to:{name:"margins"}}},[s("span",[t._v("Funds")])]),t._v(" "),s("custom-router-link",{attrs:{to:{name:"apps"}}},[s("span",[t._v("Apps")])])],1),t._v(" "),t.isMobile?s("div",{staticClass:"app-nav mobile"},[s("custom-router-link",{attrs:{to:{name:"marketwatch"}}},[s("span",{staticClass:"icon icon-bookmark"})]),t._v(" "),s("custom-router-link",{attrs:{to:{name:"dashboard"}}},[s("span",{staticClass:"icon icon-compass"})]),t._v(" "),s("custom-router-link",{attrs:{to:{name:"orders"}}},[s("span",{staticClass:"icon icon-book"})]),t._v(" "),s("custom-router-link",{attrs:{to:{name:"holdings"}}},[s("span",{staticClass:"icon icon-briefcase"})]),t._v(" "),s("custom-router-link",{attrs:{to:{name:"positions"}}},[s("span",{staticClass:"icon icon-file-text"})]),t._v(" "),s("custom-router-link",{staticClass:"margins",attrs:{to:{name:"margins"}}},[s("span",{staticClass:"icon icon-credit-card"})])],1):t._e(),t._v(" "),s("div",{staticClass:"right-nav"},[s("notifications-menu",{class:{open:t.isNotificationsWindow},on:{change:t.toggleNotificationsWindow},model:{value:t.isNotificationsWindow,callback:function(e){t.isNotificationsWindow=e},expression:"isNotificationsWindow"}}),t._v(" "),s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideUserMenu,expression:"hideUserMenu"},{name:"on-escape",rawName:"v-on-escape",value:t.hideUserMenu,expression:"hideUserMenu"}],staticClass:"user-nav perspective"},[s("a",{staticClass:"dropdown-label",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.toggleUserMenu(e)}}},[t.getUserName?s("su-avatar",{attrs:{username:t.getUserName,src:t.getUserAvatar,size:25}}):t._e(),t._v(" "),s("span",{staticClass:"user-id"},[t._v(t._s(t.userId))])],1),t._v(" "),s("transition",{attrs:{name:"dropdown"}},[t.isUserMenu?s("div",{staticClass:"dropdown-nav",on:{click:t.hideUserMenu}},[t.getUserName?s("div",{staticClass:"dropdown-nav-header"},[s("custom-router-link",{attrs:{to:{name:"profile"}}},[s("h4",{staticClass:"username"},[t._v(t._s(t.getUserName))]),t._v(" "),t.userEmail?s("div",{staticClass:"email"},[t._v(t._s(t.userEmail))]):t._e()])],1):t._e(),t._v(" "),s("hr"),t._v(" "),s("ul",{staticClass:"list-flat dropdown-nav-list"},[s("li",[s("custom-router-link",{attrs:{to:{name:"profile"}}},[s("span",{staticClass:"icon icon-user"}),t._v(" My profile\n\t\t\t\t\t\t\t\t\t\t")])],1),t._v(" "),t.isMobile?s("li",{staticClass:"margins"},[s("custom-router-link",{attrs:{to:{name:"margins"}}},[s("span",{staticClass:"icon icon-user"}),t._v(" Funds\n\t\t\t\t\t\t\t\t\t\t")])],1):t._e(),t._v(" "),s("hr"),t._v(" "),s("li",[s("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://console.zerodha.com/dashboard/"}},[s("span",{staticClass:"icon icon-console"}),t._v(" Console")])]),t._v(" "),s("li",[s("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://coin.zerodha.com/login"}},[s("span",{staticClass:"icon icon-coin"}),t._v(" Coin")])]),t._v(" "),s("li",[s("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://zerodha.com/varsity/"}},[s("span",{staticClass:"icon icon-book"}),t._v(" Varsity")])]),t._v(" "),s("li",[s("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://support.zerodha.com/"}},[s("span",{staticClass:"icon icon-life-buoy"}),t._v(" Support")])]),t._v(" "),s("hr"),t._v(" "),s("li",[s("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.startTour(null,!0)}}},[s("span",{staticClass:"icon icon-compass"}),t._v(" Tour Kite")])]),t._v(" "),s("li",[s("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.showKeyboardShortcutModal(e)}}},[s("span",{staticClass:"icon icon-command"}),t._v(" Keyboard shortcuts")])]),t._v(" "),s("li",[s("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"http://kite.trade/docs/kite"}},[s("span",{staticClass:"icon icon-help-circle"}),t._v(" Help")])]),t._v(" "),s("li",[s("a",{attrs:{target:"_self",href:"/logout/"}},[s("span",{staticClass:"icon icon-exit"}),t._v(" Logout")])])])]):t._e()])],1)],1),t._v(" "),s("div",{staticClass:"perspective"},[s("transition",{attrs:{name:"dropdown"}},[t.isNotificationsWindow?s("notifications-window",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideNotificationsWindow,expression:"hideNotificationsWindow"},{name:"on-escape",rawName:"v-on-escape",value:t.hideNotificationsWindow,expression:"hideNotificationsWindow"}]}):t._e()],1)],1)])])]),t._v(" "),s("div",{staticClass:"container wrapper"},[t.isMobile?t._e():s("div",{staticClass:"container-left"},[s("marketwatch",{staticClass:"marketwatch-wrap"})],1),t._v(" "),s("div",{staticClass:"container-right"},[t.$route.path.startsWith("/orders")?s("div",{staticClass:"page-nav"},[s("custom-router-link",{attrs:{to:{name:"orders"}}},[s("span",[t._v("Orders")])]),t._v(" "),s("custom-router-link",{attrs:{to:{name:"gtt"}}},[s("span",[t._v("GTT")])])],1):t._e(),t._v(" "),s("notifications-bar"),t._v(" "),s("div",{staticClass:"page-content",class:t.$route.name},[s("keep-alive",[s("notice",{attrs:{page:t.$route.name}})],1),t._v(" "),s("keep-alive",{attrs:{exclude:t.keepAliveRouterExclude}},[s("router-view")],1)],1)],1)]),t._v(" "),s("order-window"),t._v(" "),s("gtt-window"),t._v(" "),s("stock-widget"),t._v(" "),s("technical-widget"),t._v(" "),s("option-chain-widget"),t._v(" "),s("market-depth-widget"),t._v(" "),s("orders-basket"),t._v(" "),s("keyboard-shortcuts",{directives:[{name:"on-escape",rawName:"v-on-escape",value:t.hideKeyboardShortcutsModal,expression:"hideKeyboardShortcutsModal"}],attrs:{show:t.showKeyModal},on:{close:t.hideKeyboardShortcutsModal}})],1):s("div",{attrs:{id:"splash-screen"}},[s("div",{staticClass:"content-wrap"},[s("img",{attrs:{src:t.dashboardLogo,alt:"Kite logo"}}),t._v(" "),s("su-loader")],1)])},n=[],r=s("a026"),a=s("e7ec"),o=s.n(a),l=s("b23e"),c=s.n(l),u=s("2f62"),h=s("b202"),d=s("c0d6"),p=s("e165"),g=s.n(p),f=s("5665"),v=s("5fb0"),m=s("d9d2");const _="order.place";class b{constructor(t,e,s){if(this.eventBus=t,this.instrumentManager=e,this.origins=[window.location.protocol+"//"+window.location.host],s)for(let i of s)this.origins.push(i);window.addEventListener("message",t=>{this.receiveMessage(t)},!1)}receiveMessage(t){console.log("received message",t);let e=!1;for(let s of this.origins)if(t.origin.startsWith(s)){e=!0;break}e&&t.data&&t.data.type&&t.data.type===_&&this.placeOrder(t.data.data)}placeOrder(t){let e=this.instrumentManager.get(t.tradingsymbol,null,t.exchange),s={instrument:e,transactionType:t.transaction_type,tradingsymbol:t.tradingsymbol,exchange:t.exchange,quantity:t.quantity,disclosedQuantity:t.disclosed_quantity,price:t.price,triggerPrice:t.trigger_price,stoploss:t.stoploss,squareoff:t.squareoff,trailingStoploss:t.trailing_stoploss,product:t.product||m["b"].PRODUCT.CNC,validity:t.validity||m["b"].VALIDITY.DAY,variety:t.variety||m["b"].VARIETY.REGULAR,orderType:t.order_type||m["b"].ORDER_TYPE.MARKET,tag:t.tag};this.eventBus.emit(m["b"].EVENTS.ORDER_PLACE,s)}}var y=s("db49");function w(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}class C{constructor(t){w(this,"tMessage","Message"),this.ticker=t,this.isGranted=!1,this.initEvents()}grantPermission(){"Notification"in window&&("granted"===window.Notification.permission?this.isGranted=!0:"denied"!==window.Notification.permission&&window.Notification.requestPermission(t=>{"granted"===t&&(this.isGranted=!0)}))}initEvents(){this.ticker.eventMessage.on(t=>{let e=this.parseMessage(t);this.createNotification(this.tMessage,{tag:"ticker-message",icon:y["c"].desktopNotificationIcon,message:e.message,link:e.link})})}createNotification(t,e){if(!this.isGranted)return;let s=new window.Notification("Message",{tag:e.tag,icon:e.icon,body:e.message});e.link&&(s.onclick=t=>{t.preventDefault(),window.open(e.link,"_blank")})}parseMessage(t){let e=/\[(.+?)\]\((https?:\/\/.+?)\)/gi,s=e.exec(t);return{message:t.replace(e,"$1"),link:s&&s[2]}}}var T=C,k=s("ad1c");class x{}x.install=function(t,e){};var S=s("0a56"),E=s("da42"),O=s("165b"),P=s("1aa1"),D=s("f9a4");class A{}A.namespace=D["b"],A.install=function(t,e){e.store&&e.store.registerModule(D["b"],D["a"])};var M=s("5052");class I{}I.namespace=M["b"],I.install=function(t,e){e.store&&e.store.registerModule(M["b"],M["a"])};var N=s("d4ff");class j{}j.namespace=N["b"],j.install=function(t,e){e.store&&e.store.registerModule(N["b"],N["a"])};var F=s("c2fb"),L=s("1b06");class ${}$.namespace=L["b"],$.install=function(t,e){e.store&&e.store.registerModule(L["b"],L["a"])};var R=s("25b5"),H=s("9f74");class U{}U.constants=R["b"],U.events=R["b"].EVENTS,U.namespace=R["b"].NAMESPACE,U.install=function(t,e){e.store&&e.store.registerModule(this.namespace,H["a"])};var z=s("808c");let W=!0;const G={queue:[]},q={queue:t=>t.queue};let V=(t,e,s)=>{let i=-1;for(let n=0;n<G.queue.length;n++){let t=G.queue[n];if((!e||e===t.basket)&&t.id===s)return i}return i};const B={add(t,e){for(let s of t.queue)if(s.id===e.id&&s.type===e.type)return;t.queue.push(e)},clear(t,e){if(!e)return void(t.queue=[]);let s=[];for(let i=0;i<t.queue.length;i++){let n=t.queue[i];n.basket===e&&s.push(i)}for(let i=s.length-1;i>=0;i--)t.queue.splice(i,1)},remove(t,e){let s=e.basket,i=e.id,n=V(t.queue,s,i);n>-1&&t.queue.splice(n,1)}},Y={};var Q={state:G,getters:q,mutations:B,actions:Y,namespaced:W},K=s("5a9e");class Z{}Z.constants=K["a"],Z.events=K["a"].EVENTS,Z.namespace=K["a"].NAMESPACE,Z.install=function(t,e){e.store&&e.store.registerModule(K["a"].NAMESPACE,Q)};var X=s("ba6a");function J(t){return X["a"].get(Object(f["a"])("notifications.all"),{params:t})}function tt(t){return X["a"].post(Object(f["a"])("notifications.update"),t)}function et(t,e){return X["a"].delete(Object(f["a"])("notifications.delete",{id:e}),{params:{type:t}})}function st(t){return X["a"].delete(Object(f["a"])("notifications.delete.all"),{params:t})}var it={get:J,updateSeen:tt,deleteItem:et,deleteRange:st};const nt="notifications",rt={NOTIFICATIONS_BAR:nt+".notifications.bar.message"};var at={NAMESPACE:nt,EVENTS:rt},ot=s("025e");let lt=!0;const ct=nt,ut={notifications:{},notificationsError:{},unseenNotificationsCount:0,notificationsFetchStatus:v["a"].initial},ht={notifications:t=>t.notifications,notificationsError:t=>t.notificationsError,unseenNotificationsCount:t=>t.unseenNotificationsCount,notificationsFetchStatus:t=>t.notificationsFetchStatus},dt={setNotifications(t,e){let s=e.slice(0).reverse();for(let i of s)t.notifications[i.type]||(t.notifications[i.type]=[]),t.notifications[i.type].push(i)},setNotificationsError(t,e){t.notificationsError=e},setNotificationsFetchStatus(t,e){t.notificationsFetchStatus=e},deleteAllNotifications(t,e){t.notifications=Object.assign({},t.notifications,{[e]:[]})},deleteNotification(t,e){let s=e.type,i=e.id;if(t.notifications[s]&&t.notifications[s].length>0){let e=0,n=t.notifications[s].slice(0);for(let t=0;t<n.length;t++)if(n[t].id===i){e=t;break}n.splice(e,1),t.notifications=Object.assign({},t.notifications,{[s]:n})}},updateAllNotificationsSeen(t,e){if(t.notifications[e]&&t.notifications[e].length>0){let s=t.notifications[e].slice(0);for(let t of s)t.seen=!0;t.notifications=Object.assign({},t.notifications,{[e]:s})}},setUnseenNotificationsCount(t){if(t.notifications){let e=0;for(let s in t.notifications){let i=t.notifications[s].slice(0).reverse();for(let t of i){if(t.seen)break;e+=1}}t.unseenNotificationsCount=e}},resetUnseenNotificationsCount(t){t.unseenNotificationsCount=0}},pt={fetchNotifications(t,e){let s=t.commit,i=t.state,n={};e&&i.notifications[e]&&i.notifications[e].length>0&&(n.type=e,n.id=i.notifications[e][i.notifications[e].length-1].id),s("setNotificationsFetchStatus",v["a"].fetching),it.get(n).then(t=>{s("setNotifications",t.data.data),s("setUnseenNotificationsCount"),s("setNotificationsFetchStatus",v["a"].success)}).catch(t=>{s("setNotificationsFetchStatus",v["a"].error),s("setNotificationsError",Object(ot["g"])(t))})}};var gt={state:ut,getters:ht,mutations:dt,actions:pt,namespaced:lt};class ft{}ft.namespace=ct,ft.install=function(t,e){e.store&&e.store.registerModule(ct,gt)};var vt=s("72e2");class mt{constructor(t,e,s){if(s){var i=this;this.promise=new Promise(function(t,e){i.resolve=t,i.reject=e})}else this.promise=null;this.id=s,this.type=t,this.data=e}}class _t{constructor(){this.sharedWorker=new SharedWorker("/worker.js"),this.sharedWorker.port.start(),this.messages={},this.receiveCb=null,this.handlers={},this._receive()}_uuid(){let t=()=>{return Math.random().toString(16).slice(-4)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}send(t,e,s){this.sharedWorker.port.postMessage({type:t,data:e,id:s})}receive(t){this.receiveCb=t}_receive(){var t=this;this.sharedWorker.port.addEventListener("message",function(e){if(e.data&&e.data.type){t.receiveCb&&t.receiveCb(new mt(e.data.type,e.data.data));let s=e.data.id;s&&t.messages[s]&&t.messages[s].resolve({id:s,type:e.data.type,data:e.data.data}),t._trigger(e.data)}})}do(t,e,s){let i=new mt(t,e,this._uuid());return this.messages[i.id]=i,this.send(i.type,i.data,i.id),s?Object(ot["i"])(s,i.promise,"Request timed out"):i.promise}addListener(t,e){this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push(e)}removeListener(t,e){this.handlers[t]&&(this.handlers[t]=this.handlers[t].filter(t=>t!==e))}_trigger(t){this.handlers[t.type]&&this.handlers[t.type].slice(0).forEach(e=>e(t.data))}}class bt{constructor(t,e){this.sw=t,this.type=e}on(t){this.sw.addListener(this.type,t)}off(t){this.sw.removeListener(this.type,t)}}class yt{constructor(t){this.mSubscribe="subscribe",this.mUnSubscribe="unsubscribe",this.mSetMode="mode",this.mGetQuote="quote",this.mAlert=10,this.mOrderStr="order",this.mMessage=11,this.mMessageStr="message",this.mLogout=12,this.mLogoutStr="logout",this.mReload=13,this.mReloadStr="reload",this.mClearCache=14,this.mClearCacheStr="clear_cache",this.modeLTP="ltp",this.modeLTPC="ltpc",this.modeFull="full",this.modeQuote="quote",this.modeWeights={[this.modeFull]:1,[this.modeQuote]:2,[this.modeLTPC]:3,[this.modeLTP]:4},this.weightModeMap={1:this.modeFull,2:this.modeQuote,3:this.modeLTPC,4:this.modeLTP},this.segmentNseCM=1,this.segmentNseFO=2,this.segmentNseCD=3,this.segmentBseCM=4,this.segmentBseFO=5,this.segmentBseCD=6,this.segmentMcxFO=7,this.segmentMcxSX=8,this.segmentNseIndices=9,this.sw=new _t,this.connectParams=t,this.eventConnect=new bt(this.sw,"ticker.connect"),this.eventTick=new bt(this.sw,"ticker.tick"),this.eventData=new bt(this.sw,"ticker.data"),this.eventDisconnect=new bt(this.sw,"ticker.disconnect"),this.eventReconnect=new bt(this.sw,"ticker.reconnect"),this.eventNoReconnect=new bt(this.sw,"ticker.noreconnect"),this.eventAlert=new bt(this.sw,"ticker.alert"),this.eventMessage=new bt(this.sw,"ticker.message"),this.eventReload=new bt(this.sw,"ticker.reload"),this.eventClearCache=new bt(this.sw,"ticker.clearcache"),this.eventLogout=new bt(this.sw,"ticker.logout"),this.tagPrefix=Math.random().toString(16).slice(-4)+"-"}connect(){this.sw.send("ticker.connect",this.connectParams)}registerCb(t){for(let e in t)this.sw.addListener(e,t[e])}subscribe(t,e){this.sw.send("ticker.subscribe",{tokens:t,tag:this.tagPrefix+e})}unsubscribe(t,e){this.sw.send("ticker.unsubscribe",{tokens:t,tag:this.tagPrefix+e})}setMode(t,e,s){this.sw.send("ticker.setMode",{mode:t,tokens:e,tag:this.tagPrefix+s})}getQuote(t,e,s,i){return this.sw.do("ticker.getQuote",{id:t,tokens:e,fields:s},i)}sendHeartbeat(){this.sw.send("ticker.heartbeat",{})}}var wt=s("714b"),Ct=s("aada"),Tt=s("f8fb"),kt=s("6825"),xt=s("e2ac"),St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"addon-menu separator"},[s("ul",{staticClass:"list-flat"},t._l(t.enabledBrands,function(e,i){return s("li",{key:i},[s("a",{staticClass:"branded",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.action(t)}}},[s("img",{attrs:{src:t.getStatic(e.logo)}}),t._v(" "),s("span",[t._v(t._s(e.label))]),t._v(" "),e.isExternal?s("span",{staticClass:"icon icon-external-link",style:t.externalLinkStyle}):t._e(),t._v(" "),"smallcase"===e.name&&t.instrument&&t.instrument.isEvent?s("sup",{staticClass:"events-label text-blue"},[t._v("EVENT")]):t._e()])])}),0)])},Et=[];const Ot={INSTRUMENT:"instrument",ORDER:"order",HOLDING:"holding"};var Pt={props:["dataType","data"],inject:["instrumentManager"],created(){this.sentinelURL="https://sentinel.zerodha.com/dashboard?utm_source=context-menu&utm_medium=kite&stock=",this.streakURL="https://streak.zerodha.com/strategy/?utm_source=context-menu&utm_medium=kite&stock=",this.stockReportsURL="https://stockreports.zerodha.com/viewer?utm_source=context-menu&utm_medium=kite#",this.brands=[{name:"smallcase",label:"Fundamentals",isEnabled:this.isStockWidgetEnabled,logo:"images/addons/smallcase.svg",action:this.showStockWidget,isExternal:!1},{name:"Streak",label:"Technicals",isEnabled:this.isInstrument,logo:"images/addons/streak.svg",action:this.showTechnicalWidget,isExternal:!1},{name:"sensibull",label:"Option Chain",isEnabled:this.isOptionChainEnabled,logo:"images/addons/sensibull.svg",action:this.showOptionChain,isExternal:!1},{name:"stockreports",label:"StockReports+",isEnabled:this.isStockReportsEnabled,logo:"images/addons/stockreports.svg",action:this.gotoStockReports,isExternal:!0},{name:"sentinel",label:"Set alert",isEnabled:this.isInstrument,logo:"images/addons/sentinel.svg",action:this.gotoSentinel,isExternal:!0}],this.isInstrument()&&(this.instrument=this.instrumentManager.get(this.data.tradingsymbol,null,this.data.exchange))},computed:{externalLinkStyle(){return{marginLeft:"85%",position:"absolute"}},enabledBrands(){return this.brands.filter(t=>{return t.isEnabled()})}},methods:{getStatic(t){return"/static/"+t},isInstrument(){return this.dataType===Ot.INSTRUMENT},isStockWidgetEnabled(){return this.isInstrument()&&this.instrumentManager.IsEquity(this.data.exchange)},isTradable(){return this.instrument&&this.instrument.tradable||!1},isStockReportsEnabled(){return this.isStockWidgetEnabled()&&this.isTradable()},isOptionChainEnabled(){return this.instrument&&("NFO"===this.instrument.exchange||-1!==["NIFTY 50","NIFTY BANK"].indexOf(this.data.tradingsymbol))},showStockWidget(){this.$events.emit(v["c"].EVENTS.showStockWidget,{tradingsymbol:this.data.tradingsymbol,exchange:this.data.exchange,tab:this.instrument&&this.instrument.isEvent?"events":""})},showTechnicalWidget(){this.$events.emit(v["c"].EVENTS.showTechnicalWidget,this.data)},showOptionChain(){this.$events.emit(v["c"].EVENTS.showOptionChain,this.data)},gotoSentinel(){let t=this.data.exchange+":"+this.data.tradingsymbol;window.open(this.sentinelURL+encodeURIComponent(t))},gotoStockReports(){let t=this.data.exchange+":"+this.data.tradingsymbol;window.open(this.stockReportsURL+encodeURIComponent(t))}}},Dt=Pt,At=s("2877"),Mt=Object(At["a"])(Dt,St,Et,!1,null,null,null),It=Mt.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showStockWidget&&t.widgetUrl?s("modal",{directives:[{name:"on-escape",rawName:"v-on-escape",value:t.hide,expression:"hide"}],staticClass:"stock-widget-modal",attrs:{"z-index":13},on:{close:t.hide}},[s("div",{staticClass:"stock-widget-body",attrs:{slot:"body"},slot:"body"},[s("iframe",{attrs:{src:t.widgetUrl}})]),t._v(" "),s("div",{staticClass:"actions",attrs:{slot:"footer"},slot:"footer"},[t.instrument&&t.instrument.tradable?[s("su-button",{staticClass:"button-outline button-blue",nativeOn:{click:function(e){return t.placeOrder("BUY")}}},[t._v("Buy")]),t._v(" "),s("su-button",{staticClass:"button-outline button-orange",nativeOn:{click:function(e){return t.placeOrder("SELL")}}},[t._v("Sell")])]:t._e(),t._v(" "),s("su-button",{staticClass:"button-outline",nativeOn:{click:function(e){return t.hide(e)}}},[t._v("Close")])],2)]):t._e()},jt=[],Ft={name:"stock-widget",inject:["instrumentManager"],data(){return{instrument:null,widgetUrl:"",showStockWidget:!1}},created(){this.$events.on("showStockWidget",this.showWidget)},beforeDestroy(){window.removeEventListener("click",this.hide)},methods:{show(){this.showStockWidget=!0,window.addEventListener("click",this.hide)},hide(){window.removeEventListener("click",this.hide),this.showStockWidget=!1},showWidget(t){this.instrument=this.instrumentManager.get(t.tradingsymbol,null,t.exchange),this.instrument&&(this.widgetUrl="https://stocks.tickertape.in/"+this.instrument.symbol+"?broker=kite",t.tab&&(this.widgetUrl+="&tab="+t.tab),this.show())},placeOrder(t){this.$events.emit(m["b"].EVENTS.ORDER_PLACE,{instrument:this.instrument,transactionType:t,quantity:1,lastPrice:0})}}},Lt=Ft,$t=Object(At["a"])(Lt,Nt,jt,!1,null,null,null),Rt=$t.exports,Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isWidget&&t.widgetUrl?s("modal",{directives:[{name:"on-escape",rawName:"v-on-escape",value:t.hide,expression:"hide"}],staticClass:"technical-widget-modal",attrs:{"z-index":13},on:{close:t.hide}},[s("div",{staticClass:"technical-widget-body",attrs:{slot:"body"},slot:"body"},[s("iframe",{attrs:{src:t.widgetUrl}})]),t._v(" "),s("div",{staticClass:"actions",attrs:{slot:"footer"},slot:"footer"},[t.instrument&&t.instrument.tradable?[s("su-button",{staticClass:"button-outline button-blue",nativeOn:{click:function(e){return t.placeOrder("BUY")}}},[t._v("Buy")]),t._v(" "),s("su-button",{staticClass:"button-outline button-orange",nativeOn:{click:function(e){return t.placeOrder("SELL")}}},[t._v("Sell")])]:t._e(),t._v(" "),s("su-button",{staticClass:"button-outline",nativeOn:{click:function(e){return t.hide(e)}}},[t._v("Close")])],2)]):t._e()},Ut=[],zt={name:"technical-widget",inject:["instrumentManager"],data(){return{instrument:null,widgetUrl:"",isWidget:!1}},created(){this.$events.on(v["b"].showTechnicalWidget,this.showWidget)},beforeDestroy(){window.removeEventListener("click",this.hide)},methods:{show(){this.isWidget=!0,window.addEventListener("click",this.hide)},hide(){window.removeEventListener("click",this.hide),this.isWidget=!1},showWidget(t){if(this.instrument=this.instrumentManager.get(t.tradingsymbol,null,t.exchange),this.instrument){let t=this.instrument.exchange+":"+encodeURIComponent(this.instrument.tradingsymbol),e="https://mo.streak.tech/";this.widgetUrl=`${e}?utm_source=context-menu&utm_medium=kite&stock=${t}`,this.show()}},placeOrder(t){this.$events.emit(m["b"].EVENTS.ORDER_PLACE,{instrument:this.instrument,transactionType:t,quantity:this.instrument.lotSize||1,lastPrice:0})}}},Wt=zt,Gt=Object(At["a"])(Wt,Ht,Ut,!1,null,null,null),qt=Gt.exports,Vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isWidget&&t.widgetUrl?s("modal",{directives:[{name:"on-escape",rawName:"v-on-escape",value:t.hide,expression:"hide"}],staticClass:"option-chain-modal",attrs:{"z-index":13},on:{close:t.hide}},[s("div",{staticClass:"option-chain-body",attrs:{slot:"body"},slot:"body"},[s("iframe",{attrs:{src:t.widgetUrl}})])]):t._e()},Bt=[],Yt={name:"option-chain-widget",inject:["instrumentManager","userId"],data(){return{instrument:null,widgetUrl:"",isWidget:!1}},created(){this.$events.on(v["b"].showOptionChain,this.showWidget)},beforeDestroy(){window.removeEventListener("click",this.hide)},methods:{show(){this.isWidget=!0},hide(){window.removeEventListener("click",this.hide),this.isWidget=!1},showWidget(t){if(this.instrument=this.instrumentManager.get(t.tradingsymbol,null,t.exchange),this.instrument){let t=this.instrument.tradingsymbol,e="https://insights.sensibull.com/kitewidget";this.widgetUrl=`${e}?instrument=${t}`,this.show()}},placeOrder(t){this.$events.emit(m["b"].EVENTS.ORDER_PLACE,{instrument:this.instrument,transactionType:t,quantity:1,lastPrice:0})}}},Qt=Yt,Kt=Object(At["a"])(Qt,Vt,Bt,!1,null,null,null),Zt=Kt.exports,Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.show?s("modal",{staticClass:"keyboard-shortcuts-modal",on:{close:t.close}},[s("h2",{attrs:{slot:"header"},slot:"header"},[t._v("Keyboard Shortcuts")]),t._v(" "),s("div",{staticClass:"row",attrs:{slot:"body"},slot:"body"},[t._l(t.shortcutsCategory,function(e,i){return[s("div",{key:i,staticClass:"columns mobile-modal",class:{four:0===i,seven:0!==i,"no-margin":i%2===0}},[s("h3",{staticClass:"category"},[t._v(t._s(e))]),t._v(" "),t._l(t.shortcuts[e],function(e,i){return[s("div",{key:i,staticClass:"row shortcuts"},[s("div",{staticClass:"six columns"},[s("span",{staticClass:"desc"},[t._v(t._s(e.desc))])]),t._v(" "),s("div",{staticClass:"six columns keys"},t._l(e.keys,function(i,n){return s("span",{key:n},[n>0&&!1!==e.combine?s("span",{staticClass:"dim joiner"},[t._v("+")]):t._e(),t._v(" "),s("span",{staticClass:"key text-label blue",domProps:{innerHTML:t._s(i)}})])}),0)])]})],2),t._v(" "),0===i?s("div",{key:i,staticClass:"one columns"},[t._v("‌")]):t._e()]})],2)]):t._e()},Jt=[],te={name:"keyboard-shortcuts",props:{show:{required:!0}},methods:{close:function(){this.$emit("close")}},data:function(){return{showModal:!1,shortcutsCategory:["navigation","marketwatch","Popout chart"],shortcuts:{navigation:[{keys:["A"],desc:"Dashboard"},{keys:["O"],desc:"Orders"},{keys:["H"],desc:"Holdings"},{keys:["P"],desc:"Positions"},{keys:["F"],desc:"Funds"},{keys:["I"],desc:"Profile"},{keys:["J"],desc:"Edit Profile"}],marketwatch:[{keys:["&#8593;","&#8595;"],desc:"Cycle through instruments",combine:!1},{keys:["B"],desc:"Buy instrument"},{keys:["S"],desc:"Sell instrument"},{keys:["D"],desc:"Open market depth"},{keys:["C"],desc:"Open chart"},{keys:["Del"],desc:"Delete instrument"},{keys:["Ctrl","Shift","1 to 5"],desc:"Switch marketwatch"}],"Popout chart":[{keys:["B"],desc:"Buy opened chart instrument"},{keys:["S"],desc:"Sell opened chart instrument"},{keys:["Ctrl","Shift","Z"],desc:"Toggle quick trade drawer"}]}}}},ee=te,se=Object(At["a"])(ee,Xt,Jt,!1,null,null,null),ie=se.exports,ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-link",{attrs:{to:t.to,event:""},nativeOn:{click:function(e){return e.preventDefault(),t.handle(e)}}},[t._t("default")],2)},re=[],ae={name:"custom-router-link",props:{to:{type:[String,Object],required:!0}},methods:{handle(){this.$router.push(this.to),"object"===typeof this.to&&this.to.name&&this.to.name===this.$route.name&&(this.$events.emit(v["b"].refetch+this.$route.name),document.querySelector(".page-content").classList.add("bounce"),setTimeout(()=>{document.querySelector(".page-content").className="page-content"},305))}}},oe=ae,le=Object(At["a"])(oe,ne,re,!1,null,null,null),ce=le.exports,ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isOnline?t._e():s("div",{staticClass:"offline-indicator"},[t._t("message")],2)},he=[],de={name:"offline-indicator",props:{},data(){return{isOnline:!0}},created(){window.addEventListener("online",this.onOnline),window.addEventListener("offline",this.onOffline)},mounted(){void 0===window.navigator.onLine?this.setOnline(!0):this.setOnline(window.navigator.onLine)},beforeDestroy(){window.removeEventListener("online",this.onOnline),window.removeEventListener("offline",this.onOffline)},methods:{onOffline(){this.setOnline(!1),this.$nextTick(()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0})},onOnline(){this.setOnline(!0)},setOnline(t){this.isOnline=t,this.$emit("online",t)}}},pe=de,ge=Object(At["a"])(pe,ue,he,!1,null,null,null),fe=ge.exports,ve=s("4cc0"),me=s("4e10"),_e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isShown?s("modal",{class:["gtt-window","transaction-type-"+t.trigger.transactionType.toLowerCase()],on:{close:t.close}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("div",{staticClass:"row header-row"},[s("div",{staticClass:"instrument-info eight columns header-left"},[s("span",{staticClass:"tradingsymbol"},[t._v(t._s(t.trigger.condition.instrument.niceName))]),t._v(" "),s("span",{staticClass:"text-label text-label-outline blue exchange"},[t._v("\n\t\t\t\t\t"+t._s(t.trigger.condition.instrument.exchange)+"\n\t\t\t\t")]),t._v(" "),s("span",{staticClass:"text-xsmall dim last-price"},[t._v("\n\t\t\t\t\t"+t._s(t._f("inrFormat")(t.lastPrice,t.trigger.condition.instrument.precision))+"\n\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"four columns text-right header-right"},[s("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{target:"_blank",href:"https://zerodha.com/z-connect/tradezerodha/kite/introducing-gtt-good-till-triggered-orders",title:"Help"}},[s("span",{staticClass:"icon icon-info"})]),t._v(" "),s("a",{staticClass:"branding",attrs:{target:"_blank",href:"https://zerodha.com/z-connect/tradezerodha/kite/introducing-gtt-good-till-triggered-orders"}},[s("img",{attrs:{alt:"GTT logo",src:"/static/images/gtt-logo.svg"}})])])])]),t._v(" "),s("div",{attrs:{slot:"body"},slot:"body"},[s("div",{staticClass:"select-row row"},[s("div",{staticClass:"row"},[s("div",{staticClass:"select-transaction-type four columns"},[s("div",{staticClass:"section-title"},[t._v("Transaction type")]),t._v(" "),s("div",{staticClass:"section-content"},[s("su-radio-group",{staticClass:"products",model:{value:t.trigger.transactionType,callback:function(e){t.$set(t.trigger,"transactionType",e)},expression:"trigger.transactionType"}},[s("su-radio",{staticClass:"transaction-type",attrs:{label:"Buy",value:"BUY",disabled:t.isTriggerTypeTwoLeg}},[t._v("Buy")]),t._v(" "),s("su-radio",{staticClass:"transaction-type",attrs:{label:"Sell",value:"SELL"}},[t._v("Sell")])],1)],1)]),t._v(" "),s("div",{staticClass:"select-trigger-type eight columns"},[s("div",{staticClass:"section-title"},[t._v("Trigger type")]),t._v(" "),s("div",{staticClass:"section-content"},[s("su-radio-group",{staticClass:"trigger-types",on:{change:t.onTriggerTypeChange},model:{value:t.trigger.type,callback:function(e){t.$set(t.trigger,"type",e)},expression:"trigger.type"}},[s("su-radio",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"trigger-type",attrs:{label:"Single",value:"single",disabled:t.trigger.modify,title:"Single"}},[t._v("Single")]),t._v(" "),s("su-radio",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"trigger-type",attrs:{label:"OCO",value:"two-leg",disabled:t.trigger.modify||t.isTransactionTypeBuy,title:"One Cancels Other"}},[t._v("OCO")])],1),t._v(" "),s("div",{staticClass:"row"},[t.isTriggerTypeSingle?s("p",{staticClass:"text-xxsmall dim"},[t._v("\n\t\t\t\t\t\t\t\tThe order is placed when the Last Traded Price (LTP) crosses the trigger price. Used to buy or sell stock holdings.\n\t\t\t\t\t\t\t")]):t._e(),t._v(" "),t.isTriggerTypeTwoLeg?s("p",{staticClass:"text-xxsmall dim"},[t._v("\n\t\t\t\t\t\t\t\tOne Cancels Other: Either the stoploss or the target order is placed when the Last Traded Price (LTP) crosses the respective trigger. Used to set target and stoploss for stock holdings.\n\t\t\t\t\t\t\t")]):t._e()])],1)])])]),t._v(" "),s("div",{staticClass:"triggers"},[s("su-form",{ref:"gtt-form",on:{submit:function(e){return e.preventDefault(),t.onFormEnter(e)}}},t._l(t.trigger.condition.triggerValues,function(e,i){return s("div",{staticClass:"trigger row",class:"trigger-"+i},[s("div",{staticClass:"trigger-price three columns"},[s("div",{staticClass:"trigger-label"},[t.isTriggerTypeTwoLeg&&0===i?s("span",{staticClass:"text-label text-label-outline indigo"},[t._v("Stoploss")]):t.isTriggerTypeTwoLeg&&1===i?s("span",{staticClass:"text-label text-label-outline indigo"},[t._v("Target")]):s("span",{staticClass:"filler"},[t._v(" ")])]),t._v(" "),s("div",{staticClass:"input-field",attrs:{prop:"trigger-price"}},[s("su-input",{attrs:{type:"number",rules:t.rules.triggerPrice,min:t.trigger.condition.instrument.tickSize,step:t.trigger.condition.instrument.tickSize,label:"Trigger price","static-label":"","validate-on-change":""},on:{input:t.calculateTriggerPercent},model:{value:t.trigger.condition.triggerValues[i],callback:function(e){t.$set(t.trigger.condition.triggerValues,i,e)},expression:"trigger.condition.triggerValues[index]"}})],1),t._v(" "),s("div",{staticClass:"trigger-picker",on:{click:function(e){return t.focusTriggerPercentField(i)}}},[s("su-input",{attrs:{type:"number",step:t.minTriggerPercent,"dynamic-width":"","dynamic-width-size":7},on:{input:t.calculateTriggerValues},model:{value:t.trigger.condition.triggerPercent[i],callback:function(e){t.$set(t.trigger.condition.triggerPercent,i,e)},expression:"trigger.condition.triggerPercent[index]"}}),t._v(" "),s("span",[t._v("% ")]),s("span",[t._v("of LTP")])],1)]),t._v(" "),s("div",{staticClass:"three columns filler"},[s("div",{staticClass:"dim text-xxsmall"},[t._v("Places order "),s("span",{staticClass:"icon icon-arrow-right"})])]),t._v(" "),t.trigger.orders?s("div",{staticClass:"order six columns"},[s("div",{staticClass:"row row-1"},[s("su-radio-group",{staticClass:"products four columns",model:{value:t.trigger.orders[i].product,callback:function(e){t.$set(t.trigger.orders[i],"product",e)},expression:"trigger.orders[index].product"}},[s("su-radio",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"gtt-type",attrs:{label:"CNC",value:"CNC",selected:"",disabled:"",title:t.productLabels["CNC"]}},[t._v("CNC")])],1),t._v(" "),s("su-radio-group",{staticClass:"order-types eight columns",on:{change:function(e){return t.onOrderTypeChange(t.trigger.orders[i])}},model:{value:t.trigger.orders[i].orderType,callback:function(e){t.$set(t.trigger.orders[i],"orderType",e)},expression:"trigger.orders[index].orderType"}},[s("su-radio",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"gtt-type",attrs:{label:"LIMIT",value:"LIMIT",title:t.orderTypeLabels["LIMIT"],selected:"",disabled:""}},[t._v("Limit")])],1)],1),t._v(" "),s("div",{staticClass:"row row-2"},[s("div",{staticClass:"quantity input-field six columns",attrs:{prop:"quantity"}},[s("su-input",{attrs:{type:"number",min:t.trigger.condition.instrument.lotSize,step:t.trigger.condition.instrument.lotSize,"static-label":"",label:"Qty.",rules:t.rules.quantity,"validate-on-change":""},model:{value:t.trigger.orders[i].quantity,callback:function(e){t.$set(t.trigger.orders[i],"quantity",e)},expression:"trigger.orders[index].quantity"}})],1),t._v(" "),s("div",{staticClass:"price input-field six columns",attrs:{prop:"price"}},[s("su-input",{attrs:{type:"number",min:t.trigger.condition.instrument.tickSize,step:t.trigger.condition.instrument.tickSize,disabled:t.isPriceDisabled(t.trigger.orders[i]),"static-label":"",label:"Price",rules:t.rules.price,"validate-on-change":""},model:{value:t.trigger.orders[i].price,callback:function(e){t.$set(t.trigger.orders[i],"price",e)},expression:"trigger.orders[index].price"}})],1)])]):t._e()])}),0)],1)]),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("div",{staticClass:"row"},[s("div",{staticClass:"seven columns tnc-agreement"},[s("su-checkbox",{attrs:{label:""},model:{value:t.isAgreed,callback:function(e){t.isAgreed=e},expression:"isAgreed"}}),t._v(" "),s("p",{staticClass:"text-xxsmall text-light dim disclaimer",on:{click:t.toggleAgree}},[t._v("I agree to the "),s("a",{attrs:{target:"_blank",href:"https://zerodha.com/tos/gtt"}},[t._v("terms")]),t._v(" and accept that\n\t\t\t\ttrigger executions are not guaranteed. This trigger expires on "+t._s(t.expiryStr(t.trigger.expiry).slice(0,10))+".")])],1),t._v(" "),s("div",{staticClass:"five columns actions text-right"},[t.trigger.modify?t._e():s("su-button",{class:["place",t.buttonColor],attrs:{type:"submit",processing:t.trigger.loading,disabled:!t.isAgreed},nativeOn:{click:function(e){return e.preventDefault(),t.createTrigger(e)}}},[t.isAgreed?s("div",[t._v(t._s(t.trigger.actionText))]):s("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:"Agree to terms"}},[t._v(t._s(t.trigger.actionText))])]),t._v(" "),t.trigger.modify?s("su-button",{class:["place",t.buttonColor],attrs:{type:"submit",processing:t.trigger.loading,disabled:!t.isAgreed},nativeOn:{click:function(e){return e.preventDefault(),t.modifyTrigger(e)}}},[t.isAgreed?s("div",[t._v(t._s(t.trigger.actionText))]):s("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:"Agree to terms"}},[t._v(t._s(t.trigger.actionText))])]):t._e(),t._v(" "),s("su-button",{staticClass:"button-outline cancel",attrs:{type:"submit"},nativeOn:{click:function(e){return e.preventDefault(),t.close(e)}}},[t._v("\n\t\t\t\t\tCancel\n\t\t\t\t")])],1)])])]):t._e()},be=[],ye=s("9dcd"),we=s.n(ye),Ce=s("3da7"),Te=s("39e3");function ke(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function xe(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ke(s,!0).forEach(function(e){Se(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ke(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function Se(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const Ee=m["b"].GTT.typeSingle,Oe=m["b"].TRANSACTION_TYPE.BUY,Pe="gtt-window",De=5;var Ae={name:"gtt-window",inject:["ticker","instrumentManager"],data(){return{minTriggerPercent:.01,isAgreed:!1,isShown:!1,trigger:{lastPrice:0,loading:!1,modify:!1,id:null,transactionType:null,type:null,condition:null,orders:[],expiry:null},rules:{quantity:[{type:"number",required:!0,message:"Quantity is required"},{validator:this.isIntegerValidator,label:"Quantity"},{validator:this.quantityValidator,label:"Quantity"},{validator:this.multipleOfLotSizeValidator,label:"Quantity"}],triggerPrice:[{type:"number",required:!0,message:"Trigger price is required"},{validator:this.isPositiveNumber,label:"Trigger price"},{validator:this.multipleOfTickSizeValidator,label:"Trigger price"}],price:[{validator:this.isPositiveNumber,label:"Price"},{validator:this.multipleOfTickSizeValidator,label:"Price"}]}}},created(){this.$events.on(m["b"].EVENTS.GTT_PLACE,this.initPlace),this.$events.on(m["b"].EVENTS.GTT_MODIFY,this.initModify),this.productLabels={[m["b"].PRODUCT.MIS]:"Intraday squareoff with extra leverage",[m["b"].PRODUCT.CNC]:"Cash and carry. Delivery based trades",[m["b"].PRODUCT.NRML]:"Overnight positions without additional leverage"},this.orderTypeLabels={[m["b"].ORDER_TYPE.MARKET]:"Market",[m["b"].ORDER_TYPE.LIMIT]:"Limit",[m["b"].ORDER_TYPE.SL]:"Stoploss",[m["b"].ORDER_TYPE.SLM]:"Stoploss market"}},beforeDestroy(){this.unsubscribeTicks()},computed:xe({},Object(u["c"])(Te["b"],["ticks"]),{buttonColor(){return{"button-blue":"buy"===this.trigger.transactionType.toLowerCase(),"button-orange":"sell"===this.trigger.transactionType.toLowerCase()}},lastPrice(){return this.trigger.condition.instrument&&this.ticks&&this.ticks[this.trigger.condition.instrument.instrumentToken]?this.ticks[this.trigger.condition.instrument.instrumentToken].lastPrice:this.trigger.lastPrice?this.trigger.lastPrice:0},isTriggerTypeSingle(){return this.trigger.type===m["b"].GTT.typeSingle},isTriggerTypeTwoLeg(){return this.trigger.type===m["b"].GTT.typeTwoLeg},isTransactionTypeBuy(){return this.trigger.transactionType===m["b"].TRANSACTION_TYPE.BUY}}),methods:{show(t){this.isShown=!0},close(t){this.isShown=!1},initPlace(t){if(t=this.$clone(t),this.trigger.actionText=t.actionText||"Place",this.trigger.expiry=this.defaultExpiry(),this.isAgreed=!1,this.trigger.modify=!1,this.trigger.type=t.type||Ee,this.trigger.transactionType=t.transactionType||Oe,this.trigger.type===m["b"].GTT.typeTwoLeg&&(this.trigger.transactionType=m["b"].TRANSACTION_TYPE.SELL),t.lastPrice&&(this.trigger.lastPrice=t.lastPrice),this.trigger.condition={},this.trigger.condition.instrument=this.instrumentManager.get(t.condition.tradingsymbol,null,t.condition.exchange),this.subscribeTicks(),t.condition.triggerValues?(this.trigger.condition.triggerValues=t.condition.triggerValues,this.calculateTriggerPercent()):this.setDefaultTriggerValues(this.trigger.type),t.orders){this.trigger.orders=[];for(let e of t.orders){let t=this.getDefaultOrder(e);this.onOrderTypeChange(t),this.trigger.orders.push(t)}}else this.setDefaultOrders(this.trigger.type);t.condition&&t.condition.triggerPercent&&t.condition.triggerPercent.length>0&&(this.trigger.condition.triggerPercent=t.condition.triggerPercent,this.calculateTriggerValues()),this.show()},initModify(t){t=this.$clone(t),this.trigger.actionText=t.actionText||"Modify",t.expires_at&&(this.trigger.expiry=new Date(t.expires_at.slice(0,10))),this.isAgreed=!0,this.trigger.modify=!0,this.trigger.id=t.id,this.trigger.type=t.type,t.lastPrice&&(this.trigger.lastPrice=t.lastPrice),this.trigger.condition={},this.trigger.condition.instrument=this.instrumentManager.get(t.condition.tradingsymbol,null,t.condition.exchange),this.subscribeTicks(),this.trigger.condition.triggerValues=t.condition.trigger_values,this.calculateTriggerPercent(),this.trigger.orders=[];for(let e of t.orders){this.trigger.transactionType=e.transaction_type;let t={product:e.product,orderType:e.order_type,price:e.price,quantity:e.quantity};this.onOrderTypeChange(t),this.trigger.orders.push(t)}this.show()},subscribeTicks(){this.trigger.condition.instrument&&this.trigger.condition.instrument.instrumentToken&&(this.ticker.subscribe([this.trigger.condition.instrument.instrumentToken],Pe),this.ticker.setMode(this.ticker.modeLTP,[this.trigger.condition.instrument.instrumentToken],Pe))},unsubscribeTicks(){this.trigger.condition.instrument&&this.trigger.condition.instrument.instrumentToken&&this.ticker.unsubscribe([this.trigger.condition.instrument.instrumentToken],Pe)},isPriceDisabled(t){return t.orderType===m["b"].ORDER_TYPE.MARKET},setDefaultTriggerValues(t){t===m["b"].GTT.typeSingle?this.trigger.condition.triggerPercent=[De]:t===m["b"].GTT.typeTwoLeg&&(this.trigger.condition.triggerPercent=[-De,De]),this.calculateTriggerValues()},getDefaultOrder(t){return t||(t={}),{product:t.product||m["b"].PRODUCT.CNC,orderType:t.orderType||m["b"].ORDER_TYPE.LIMIT,quantity:t.quantity||this.trigger.condition.instrument.lotSize,price:t.price||""}},setDefaultOrders(t,e){let s=this.getDefaultOrder(e);t===m["b"].GTT.typeSingle?this.trigger.orders=[xe({},s)]:t===m["b"].GTT.typeTwoLeg&&(this.trigger.orders=[xe({},s),xe({},s)])},onOrderTypeChange(t){t.orderType===m["b"].ORDER_TYPE.MARKET?t.price=0:t.orderType!==m["b"].ORDER_TYPE.LIMIT||t.price||(t.price="")},onTriggerTypeChange(){this.trigger.type===m["b"].GTT.typeTwoLeg&&(this.trigger.transactionType=m["b"].TRANSACTION_TYPE.SELL),this.setDefaultTriggerValues(this.trigger.type),this.setDefaultOrders(this.trigger.type)},multipleOfTickSizeValidator(t,e){if(e=parseFloat(e),isNaN(e))return new Error(t.label+" is invalid.");try{if(!we()(e).mod(we()(this.trigger.condition.instrument.tickSize)).eq(we()(0)))return new Error(t.label+" should be a multiple of "+this.trigger.condition.instrument.tickSize)}catch(s){return new Error(t.label+" is invalid.")}},multipleOfLotSizeValidator(t,e){e=parseInt(e);try{if(e%this.trigger.condition.instrument.lotSize!==0)return new Error(t.label+" should be a multiple of "+this.trigger.condition.instrument.lotSize)}catch(s){return new Error(t.label+" is invalid.")}},isIntegerValidator(t,e){let s=/^\d+$/;if(!s.exec(e))return new Error(t.label+" is invalid.")},quantityValidator(t,e){if(parseFloat(e)<=0)return new Error(t.label+" is invalid.")},isPositiveNumber(t,e){if(parseFloat(e)<0)return new Error(t.label+" is invalid.")},onFormEnter(){this.trigger.modify?this.modifyTrigger():this.createTrigger()},createTrigger(){this.$refs["gtt-form"]&&!this.$refs["gtt-form"].validate()||this.apiPlace(this.getOrderPrams())},modifyTrigger(){this.$refs["gtt-form"]&&!this.$refs["gtt-form"].validate()||this.apiModify(this.trigger.id,this.getOrderPrams())},expiryStr(t){let e=t.getDate().toString(),s=(t.getMonth()+1).toString(),i=t.getFullYear().toString();return 1===e.length&&(e="0"+e),1===s.length&&(s="0"+s),`${i}-${s}-${e} 00:00:00`},getOrderPrams(){let t={exchange:this.trigger.condition.instrument.exchange,tradingsymbol:this.trigger.condition.instrument.tradingsymbol,trigger_values:[],last_price:this.lastPrice};for(let s of this.trigger.condition.triggerValues)t.trigger_values.push(parseFloat(s));let e=[];for(let s of this.trigger.orders)e.push({exchange:this.trigger.condition.instrument.exchange,tradingsymbol:this.trigger.condition.instrument.tradingsymbol,transaction_type:this.trigger.transactionType,quantity:parseInt(s.quantity),price:parseFloat(s.price),order_type:s.orderType,product:s.product});return{condition:JSON.stringify(t),orders:JSON.stringify(e),type:this.trigger.type,expires_at:this.expiryStr(this.trigger.expiry)}},gotoGTTPage(){this.$router.push({name:"gtt"})},apiPlace(t){this.trigger.loading=!0,Ce["a"].placeGTT(t).then(t=>{this.trigger.loading=!1,this.$toast.info({title:"Created",message:"GTT created",orientation:this.$toast.BOTTOM_RIGHT,onClick:this.gotoGTTPage}),this.$events.emit(m["b"].EVENTS.GTT_PLACE_SUCCESS,t),this.close()}).catch(t=>{this.trigger.loading=!1;let e=Object(ot["g"])(t);this.$toast.error({title:"Error creating GTT",message:e.message,orientation:this.$toast.BOTTOM_RIGHT,onClick:this.gotoGTTPage}),this.$events.emit(m["b"].EVENTS.GTT_PLACE_ERROR,e)})},apiModify(t,e){this.trigger.loading=!0,Ce["a"].modifyGTT(t,e).then(t=>{this.trigger.loading=!1,this.$toast.info({title:"Modified",message:"GTT modified",orientation:this.$toast.BOTTOM_RIGHT,onClick:this.gotoGTTPage}),this.$events.emit(m["b"].EVENTS.GTT_MODIFY_SUCCESS,t),this.close()}).catch(t=>{this.trigger.loading=!1;let e=Object(ot["g"])(t);this.$toast.error({title:"Error modifying GTT",message:e.message,orientation:this.$toast.BOTTOM_RIGHT,onClick:this.gotoGTTPage}),this.$events.emit(m["b"].EVENTS.GTT_PLACE_ERROR,e)})},defaultExpiry(){let t=new Date;return t.setFullYear(t.getFullYear()+1),t},toggleAgree(){this.isAgreed=!this.isAgreed},calculateTriggerValues(){let t=[],e=[];for(let r=0;r<this.trigger.condition.triggerPercent.length;r++){e[r]=this.trigger.condition.triggerPercent[r];let i=0;try{i=parseFloat(this.trigger.condition.triggerPercent[r])}catch(n){i=0}if(isNaN(i)||!i){t[r]=0,e[r]="";continue}let a=we()(i).div(we()(100)).times(we()(this.lastPrice)).plus(we()(this.lastPrice));var s=a.minus(a.mod(we()(this.trigger.condition.instrument.tickSize)));t[r]=parseFloat(s.valueOf()),0===t[r]&&(e[r]="")}let i=this.$clone(this.trigger.condition);i.triggerValues=t,i.triggerPercent=e,this.trigger.condition=i},calculateTriggerPercent(){let t=[];for(let i=0;i<this.trigger.condition.triggerValues.length;i++){let e=0;try{e=parseFloat(this.trigger.condition.triggerValues[i])}catch(s){return}if(isNaN(e)||!this.lastPrice){t[i]="";continue}let n=we()(e).minus(we()(this.lastPrice)).div(we()(this.lastPrice)).times(we()(100));t[i]=parseFloat(n.minus(n.mod(we()(this.minTriggerPercent))).valueOf())}let e=this.$clone(this.trigger.condition);e.triggerPercent=t,this.trigger.condition=e},focusTriggerPercentField(t){document.querySelector(".trigger-"+t+" .trigger-picker input").focus()}}},Me=Ae,Ie=Object(At["a"])(Me,_e,be,!1,null,null,null),Ne=Ie.exports,je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"orders-basket"},[t.show?s("modal",{staticClass:"orders-basket-list",on:{close:t.hideBasket}},[s("div",{attrs:{slot:"header"},slot:"header"},[t.title?s("h2",[t._v(t._s(t.title))]):t._e()]),t._v(" "),s("div",{attrs:{slot:"body"},slot:"body"},[s("su-table",{attrs:{data:t.basketData,headers:t.tableHeaders},scopedSlots:t._u([{key:"default",fn:function(e){return[s("td",[s("span",{staticClass:"text-label text-label-outline small type",class:e.row.styles.label},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.row.formatted.label)+"\n\t\t\t\t\t\t")]),t._v(" "),s("span",{staticClass:"tradingsymbol"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.row.data.instrument.tradingsymbol)+"\n\t\t\t\t\t\t")]),t._v(" "),s("span",{staticClass:"exchange dim text-xxsmall"},[t._v("\n\t\t\t\t\t\t\t("+t._s(e.row.data.instrument.exchange)+")\n\t\t\t\t\t\t")]),t._v(" "),"regular"!==e.row.formatted.variety?s("span",{staticClass:"variety dim text-xxsmall"},[t._v("\n\t\t\t\t\t\t\t("+t._s(e.row.formatted.variety)+")\n\t\t\t\t\t\t")]):t._e()]),t._v(" "),s("td",[t._v("\n\t\t\t\t\t\t"+t._s(e.row.formatted.quantity)+"\n\t\t\t\t\t")]),t._v(" "),s("td",[e.row.formatted.price?s("span",[t._v(t._s(e.row.formatted.price))]):s("span",[t._v("—")])]),t._v(" "),s("td",[t._v("\n\t\t\t\t\t\t"+t._s(e.row.formatted.orderType)+"\n\t\t\t\t\t")]),t._v(" "),s("td",[t._v("\n\t\t\t\t\t\t"+t._s(e.row.formatted.product)+"\n\t\t\t\t\t")]),t._v(" "),s("td",[t._v("\n\t\t\t\t\t\t"+t._s(e.row.formatted.validity)+"\n\t\t\t\t\t")])]}}],null,!1,996635701)})],1),t._v(" "),s("div",{staticClass:"actions",attrs:{slot:"footer"},slot:"footer"},[t.orderInProgress?s("span",{},[t._v("\n\t\t\t\t"+t._s(t.orderStatuses.length)+" of "+t._s(t.basketData.length)+" executed "),t.failedOrdersCount>0?s("span",[t._v("("+t._s(t.failedOrdersCount)+" failed)")]):t._e()]):t._e(),t._v(" "),s("su-button",{staticClass:"button-blue",attrs:{processing:t.orderInProgress,disabled:t.orderInProgress},nativeOn:{click:function(e){return t.executeAll(e)}}},[s("span",[t._v(t._s(t.actionTitle))])]),t._v(" "),s("su-button",{staticClass:"button-outline",attrs:{disabled:t.orderInProgress},nativeOn:{click:function(e){return t.hideBasket(e)}}},[s("span",[t._v("Close")])])],1)]):t._e()],1)},Fe=[];function Le(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function $e(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Le(s,!0).forEach(function(e){Re(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Le(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function Re(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const He=K["a"].NAMESPACE;var Ue={data(){return{show:!1,orderInProgress:!1,orderStatuses:[],title:"",actionTitle:"Execute",defaultActionTitle:"Execute",keyboardShortcutEvents:[{keys:[13],cb:this.executeAll,stop:!0,prevent:!0},{keys:[27],cb:this.hideBasket,stop:!0,prevent:!0}]}},created(){this.tableHeaders=[{label:"",sort:!1},{label:"Qty.",field:"quantity",sort:!1},{label:"Price",field:"price",sort:!1},{label:"Type",field:"order_type",sort:!1},{label:"Product",field:"product",sort:!1},{label:"Validity",field:"validity",sort:!1}],this.$events.on(K["a"].EVENTS.ADD,this.add),this.$events.on(K["a"].EVENTS.CLEAR,this.clear),this.$events.on(K["a"].EVENTS.REMOVE,this.remove),this.$events.on(K["a"].EVENTS.SHOW,this.showBasket)},computed:$e({},Object(u["c"])(He,["queue"]),{showOrderBasket(){return!0},failedOrdersCount(){return this.orderStatuses.filter(t=>"error"===t.status).length}}),watch:{orderStatuses(t){this.orderInProgress&&this.orderStatuses.length===this.basketData.length&&(this.$toast.success({message:"All orders in the basket have been sent",orientation:this.$toast.TOP_RIGHT}),this.reset(),this.hideBasket(),this.$events.emit(K["a"].EVENTS.COMPLETE,this.basketData))},show(t,e){t?(this.$keyEvents.deregister(this.keyboardShortcutEvents),this.$keyEvents.register(this.keyboardShortcutEvents)):this.$keyEvents.deregister(this.keyboardShortcutEvents)}},methods:$e({},Object(u["d"])(He,{addToQueue:"add",removeFromQueue:"remove",clearQueue:"clear",basketData:[]}),{add(t){this.addToQueue(t)},remove(t,e){this.removeFromQueue({id:t,basket:e})},clear(t){this.clearQueue(t)},hideBasket(){this.show=!1,this.clear(),this.reset()},showBasket(t){let e=t.basket,s=t.title,i=t.actionTitle;this.setBasket(e),this.title=s,this.show=!0,this.actionTitle=i||this.defaultActionTitle},reset(){this.orderInProgress=!1,this.orderStatuses=[]},setBasket(t){let e=[];if(e=this.queue,t){e=[];for(let s of this.queue)s.basket===t&&e.push(s)}for(let s of e)s.formatted={},s.formatted.label=s.data.label||s.type,s.formatted.price=s.data.price,s.formatted.product=s.data.product,s.formatted.quantity=s.data.quantity,s.formatted.orderType=s.data.order_type||s.data.orderType,s.formatted.validity=s.data.validity||m["b"].VALIDITY.DAY,s.formatted.variety=s.data.variety||m["b"].VARIETY.REGULAR,s.formatted.triggerPrice=s.data.trigger_price||s.data.triggerPrice,s.styles=s.data.styles||{};this.basketData=e},executeAll(){this.orderInProgress=!0;for(let t of this.basketData)if(t.type===K["a"].TYPES.CANCEL){let e=this.getApiCancelOrdeParams(t.data);this.apiOrderCancel(t.basket,t.id,e)}else if(t.type===K["a"].TYPES.PLACE){let e=this.getApiPlaceOrderParams(t.data);this.apiOrderPlace(t.basket,t.id,e)}},getApiPlaceOrderParams(t){return{exchange:t.instrument.exchange.toUpperCase(),tradingsymbol:t.instrument.tradingsymbol.toUpperCase(),transaction_type:t.transactionType.toUpperCase(),order_type:t.orderType.toUpperCase(),quantity:parseInt(t.quantity).toString(),price:parseFloat(t.price||0).toString(),product:t.product.toUpperCase(),validity:t.validity||m["b"].VALIDITY.DAY,disclosed_quantity:parseInt(t.disclosedQuantity||0).toString(),trigger_price:parseFloat(t.triggerPrice||0).toString(),squareoff:parseFloat(t.squareoff||0).toString(),stoploss:parseFloat(t.stoploss||0).toString(),trailing_stoploss:parseFloat(t.trailingStoploss||0).toString(),variety:t.variety||m["b"].VARIETY.REGULAR}},getApiCancelOrdeParams(t){let e=t.variety;return e===m["b"].VARIETY.AMO&&-1===t.status.toUpperCase().indexOf(m["b"].VARIETY.AMO.toUpperCase())&&(e=m["b"].VARIETY.REGULAR),{order_id:t.order_id,parent_order_id:t.parent_order_id,variety:e}},apiOrderPlace(t,e,s){Ce["a"].placeOrder(s).then(s=>{this.orderStatuses.push({id:e,basket:t,status:"success"})}).catch(()=>{this.orderStatuses.push({id:e,basket:t,status:"error"})})},apiOrderCancel(t,e,s){Ce["a"].cancelOrder(s.order_id,s).then(s=>{this.orderStatuses.push({id:e,basket:t,status:"success"})}).catch(()=>{this.orderStatuses.push({id:e,basket:t,status:"error"})})}})},ze=Ue,We=Object(At["a"])(ze,je,Fe,!1,null,null,null),Ge=We.exports,qe=s("0721"),Ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.tradingsymbol?s("div",{staticClass:"instrument-widget"},[t.linkChart?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"tradingsymbol link-chart",attrs:{"tooltip-pos":"down",title:"Open chart"},on:{click:function(e){return t.openChart()}}},[t._v("\n\t\t"+t._s(t.tradingsymbol)+"\n\t")]):s("span",{staticClass:"tradingsymbol"},[t._v(t._s(t.tradingsymbol))]),t._v(" "),s("span",{staticClass:"wrap"},[t.ticks[t.instrumentToken]?s("span",{staticClass:"last-price",class:t.tickClass},[t._v("\n\t\t\t"+t._s(t._f("decimalPad")(t.ticks[t.instrumentToken].lastPrice,2))+"\n\t\t")]):t._e(),t._v(" "),t.ticks[t.instrumentToken]?s("span",{staticClass:"price-change dim"},["percent"===t.changeType?s("span",{staticClass:"value"},[t._v("\n\t\t\t\t"+t._s(t._f("decimalPad")(t.ticks[t.instrumentToken].change,2))+" "),s("span",{staticClass:"text-xxsmall"},[t._v("%")])]):s("span",{staticClass:"percent"},[t._v("\n\t\t\t\t"+t._s(t._f("decimalPad")(t.ticks[t.instrumentToken].lastPrice-t.ticks[t.instrumentToken].closePrice,2))+"\n\t\t\t")])]):t._e()])]):t._e()},Be=[],Ye=s("9c9e");function Qe(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function Ke(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Qe(s,!0).forEach(function(e){Ze(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Qe(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function Ze(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var Xe={name:"instrument-widget",inject:["instrumentManager","ticker"],mixins:[Ye["a"]],props:{tradingsymbol:{type:String,required:!0},segment:{type:String,required:!0},instrumentToken:{type:Number,required:!0},priceChangeType:{type:String,default:"percent"},linkChart:{type:Boolean,default:!0}},data(){return{instrument:null,lastPrice:0,priceChange:0,changeType:this.priceChangeType}},created(){this.ticker.subscribe([this.instrumentToken],"instrument-widget"),this.ticker.setMode(this.ticker.modeLTPC,[this.instrumentToken],"instrument-widget")},beforeDestroy(){this.ticker.unsubscribe([this.instrumentToken],"instrument-widget")},mounted(){this.$nextTick(()=>{this.instrument=this.instrumentManager.get(this.tradingsymbol,this.segment)})},watch:{priceChangeType(t){this.changeType=t}},computed:Ke({},Object(u["c"])(Te["b"],["ticks"]),{tickClass(){return{up:this.ticks[this.instrumentToken]&&this.ticks[this.instrumentToken].change>0,down:this.ticks[this.instrumentToken]&&this.ticks[this.instrumentToken].change<0}}}),methods:{openChart(){this.instrument&&this.instrumentToken&&this.openInAppChart(this.instrumentToken,this.instrument.segment,this.instrument.tradingsymbol)}}},Je=Xe,ts=Object(At["a"])(Je,Ve,Be,!1,null,null,null),es=ts.exports,ss=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"notifications-bar"}},[t.message&&t.message.show&&t.message.data?s("div",{staticClass:"notifications-bar"},[s("span",{staticClass:"icon icon-times close-button",on:{click:function(e){return t.hideMessage()}}}),t._v(" "),t._l(t.message.data,function(e,i){return s("div",{key:i,staticClass:"item"},[s("span",{staticClass:"message-content"},[s("span",{staticClass:"icon icon-message-square"}),t._v(" "),s("span",{domProps:{innerHTML:t._s(e)}})])])})],2):t._e()])},is=[];function ns(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function rs(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ns(s,!0).forEach(function(e){as(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ns(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function as(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const os=at.NAMESPACE;var ls={inject:["ticker"],data(){return{message:null}},created(){this.$events.on(at.EVENTS.NOTIFICATIONS_BAR,this.showMessage)},beforeDestroy(){this.$events.off(at.EVENTS.NOTIFICATIONS_BAR)},mounted(){this.ticker.eventMessage.on(t=>{this.showMessage([t])})},computed:rs({},Object(u["c"])(os,["notifications"])),methods:{hideMessage(){this.message.show=!1},showMessage(t){let e=[];for(let s of t)e.push(this.formatMessage(s));this.message={show:!0,data:e}},formatMessage(t){return t.replace(/\[(.+?)\]\((https?:\/\/.+?)\)/gi,"<a href='$2' target='_blank'>$1</a>")}}},cs=ls,us=Object(At["a"])(cs,ss,is,!1,null,null,null),hs=us.exports,ds=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notifications-menu",class:{unseen:t.unseenNotificationsCount>0}},[s("span",{staticClass:"notifications",attrs:{id:"notifications"}},[s("a",{staticClass:"notifications-widget",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleNotifications()}}},[s("span",{staticClass:"icon icon-bell"}),t._v(" "),t.unseenNotificationsCount>0?s("span",{directives:[{name:"tour",rawName:"v-tour",value:"notification",expression:"'notification'"}],staticClass:"notification-count"},[s("span",{staticClass:"dot"}),t._v(" "),s("span",{staticClass:"count"},[t._v("\n\t\t\t\t\t"+t._s(t.unseenNotificationsCount)+"\n\t\t\t\t")])]):t._e()])])])},ps=[];function gs(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function fs(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?gs(s,!0).forEach(function(e){vs(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):gs(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function vs(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const ms=ct;var _s={inject:["ticker"],props:{value:Boolean},data(){return{isNotificationsWindow:this.value||!1}},created(){this.sound=new ot["a"](y["c"].alertSound,2e3),this.ticker.eventAlert.on(()=>{this.fetchNotifications("order")})},mounted(){this.fetchNotifications()},computed:fs({},Object(u["c"])(ms,["unseenNotificationsCount"])),watch:{unseenNotificationsCount(t){t>0&&this.sound.beep()},value(t){this.isNotificationsWindow=t}},methods:fs({},Object(u["b"])(ms,["fetchNotifications"]),{toggleNotifications(){this.isNotificationsWindow=!this.isNotificationsWindow,this.$emit("change",this.isNotificationsWindow)},hideNotificationsWindow(){this.isNotificationsWindow=!1,this.$emit("change",this.isNotificationsWindow)}})},bs=_s,ys=Object(At["a"])(bs,ds,ps,!1,null,null,null),ws=ys.exports,Cs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notifications-window"},[t.isFetching?s("div",{staticClass:"loader"},[s("su-loader",{staticClass:"dim",attrs:{size:8}})],1):t._e(),t._v(" "),t.isFetchFailed?s("error-state",{attrs:{title:"Notifications couldn't be loaded.",error:t.notificationsError}}):t._e(),t._v(" "),t.isEmpty?s("empty-state",{attrs:{image:t.getStatic("images/illustrations/notifications.svg")}},[s("div",{attrs:{slot:"message"},slot:"message"},[s("p",[t._v("You don't have any notifications")])])]):t._e(),t._v(" "),t.isTextNotifications?s("div",{staticClass:"notifications-wrap notifications-text"},t._l(t.formattedData.text,function(e,i){return s("div",{key:i,staticClass:"row notifications-item",class:e.rowStyles},[s("div",{staticClass:"two columns"},[t._v("\n\t\t\t\t"+t._s(e.formatted.time)+"\n\t\t\t")]),t._v(" "),s("div",{staticClass:"ten columns text-notification"},[s("span",{domProps:{innerHTML:t._s(e.formatted&&e.formatted.text||e.data)}})]),t._v(" "),s("span",{staticClass:"delete-item icon icon-times",on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.deleteItem(e)}}})])}),0):t._e(),t._v(" "),t.isOrderNotifications?s("div",{staticClass:"notifications-wrap notifications-order"},t._l(t.formattedData.order,function(e,i){return s("div",{key:i,staticClass:"row notifications-item",class:e.rowStyles,on:{click:function(s){return t.gotoPage(e)}}},[s("div",{staticClass:"two columns",class:e.styles},[t._v("\n\t\t\t\t"+t._s(e.formatted.time)+"\n\t\t\t")]),t._v(" "),s("div",{staticClass:"one column transaction-type",class:e.styles},["SELL"===e.data.transaction_type?s("span",{staticClass:"text-label text-label-outline red small"},[t._v("S")]):t._e(),t._v(" "),"BUY"===e.data.transaction_type?s("span",{staticClass:"text-label text-label-outline blue small"},[t._v("B")]):t._e()]),t._v(" "),s("div",{staticClass:"three columns tradingsymbol",class:e.styles},[t._v("\n\t\t\t\t"+t._s(e.data.tradingsymbol)+"\n\t\t\t")]),t._v(" "),s("div",{staticClass:"two columns quantity",class:e.styles},[t._v("\n\t\t\t\t"+t._s(e.data.filled_quantity)+" / "+t._s(e.data.quantity)+"\n\t\t\t")]),t._v(" "),s("div",{staticClass:"two columns price",class:e.styles},[t._v("\n\t\t\t\t"+t._s(e.data.average_price||e.data.price)+"\n\t\t\t")]),t._v(" "),s("div",{staticClass:"two columns status",class:e.styles},[s("span",{staticClass:"text-label text-label-outline small",class:{red:"REJECTED"==e.data.status,green:"COMPLETE"==e.data.status}},[t._v("\n\t\t\t\t\t"+t._s(e.data.status)+"\n\t\t\t\t")])])])}),0):t._e(),t._v(" "),t.formattedData&&t.formattedData.order&&t.formattedData.order.length>0?s("span",{staticClass:"icon icon-trash clear",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.deleteAllOrders(e)}}}):t._e()],1)},Ts=[];function ks(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function xs(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ks(s,!0).forEach(function(e){Ss(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ks(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function Ss(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const Es=ct;var Os={mixins:[Ye["a"]],created(){this.checkSeen(this.notifications)},beforeDestroy(){this.notifications&&this.notifications.order&&this.updateAllNotificationsSeen("order"),this.notifications&&this.notifications.text&&this.updateAllNotificationsSeen("text"),this.resetUnseenNotificationsCount()},computed:xs({},Object(u["c"])(Es,["notifications","notificationsError","notificationsFetchStatus"]),{isFetching(){return this.notificationsFetchStatus===v["a"].fetching},isFetchFailed(){return this.notificationsFetchStatus===v["a"].error},formattedData(){if(this.notifications)return this.formatData(this.notifications)},isOrderNotifications(){return!this.isFetching&&!this.isFetchFailed&&this.formattedData&&this.formattedData.order},isTextNotifications(){return!this.isFetching&&!this.isFetchFailed&&this.formattedData&&this.formattedData.text},isEmpty(){if(!this.isFetchFailed&&this.notifications){let t=this.notifications.order&&this.notifications.order.length>0,e=this.notifications.text&&this.notifications.text.length>0;if(!t&&!e)return!0}return!1}}),methods:xs({},Object(u["d"])(Es,["fetchNotifications","deleteNotification","deleteAllNotifications","updateAllNotificationsSeen","resetUnseenNotificationsCount"]),{timestampToDateString(t){return new Date(t).toTimeString().split(" ")[0]},formateTextMessage(t){return t.replace(/\[(.+?)\]\((https?:\/\/.+?)\)/gi,"<a href='$2' target='_blank'>$1</a>")},formatData(t){let e={};for(let s in t){e[s]=[];let i=t[s].slice(0).reverse();for(let t of i){let i={dim:!0===t.seen},n={[t.type]:!0},r={};"order"===t.type&&(r={time:t.data.order_timestamp.split(" ")[1]}),"text"===t.type&&(r={text:this.formateTextMessage(t.data.message),time:this.timestampToDateString(t.timestamp)}),e[s].push(xs({},t,{formatted:r,styles:i,rowStyles:n}))}}return e},deleteAllOrders(){let t="order";if(this.notifications[t]&&this.notifications[t].length>0){let e={type:t,id:this.notifications[t][this.notifications[t].length-1].id};it.deleteRange(e).then(()=>{}).catch(()=>{}),this.deleteAllNotifications(t)}},updateSeen(t,e){0!==t.length&&0!==e.length&&(this.resetUnseenNotificationsCount(),it.updateSeen({id:t,type:e}).then(()=>{}).catch(()=>{}))},checkSeen(t){let e=[],s=[];for(let i in t)if(t[i]&&t[i].length>0){let n=t[i],r=n[n.length-1];r.seen||(e.push(r.id),s.push(r.type))}this.updateSeen(e,s)},deleteItem(t){this.deleteNotification({type:t.type,id:t.id}),it.deleteItem(t.type,t.id).then(()=>{}).catch(()=>{})},gotoPage(t){let e="orders";t&&t.data&&t.data.order_id&&"gtt"===t.data.order_id.toLowerCase()&&(e="gtt"),this.$router.push({name:e})}})},Ps=Os,Ds=Object(At["a"])(Ps,Cs,Ts,!1,null,null,null),As=Ds.exports;function Ms(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function Is(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ms(s,!0).forEach(function(e){Ns(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ms(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function Ns(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}r["a"].component("modal",wt["a"]),r["a"].component("empty-state",Ct["a"]),r["a"].component("error-state",Tt["a"]),r["a"].component("context-menu",kt["a"]),r["a"].component("stock-widget",Rt),r["a"].component("technical-widget",qt),r["a"].component("option-chain-widget",Zt),r["a"].component("addon-context-menu",It),r["a"].component("mobile-context-menu",xt["a"]),r["a"].use(o.a),r["a"].use(z["a"]),r["a"].use(x),r["a"].use(P["a"],{store:d["a"]}),r["a"].use(O["a"],{store:d["a"]}),r["a"].use(S["a"],{store:d["a"]}),r["a"].use(k["a"],{store:d["a"]}),r["a"].use(E["a"],{store:d["a"]}),r["a"].use(I,{store:d["a"]}),r["a"].use(A,{store:d["a"]}),r["a"].use(j,{store:d["a"]}),r["a"].use(F["a"],{store:d["a"]}),r["a"].use($,{store:d["a"]}),r["a"].use(U,{store:d["a"]}),r["a"].use(Z,{store:d["a"]}),r["a"].use(ft,{store:d["a"]});var js={name:"app",components:{"offline-indicator":fe,"custom-router-link":ce,"keyboard-shortcuts":ie,"order-window":me["a"],"orders-basket":Ge,marketwatch:qe["default"],"instrument-widget":es,"notifications-bar":hs,"notifications-menu":ws,"notifications-window":As,"market-depth-widget":ve["a"],"gtt-window":Ne},data:function(){return{extendedTicker:null,isUserMenu:!1,isDOMRendered:!1,isInstrumentsLoaded:!1,isNotificationsWindow:!1,showKeyModal:!1,dashboardLogo:y["c"].logo,keyboardShortcutEvents:[{keys:["65"],cb:()=>this.$router.push(f["b"].dashboard),stop:!0,prevent:!0},{keys:["70"],cb:()=>this.$router.push(f["b"].margins),stop:!0,prevent:!0},{keys:["72"],cb:()=>this.$router.push(f["b"].holdings),stop:!0,prevent:!0},{keys:["73"],cb:()=>this.$router.push(f["b"].profile),stop:!0,prevent:!0},{keys:["74"],cb:()=>this.$router.push(f["b"].editProfile),stop:!0,prevent:!0},{keys:["16","83"],cb:this.showKeyboardShortcutModal,stop:!0,prevent:!0},{keys:["63"],cb:this.showKeyboardShortcutModal,stop:!0,prevent:!0},{keys:["79"],cb:()=>this.$router.push(f["b"].orders),stop:!0,prevent:!0},{keys:["80"],cb:()=>this.$router.push(f["b"].positions),stop:!0,prevent:!0}],keepAliveRouterExclude:["chart-page","chart-wrapper"]}},provide(){let t={};return Object.defineProperty(t,"extendedTicker",{enumerable:!0,get:()=>this.extendedTicker}),{userId:this.userId,publicToken:this.publicToken,encToken:this.encToken,ticker:this.ticker,instrumentManager:this.instrumentManager,crosstabClient:this.crosstabClient,reactive:t}},beforeCreate(){let t="kitefront",e="wss://ws.zerodha.com/";this.crossTabSubscriptions=new Set;let i=Object(h["b"])("","crossTabSubscriptions",h["e"]);if(i&&i.length>0)for(let s of i)this.crossTabSubscriptions.add(parseInt(s));this.crosstabClient=c.a.client(),this.crosstabClient.on(v["c"].CROSSTAB_CHANNELS.refetch,t=>{this.onCrosstabRefetch(t)}),this.userId=Object(h["b"])(null,"user_id",h["a"]),this.publicToken=Object(h["b"])(null,"public_token",h["a"]),this.encToken=Object(h["b"])(null,"enctoken",h["a"]),this.userId&&this.publicToken&&this.encToken||(window.location=f["b"].logout),Object(h["d"])("","user_id",this.userId,h["c"]),Object(h["d"])("","public_token",this.publicToken,h["c"]),Object(h["d"])("","enctoken",this.encToken,h["c"]),this.instrumentManager=new z["a"].InstrumentManager,s.e("chunk-2d22c101").then(s.t.bind(null,"f243",3)).then(t=>{this.instrumentManager.init(t),this.isInstrumentsLoaded=!0});let n={address:e,apiKey:t,userId:this.userId,publicToken:this.publicToken,version:"2.4.0"};this.ticker=new S["a"].Provider(n),this.ticker.connect(),this.ticker.eventTick.on(t=>{this.setTicks(t)}),this.ticker.eventData.on(()=>{this.tickerConnectionStatus!==v["c"].API_STATUSES.success&&this.setTickerConnectionStatus(v["c"].API_STATUSES.success)}),this.ticker.eventReconnect.on(()=>{this.setTickerConnectionStatus(v["c"].API_STATUSES.fetching)}),this.ticker.eventNoReconnect.on(()=>{this.setTickerConnectionStatus(v["c"].API_STATUSES.error)}),this.ticker.eventConnect.on(()=>{this.setTickerConnectionStatus(v["c"].API_STATUSES.success),this.crosstabClient.on(v["c"].CROSSTAB_CHANNELS.ticker,this.onCrosstabMessages);let t=[];this.crossTabSubscriptions.forEach(e=>t.push(parseInt(e))),t&&t.length>0&&(this.ticker.subscribe(t,"crosstabsubs"),this.ticker.setMode(this.ticker.modeFull,t,"crosstabsubs"))}),this.ticker.eventAlert.on(t=>{if(this.refetchCurrentRouteData(),this.crosstabClient.emit(v["c"].CROSSTAB_CHANNELS.refetch,{client:"kite"}),(!this.preferences||!this.preferences||"off"!==this.preferences.order_update_web)&&t&&t.order_id){let e=t.tradingsymbol;if(this.instrumentManager){let s=this.instrumentManager.get(t.tradingsymbol,null,t.exchange);s&&(e=s.niceName)}let s="orders";t&&t.order_id&&"gtt"===t.order_id.toLowerCase()&&(s="gtt");let i={orientation:this.$toast.BOTTOM_RIGHT,update:!0,id:t.order_id,duration:5e3,class:"order-toast",onClick:()=>{this.$router.push({name:s})}};if("COMPLETE"===t.status){let s=t.transaction_type+" "+e+" is complete.<br />"+t.quantity+" qty @ "+t.average_price+"<br /><span class='order-id'>#"+t.order_id+"</span>";this.$toast.success(Is({},i,{title:"Complete",message:s}))}else if("REJECTED"===t.status){t.status_message&&-1!==t.status_message.toLowerCase().indexOf("insufficient funds")&&(t.status_message=t.status_message+"<br /> <a style='margin-top: 5px' class='button button-outline button-small' target='_blank' href=https://cashier.zerodha.net/login>Add funds</a>");let s=t.transaction_type+" "+t.quantity+" x "+e+" is rejected.<br />"+t.status_message+"<br /><span class='order-id'>#"+t.order_id+"</span>";this.$toast.error(Is({},i,{title:"Rejected",message:s,duration:7e3}))}else if("CANCELLED"===t.status){let s=t.transaction_type+" "+e+" is cancelled.<br /><span class='order-id'>#"+t.order_id+"</span>";this.$toast.info(Is({},i,{title:"Cancelled",message:s}))}}}),this.ticker.eventReload.on(()=>{window.location.reload()}),this.ticker.eventClearCache.on(()=>{h["c"].clearAll()}),this.ticker.eventLogout.on(()=>{window.location.replace(f["b"].logout)})},created(){this.setUserId(this.userId),Object(ot["j"])("resize","optimizedResize"),window.addEventListener("optimizedResize",this.handleResize),this.$keyEvents.register(this.keyboardShortcutEvents),this.$events.on(E["a"].constants.EVENTS.ORDER_PLACE_SUCCESS,this.refetchCurrentRouteData),this.$events.on(E["a"].constants.EVENTS.ORDER_MODIFY_SUCCESS,this.refetchCurrentRouteData),this.$events.on(E["a"].constants.EVENTS.ORDER_CANCEL_SUCCESS,this.refetchCurrentRouteData),this.$events.on(Z.constants.EVENTS.COMPLETE,this.refetchCurrentRouteData);let t=[];"https://insights.sensibull.com".split("|").forEach(e=>{t.push(e.trim())}),new b(this.$events,this.instrumentManager,t)},beforeDestroy(){this.$keyEvents.deregister(this.keyboardShortcutEvents),this.$keyEvents.destroy(),window.removeEventListener("optimizedResize",this.handleResize)},mounted(){document.body.classList.add("app-wrapper");let t=new T(this.ticker);t.grantPermission(),this.fetchProfile(),this.fetchPreferences(),this.$nextTick(()=>{this.isDOMRendered=!0,this.handleResize()}),this.crosstabClient.on(v["c"].CROSSTAB_CHANNELS.getTicks,t=>{this.sendCrossTabTicks(this.ticks)}),this.crosstabClient.on(v["c"].CROSSTAB_CHANNELS.reload,t=>{window.location.reload()}),window.onbeforeunload=()=>{this.crosstabClient.emit(v["c"].CROSSTAB_CHANNELS.masterDisconnect,!0,!0)}},computed:Is({},Object(u["c"])(["isMobile","isOnline"]),{},Object(u["c"])(k["a"].namespace,["profile","userName","userAvatar","userEmail","preferences","preferencesFetchStatus"]),{},Object(u["c"])(S["a"].namespace,["ticks","tickerConnectionStatus"]),{},Object(u["c"])(U.namespace,["priceChangeType","pinnedInstruments"]),{appClasses(){return{mobile:this.isMobile,["page-"+this.$route.name]:this.$route.name,"header-menu-active":this.isUserMenu}},isBaseLoaded(){return this.isInstrumentsLoaded&&this.isDOMRendered},getUserName(){return this.userName&&this.userName.userName},getUserAvatar(){return this.userAvatar||""},cobrandedLogo(){if(this.profile&&this.profile.meta&&this.profile.meta.cobrands)for(let t of this.profile.meta.cobrands)return g()(y["c"].cobrandLogo,{name:t.toLowerCase()})}}),watch:{ticks(t){this.sendCrossTabTicks(t)},preferencesFetchStatus(t){t===v["c"].API_STATUSES.success&&(this.preferences&&!this.preferences.tours?(this.setDefaultTours(),this.updateTours(),this.startTour()):this.preferences&&this.preferences.tours&&this.startTour())},profile(t){!this.extendedTicker&&t&&t.meta&&t.meta.features&&-1!==t.meta.features.indexOf("20depth")&&(Object(h["d"])("","20depth",!0,h["c"]),this.startExtendedTicker())}},methods:Is({},Object(u["d"])(["setMobile","setOnline"]),{},Object(u["d"])(P["a"].namespace,["setDefaultTours"]),{},Object(u["d"])(k["a"].namespace,["setUserId","setChartType"]),{},Object(u["d"])(S["a"].namespace,["setTick","setTicks","setExtendedTicks","setTickerConnectionStatus"]),{},Object(u["b"])(k["a"].namespace,["fetchProfile","fetchPreferences"]),{},Object(u["b"])(P["a"].namespace,["updateTours"]),{toggleNotificationsWindow(t){this.isNotificationsWindow=t},hideNotificationsWindow(){this.isNotificationsWindow=!1},handleResize(t){let e=Object(ot["k"])();e.width<1024?this.setMobile(!0):(this.setMobile(!1),"marketwatch"===this.$route.name&&this.$router.push(f["b"].dashboard))},onCrosstabRefetch(t){t&&"kite"!==t.client&&this.refetchCurrentRouteData()},refetchCurrentRouteData(){this.$events.emit(v["c"].EVENTS.refetch+this.$route.name),this.crosstabClient.emit(v["c"].CROSSTAB_CHANNELS.refetch,{client:"kite"})},toggleUserMenu(){this.isUserMenu=!this.isUserMenu},hideUserMenu(){this.isUserMenu=!1},showKeyboardShortcutModal(){this.showKeyModal=!0},hideKeyboardShortcutsModal(){this.showKeyModal=!1},saveCrossTabSubscriptions(){let t=[];this.crossTabSubscriptions.forEach(e=>t.push(e)),Object(h["d"])("","crossTabSubscriptions",t,h["e"])},onCrosstabMessages(t){if("object"===typeof t&&t)if("subscribe"===t.type){let e=[];for(let s of t.tokens)this.crossTabSubscriptions.add(parseInt(s)),e.push(parseInt(s));this.saveCrossTabSubscriptions(),t.extended?this.extendedTicker.subscribe(e,t.tag):this.ticker.subscribe(e,t.tag)}else if("unsubscribe"===t.type){let e=[];for(let i of t.tokens)e.push(parseInt(i));t.extended?this.extendedTicker.unsubscribe(e,t.tag):this.ticker.unsubscribe(e,t.tag);let s=this.ticker.getsubscribedTokens();for(let i of t.tokens)-1===s.indexOf(i)&&this.crossTabSubscriptions.delete(parseInt(i));this.saveCrossTabSubscriptions()}else if("setMode"===t.type){let e=[];for(let s of t.tokens)this.crossTabSubscriptions.add(parseInt(s)),e.push(parseInt(s));this.saveCrossTabSubscriptions(),t.extended?this.extendedTicker.setMode(t.mode,e,t.tag):this.ticker.setMode(t.mode,e,t.tag)}},sendCrossTabTicks(t){let e={};this.crossTabSubscriptions.forEach(s=>{t[s]&&(e[s]=t[s])}),Object.keys(e).length>0&&this.crosstabClient.emit(v["c"].CROSSTAB_CHANNELS.ticks,e,!0)},startTour(t,e){Object(vt["b"])(t,e)},startExtendedTicker(){let t={address:"wss://ws20.zerodha.com",apiKey:"kitefront",userId:this.userId,publicToken:this.publicToken,version:"2.4.0",debug:!0};window.SharedWorker?(console.log("client: start  worker extended ticker"),this.extendedTicker=new yt(t)):(console.log("client: shared worker not available, fallback to normal ticker."),this.extendedTicker=new S["a"].Provider(t)),this.extendedTicker.connect(),this.extendedTicker.eventTick.on(t=>{this.setExtendedTicks(t)}),this.extendedTicker.eventDisconnect.on(()=>{console.log("client: websocket disconnected")})}})},Fs=js,Ls=(s("4960"),Object(At["a"])(Fs,i,n,!1,null,null,null));e["default"]=Ls.exports},"48a0":function(t,e,s){var i=s("242e"),n=s("950a"),r=n(i);t.exports=r},4960:function(t,e,s){"use strict";var i=s("34c7"),n=s.n(i);n.a},5052:function(t,e,s){"use strict";var i=s("ba6a"),n=s("5665");function r(t){return t?i["a"].get(Object(n["a"])("user.margins.info")):i["a"].get(Object(n["a"])("user.margins.all"))}var a={getMargins:r},o=s("5fb0"),l=s("025e");s.d(e,"b",function(){return u});let c=!0;const u="margins",h={margins:null,marginsError:null,marginsFetchStatus:o["a"].initial},d={margins:t=>t.margins,marginsError:t=>t.marginsError,marginsFetchStatus:t=>t.marginsFetchStatus},p={setMargins(t,e){t.margins=e},setMarginsError(t,e){t.marginsError=e},setMarginsFetchStatus(t,e){t.marginsFetchStatus=e}},g={fetchMargins(t){let e=t.commit;t.state;e("setMarginsFetchStatus",o["a"].fetching);let s=a.getMargins();Object(l["f"])({commit:e,apiPromise:s,data:"setMargins",error:"setMarginsError",status:"setMarginsFetchStatus"})}};e["a"]={state:h,getters:d,mutations:p,actions:g,namespaced:c}},"656f":function(t,e,s){},"6cd4":function(t,e,s){var i=s("8057"),n=s("48a0"),r=s("1304"),a=s("6747");function o(t,e){var s=a(t)?i:n;return s(t,r(e))}t.exports=o},"6f52":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dashboard"},[s("h1",{staticClass:"page-title big"},[t._v("Hi, "),s("span",{staticClass:"nickname"},[t._v(t._s(t.shortName))])]),t._v(" "),s("div",{staticClass:"margins-stats stats-block"},[t.marginsConstraints.showHeader?s("div",{staticClass:"secondary-title"},[s("span",{staticClass:"icon icon-briefcase"}),t._v(" "),s("span",[t._v("Funds")]),t._v(" "),t.marginsConstraints.isFetching?s("su-loader",{staticClass:"dim",attrs:{size:8}}):t._e()],1):t._e(),t._v(" "),t.marginsConstraints.showErrorState?s("error-state",{attrs:{title:"Margins couldn't be loaded.",error:t.marginsError}}):t._e(),t._v(" "),t.marginsConstraints.isData?s("div",{staticClass:"row"},t._l(["equity","commodity"],function(e,i){return s("div",{key:i,staticClass:"six columns margin-block",class:{first:0===i}},[s("div",{staticClass:"secondary-title"},["equity"==e?s("span",{staticClass:"icon icon-pie-chart"}):t._e(),t._v(" "),"commodity"==e?s("span",{staticClass:"icon icon-droplet"}):t._e(),t._v(" "),s("span",[t._v(t._s(e))]),t._v(" "),t.marginsConstraints.showErrorIcon?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"text-small error-fetch",attrs:{title:"Margins couldn't be fetched."}},[s("span",{staticClass:"icon icon-alert-triangle"})]):t._e(),t._v(" "),t.marginsConstraints.isFetching?s("su-loader",{staticClass:"dim",attrs:{size:8}}):t._e()],1),t._v(" "),t.margins[e]&&!t.margins[e].enabled?s("empty-state",{attrs:{image:t.emptyStateImage.margins}},[s("div",{attrs:{slot:"message"},slot:"message"},[s("p",[t._v("You don't have "+t._s("equity"===e?"an":"a")+" "+t._s(e)+" account")])]),t._v(" "),s("a",{staticClass:"button small button-blue",attrs:{slot:"action",rel:"noopener noreferrer",target:"_blank",href:t.accountOpeningLink},slot:"action"},[t._v("Open account")])]):t._e(),t._v(" "),t.marginsConstraints.isData?[s("div",{staticClass:"row"},[t.margins[e]?s("div",{staticClass:"primary-stats five columns m5"},[s("div",{staticClass:"value"},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:t._f("inrFormat")(t.margins[e].net,null,null,!0)}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("kformat")(t.margins[e].net,2))+"\n\t\t\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"label"},[t._v("Margin Available")])]):t._e(),t._v(" "),t.margins[e]?s("div",{staticClass:"secondary-stats seven columns m7"},[s("div",{staticClass:"block"},[s("span",{staticClass:"label"},[t._v("Margins used")]),t._v(" "),s("span",{staticClass:"value"},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:t._f("inrFormat")(t.margins[e].utilised.debits,null,null,!0)}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("kformat")(t.margins[e].utilised.debits,2))+"\n\t\t\t\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"block"},[s("span",{staticClass:"label"},[t._v("Opening Balance")]),t._v(" "),s("span",{staticClass:"value"},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:t._f("inrFormat")(t.margins[e].available.cash,null,null,!0)}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("kformat")(t.margins[e].available.opening_balance,2))+"\n\t\t\t\t\t\t\t\t\t\t")])])])]):t._e()])]:t._e()],2)}),0):t._e()],1),t._v(" "),s("div",{staticClass:"stats-block holdings"},[s("div",{staticClass:"holdings-block portfolio-block"},[t.holdingsConstraints.showHeader?s("div",{staticClass:"secondary-title"},[s("span",{staticClass:"icon icon-briefcase"}),t._v("\n\t\t\t\t\tHoldings "),t.holdingsConstraints.isData?s("span",[t._v("("+t._s(t.holdings.length)+")")]):t._e(),t._v(" "),t.holdingsConstraints.showErrorIcon?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"text-small error-fetch",attrs:{title:"Holdings couldn't be fetched."}},[s("span",{staticClass:"icon icon-alert-triangle"})]):t._e(),t._v(" "),t.holdingsConstraints.isFetching?s("su-loader",{staticClass:"dim",attrs:{size:8}}):t._e()],1):t._e(),t._v(" "),t.holdingsConstraints.showErrorState?s("error-state",{attrs:{title:"Holdings couldn't be loaded.",error:t.holdingsError}}):t._e(),t._v(" "),t.holdingsConstraints.showEmptyState?s("empty-state",{attrs:{image:t.emptyStateImage.holdings,showOmnisearch:"",omnisearchActionTitle:"Start investing"}},[s("div",{attrs:{slot:"message"},slot:"message"},[s("p",[t._v("You don't have any stocks in your DEMAT yet. Get started with absolutely free equity investments.")])]),t._v(" "),s("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[t.holdingsConstraints.isFetching?s("su-loader",{staticClass:"dim",attrs:{size:8}}):t._e()],1)]):t._e(),t._v(" "),t.holdingsConstraints.isData?s("div",{staticClass:"row"},[s("div",{staticClass:"primary-stats six columns m5"},[s("div",{staticClass:"value",class:{"text-green":t.netHoldings.pnl>0,"text-red":t.netHoldings.pnl<0}},[s("span",[t._v(t._s(t._f("kformat")(t.netHoldings.pnl,2)))]),t._v(" "),0!=t.netHoldings.total?s("span",{staticClass:"text-xsmall"},[t.netHoldings.pnl>0?[t._v("+")]:t._e(),t._v(t._s(t._f("decimalPad")((t.netHoldings.current-t.netHoldings.total)/t.netHoldings.total*100,2))+"%\n\t\t\t\t\t\t\t")],2):t._e()]),t._v(" "),t._m(0)]),t._v(" "),s("div",{staticClass:"secondary-stats six columns m7"},[s("div",{staticClass:"block"},[s("span",{staticClass:"label"},[t._v("Current value")]),t._v(" "),s("span",{staticClass:"value"},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:t._f("inrFormat")(t.netHoldings.current,null,null,!0)}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t._f("kformat")(t.netHoldings.current,2))+"\n\t\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"block"},[s("span",{staticClass:"label"},[t._v("Investment")]),t._v(" "),s("span",{staticClass:"value"},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:t._f("inrFormat")(t.netHoldings.total,null,null,!0)}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t._f("kformat")(t.netHoldings.total,2))+"\n\t\t\t\t\t\t\t\t")])])])])]):t._e(),t._v(" "),t.holdingsConstraints.isData?s("div",[s("holdings-treemap",{attrs:{"raw-data":t.holdings,"hide-stats":!0}})],1):t._e()],1),t._v(" "),s("div",{staticClass:"interactive-banner"},[s("banner")],1)]),t._v(" "),s("div",{staticClass:"stats-block row"},[s("div",{staticClass:"six columns market-overview-block"},[t.pinnedChartConstraints.isError?t._e():s("h2",{staticClass:"secondary-title"},[s("span",{staticClass:"icon icon-trending-up"}),t._v("\n\t\t\t\t\tMarket overview\n\t\t\t\t\t"),t._v(" "),t.pinnedChartConstraints.isFetching?s("su-loader",{staticClass:"dim",attrs:{size:8}}):t._e()],1),t._v(" "),t.pinnedChartConstraints.isError?s("error-state",{attrs:{title:"Market overview chart couldn't be loaded.",error:t.pinnedChartDataError}}):t._e(),t._v(" "),t.pinnedChartConstraints.isData?s("div",[s("market-overview-chart",{attrs:{"raw-data":t.getPinnedChartData,height:180}})],1):t._e()],1),t._v(" "),s("div",{staticClass:"six columns positions-block"},[t.positionsConstraints.showHeader?s("h2",{staticClass:"secondary-title"},[s("span",{staticClass:"icon icon-file-text"}),t._v("\n\t\t\t\t\tPositions "),t.positionsConstraints.isData?s("span",[t._v("("+t._s(t.positions.net.length)+")")]):t._e(),t._v(" "),t.holdingsConstraints.showErrorIcon?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"text-small error-fetch",attrs:{title:"Holdings couldn't be fetched."}},[s("span",{staticClass:"icon icon-alert-triangle"})]):t._e(),t._v(" "),t.positionsConstraints.isFetching?s("su-loader",{staticClass:"dim",attrs:{size:8}}):t._e()],1):t._e(),t._v(" "),t.positionsConstraints.showErrorState?s("error-state",{attrs:{title:"Positions couldn't be loaded.",error:t.positionsError}}):t._e(),t._v(" "),t.positionsConstraints.showEmptyState?s("empty-state",{attrs:{image:t.emptyStateImage.positions,showOmnisearch:"",omnisearchActionTitle:"Get started"}},[s("div",{attrs:{slot:"message"},slot:"message"},[s("p",[t._v("You don't have any positions yet")])]),t._v(" "),s("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[t.holdingsConstraints.isFetching?s("su-loader",{staticClass:"dim",attrs:{size:8}}):t._e(),t._v(" "),t.holdingsConstraints.showErrorIcon?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"text-small error-fetch",attrs:{title:"Holdings couldn't be fetched."}},[s("span",{staticClass:"icon icon-alert-triangle"})]):t._e()],1)]):t._e(),t._v(" "),t.positionsConstraints.isData?s("div",[s("positions-barchart",{attrs:{"raw-data":t.positions.net}})],1):t._e()],1)])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"label"},[s("span",[t._v("P&L")])])}],r=s("2f62"),a=s("9c9e"),o=s("5fb0"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chart"})},c=[],u=s("fd32"),h=s("b607");function d(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function p(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function g(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function f(t){var e=t.dateTime,s=t.date,i=t.time,n=t.periods,r=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=E(n),u=O(n),f=E(r),v=O(r),m=E(a),_=O(a),b=E(o),y=O(o),C=E(l),T=O(l),k={a:zt,A:Wt,b:Gt,B:qt,c:null,d:Y,e:Y,f:J,H:Q,I:K,j:Z,L:X,m:tt,M:et,p:Vt,Q:Pt,s:Dt,S:st,u:it,U:nt,V:rt,w:at,W:ot,x:null,X:null,y:lt,Y:ct,Z:ut,"%":Ot},x={a:Bt,A:Yt,b:Qt,B:Kt,c:null,d:ht,e:ht,f:vt,H:dt,I:pt,j:gt,L:ft,m:mt,M:_t,p:Zt,Q:Pt,s:Dt,S:bt,u:yt,U:wt,V:Ct,w:Tt,W:kt,x:null,X:null,y:xt,Y:St,Z:Et,"%":Ot},S={a:jt,A:Ft,b:Lt,B:$t,c:Rt,d:$,e:$,f:G,H:H,I:H,j:R,L:W,m:L,M:U,p:Nt,Q:V,s:B,S:z,u:D,U:A,V:M,w:P,W:I,x:Ht,X:Ut,y:j,Y:N,Z:F,"%":q};function At(t,e){return function(s){var i,n,r,a=[],o=-1,l=0,c=t.length;s instanceof Date||(s=new Date(+s));while(++o<c)37===t.charCodeAt(o)&&(a.push(t.slice(l,o)),null!=(n=w[i=t.charAt(++o)])?i=t.charAt(++o):n="e"===i?" ":"0",(r=e[i])&&(i=r(s,n)),a.push(i),l=o+1);return a.push(t.slice(l,o)),a.join("")}}function Mt(t,e){return function(s){var i,n,r=g(1900),a=It(r,t,s+="",0);if(a!=s.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||r.V>53)return null;"w"in r||(r.w=1),"Z"in r?(i=p(g(r.y)),n=i.getUTCDay(),i=n>4||0===n?h["p"].ceil(i):Object(h["p"])(i),i=h["l"].offset(i,7*(r.V-1)),r.y=i.getUTCFullYear(),r.m=i.getUTCMonth(),r.d=i.getUTCDate()+(r.w+6)%7):(i=e(g(r.y)),n=i.getDay(),i=n>4||0===n?h["e"].ceil(i):Object(h["e"])(i),i=h["a"].offset(i,7*(r.V-1)),r.y=i.getFullYear(),r.m=i.getMonth(),r.d=i.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?p(g(r.y)).getUTCDay():e(g(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,p(r)):e(r)}}function It(t,e,s,i){var n,r,a=0,o=e.length,l=s.length;while(a<o){if(i>=l)return-1;if(n=e.charCodeAt(a++),37===n){if(n=e.charAt(a++),r=S[n in w?e.charAt(a++):n],!r||(i=r(t,s,i))<0)return-1}else if(n!=s.charCodeAt(i++))return-1}return i}function Nt(t,e,s){var i=c.exec(e.slice(s));return i?(t.p=u[i[0].toLowerCase()],s+i[0].length):-1}function jt(t,e,s){var i=m.exec(e.slice(s));return i?(t.w=_[i[0].toLowerCase()],s+i[0].length):-1}function Ft(t,e,s){var i=f.exec(e.slice(s));return i?(t.w=v[i[0].toLowerCase()],s+i[0].length):-1}function Lt(t,e,s){var i=C.exec(e.slice(s));return i?(t.m=T[i[0].toLowerCase()],s+i[0].length):-1}function $t(t,e,s){var i=b.exec(e.slice(s));return i?(t.m=y[i[0].toLowerCase()],s+i[0].length):-1}function Rt(t,s,i){return It(t,e,s,i)}function Ht(t,e,i){return It(t,s,e,i)}function Ut(t,e,s){return It(t,i,e,s)}function zt(t){return a[t.getDay()]}function Wt(t){return r[t.getDay()]}function Gt(t){return l[t.getMonth()]}function qt(t){return o[t.getMonth()]}function Vt(t){return n[+(t.getHours()>=12)]}function Bt(t){return a[t.getUTCDay()]}function Yt(t){return r[t.getUTCDay()]}function Qt(t){return l[t.getUTCMonth()]}function Kt(t){return o[t.getUTCMonth()]}function Zt(t){return n[+(t.getUTCHours()>=12)]}return k.x=At(s,k),k.X=At(i,k),k.c=At(e,k),x.x=At(s,x),x.X=At(i,x),x.c=At(e,x),{format:function(t){var e=At(t+="",k);return e.toString=function(){return t},e},parse:function(t){var e=Mt(t+="",d);return e.toString=function(){return t},e},utcFormat:function(t){var e=At(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=Mt(t,p);return e.toString=function(){return t},e}}}var v,m,_,b,y,w={"-":"",_:" ",0:"0"},C=/^\s*\d+/,T=/^%/,k=/[\\^$*+?|[\]().{}]/g;function x(t,e,s){var i=t<0?"-":"",n=(i?-t:t)+"",r=n.length;return i+(r<s?new Array(s-r+1).join(e)+n:n)}function S(t){return t.replace(k,"\\$&")}function E(t){return new RegExp("^(?:"+t.map(S).join("|")+")","i")}function O(t){var e={},s=-1,i=t.length;while(++s<i)e[t[s].toLowerCase()]=s;return e}function P(t,e,s){var i=C.exec(e.slice(s,s+1));return i?(t.w=+i[0],s+i[0].length):-1}function D(t,e,s){var i=C.exec(e.slice(s,s+1));return i?(t.u=+i[0],s+i[0].length):-1}function A(t,e,s){var i=C.exec(e.slice(s,s+2));return i?(t.U=+i[0],s+i[0].length):-1}function M(t,e,s){var i=C.exec(e.slice(s,s+2));return i?(t.V=+i[0],s+i[0].length):-1}function I(t,e,s){var i=C.exec(e.slice(s,s+2));return i?(t.W=+i[0],s+i[0].length):-1}function N(t,e,s){var i=C.exec(e.slice(s,s+4));return i?(t.y=+i[0],s+i[0].length):-1}function j(t,e,s){var i=C.exec(e.slice(s,s+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),s+i[0].length):-1}function F(t,e,s){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(s,s+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),s+i[0].length):-1}function L(t,e,s){var i=C.exec(e.slice(s,s+2));return i?(t.m=i[0]-1,s+i[0].length):-1}function $(t,e,s){var i=C.exec(e.slice(s,s+2));return i?(t.d=+i[0],s+i[0].length):-1}function R(t,e,s){var i=C.exec(e.slice(s,s+3));return i?(t.m=0,t.d=+i[0],s+i[0].length):-1}function H(t,e,s){var i=C.exec(e.slice(s,s+2));return i?(t.H=+i[0],s+i[0].length):-1}function U(t,e,s){var i=C.exec(e.slice(s,s+2));return i?(t.M=+i[0],s+i[0].length):-1}function z(t,e,s){var i=C.exec(e.slice(s,s+2));return i?(t.S=+i[0],s+i[0].length):-1}function W(t,e,s){var i=C.exec(e.slice(s,s+3));return i?(t.L=+i[0],s+i[0].length):-1}function G(t,e,s){var i=C.exec(e.slice(s,s+6));return i?(t.L=Math.floor(i[0]/1e3),s+i[0].length):-1}function q(t,e,s){var i=T.exec(e.slice(s,s+1));return i?s+i[0].length:-1}function V(t,e,s){var i=C.exec(e.slice(s));return i?(t.Q=+i[0],s+i[0].length):-1}function B(t,e,s){var i=C.exec(e.slice(s));return i?(t.Q=1e3*+i[0],s+i[0].length):-1}function Y(t,e){return x(t.getDate(),e,2)}function Q(t,e){return x(t.getHours(),e,2)}function K(t,e){return x(t.getHours()%12||12,e,2)}function Z(t,e){return x(1+h["a"].count(Object(h["k"])(t),t),e,3)}function X(t,e){return x(t.getMilliseconds(),e,3)}function J(t,e){return X(t,e)+"000"}function tt(t,e){return x(t.getMonth()+1,e,2)}function et(t,e){return x(t.getMinutes(),e,2)}function st(t,e){return x(t.getSeconds(),e,2)}function it(t){var e=t.getDay();return 0===e?7:e}function nt(t,e){return x(h["h"].count(Object(h["k"])(t),t),e,2)}function rt(t,e){var s=t.getDay();return t=s>=4||0===s?Object(h["i"])(t):h["i"].ceil(t),x(h["i"].count(Object(h["k"])(t),t)+(4===Object(h["k"])(t).getDay()),e,2)}function at(t){return t.getDay()}function ot(t,e){return x(h["e"].count(Object(h["k"])(t),t),e,2)}function lt(t,e){return x(t.getFullYear()%100,e,2)}function ct(t,e){return x(t.getFullYear()%1e4,e,4)}function ut(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+x(e/60|0,"0",2)+x(e%60,"0",2)}function ht(t,e){return x(t.getUTCDate(),e,2)}function dt(t,e){return x(t.getUTCHours(),e,2)}function pt(t,e){return x(t.getUTCHours()%12||12,e,2)}function gt(t,e){return x(1+h["l"].count(Object(h["v"])(t),t),e,3)}function ft(t,e){return x(t.getUTCMilliseconds(),e,3)}function vt(t,e){return ft(t,e)+"000"}function mt(t,e){return x(t.getUTCMonth()+1,e,2)}function _t(t,e){return x(t.getUTCMinutes(),e,2)}function bt(t,e){return x(t.getUTCSeconds(),e,2)}function yt(t){var e=t.getUTCDay();return 0===e?7:e}function wt(t,e){return x(h["s"].count(Object(h["v"])(t),t),e,2)}function Ct(t,e){var s=t.getUTCDay();return t=s>=4||0===s?Object(h["t"])(t):h["t"].ceil(t),x(h["t"].count(Object(h["v"])(t),t)+(4===Object(h["v"])(t).getUTCDay()),e,2)}function Tt(t){return t.getUTCDay()}function kt(t,e){return x(h["p"].count(Object(h["v"])(t),t),e,2)}function xt(t,e){return x(t.getUTCFullYear()%100,e,2)}function St(t,e){return x(t.getUTCFullYear()%1e4,e,4)}function Et(){return"+0000"}function Ot(){return"%"}function Pt(t){return+t}function Dt(t){return Math.floor(+t/1e3)}function At(t){return v=f(t),m=v.format,_=v.parse,b=v.utcFormat,y=v.utcParse,v}At({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Mt="%Y-%m-%dT%H:%M:%S.%LZ";function It(t){return t.toISOString()}Date.prototype.toISOString||b(Mt);function Nt(t){var e=new Date(t);return isNaN(e)?null:e}+new Date("2000-01-01T00:00:00.000Z")||y(Mt);var jt=Math.PI,Ft=2*jt,Lt=1e-6,$t=Ft-Lt;function Rt(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ht(){return new Rt}Rt.prototype=Ht.prototype={constructor:Rt,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,s,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+s)+","+(this._y1=+i)},bezierCurveTo:function(t,e,s,i,n,r){this._+="C"+ +t+","+ +e+","+ +s+","+ +i+","+(this._x1=+n)+","+(this._y1=+r)},arcTo:function(t,e,s,i,n){t=+t,e=+e,s=+s,i=+i,n=+n;var r=this._x1,a=this._y1,o=s-t,l=i-e,c=r-t,u=a-e,h=c*c+u*u;if(n<0)throw new Error("negative radius: "+n);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Lt)if(Math.abs(u*o-l*c)>Lt&&n){var d=s-r,p=i-a,g=o*o+l*l,f=d*d+p*p,v=Math.sqrt(g),m=Math.sqrt(h),_=n*Math.tan((jt-Math.acos((g+h-f)/(2*v*m)))/2),b=_/m,y=_/v;Math.abs(b-1)>Lt&&(this._+="L"+(t+b*c)+","+(e+b*u)),this._+="A"+n+","+n+",0,0,"+ +(u*d>c*p)+","+(this._x1=t+y*o)+","+(this._y1=e+y*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,s,i,n,r){t=+t,e=+e,s=+s;var a=s*Math.cos(i),o=s*Math.sin(i),l=t+a,c=e+o,u=1^r,h=r?i-n:n-i;if(s<0)throw new Error("negative radius: "+s);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Lt||Math.abs(this._y1-c)>Lt)&&(this._+="L"+l+","+c),s&&(h<0&&(h=h%Ft+Ft),h>$t?this._+="A"+s+","+s+",0,1,"+u+","+(t-a)+","+(e-o)+"A"+s+","+s+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):h>Lt&&(this._+="A"+s+","+s+",0,"+ +(h>=jt)+","+u+","+(this._x1=t+s*Math.cos(n))+","+(this._y1=e+s*Math.sin(n))))},rect:function(t,e,s,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +s+"v"+ +i+"h"+-s+"Z"},toString:function(){return this._}};var Ut=Ht,zt=function(t){return function(){return t}},Wt=(Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,1e-12),Gt=Math.PI,qt=2*Gt;function Vt(t){this._context=t}Vt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};var Bt=function(t){return new Vt(t)};function Yt(t){return t[0]}function Qt(t){return t[1]}var Kt=function(){var t=Yt,e=Qt,s=zt(!0),i=null,n=Bt,r=null;function a(a){var o,l,c,u=a.length,h=!1;for(null==i&&(r=n(c=Ut())),o=0;o<=u;++o)!(o<u&&s(l=a[o],o,a))===h&&((h=!h)?r.lineStart():r.lineEnd()),h&&r.point(+t(l,o,a),+e(l,o,a));if(c)return r=null,c+""||null}return a.x=function(e){return arguments.length?(t="function"===typeof e?e:zt(+e),a):t},a.y=function(t){return arguments.length?(e="function"===typeof t?t:zt(+t),a):e},a.defined=function(t){return arguments.length?(s="function"===typeof t?t:zt(!!t),a):s},a.curve=function(t){return arguments.length?(n=t,null!=i&&(r=n(i)),a):n},a.context=function(t){return arguments.length?(null==t?i=r=null:r=n(i=t),a):i},a};Xt(Bt);function Zt(t){this._curve=t}function Xt(t){function e(e){return new Zt(t(e))}return e._curve=t,e}Zt.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};Array.prototype.slice;Math.sqrt(1/3);var Jt=Math.sin(Gt/10)/Math.sin(7*Gt/10),te=(Math.sin(qt/10),Math.cos(qt/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function ee(t,e,s){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+s)/6)}function se(t){this._context=t}se.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ee(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ee(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ie(t){this._context=t}ie.prototype={areaStart:te,areaEnd:te,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ee(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ne(t){this._context=t}ne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(s,i):this._context.moveTo(s,i);break;case 3:this._point=4;default:ee(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function re(t,e){this._basis=new se(t),this._beta=e}re.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,s=t.length-1;if(s>0){var i,n=t[0],r=e[0],a=t[s]-n,o=e[s]-r,l=-1;while(++l<=s)i=l/s,this._basis.point(this._beta*t[l]+(1-this._beta)*(n+i*a),this._beta*e[l]+(1-this._beta)*(r+i*o))}this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};(function t(e){function s(t){return 1===e?new se(t):new re(t,e)}return s.beta=function(e){return t(+e)},s})(.85);function ae(t,e,s){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-s),t._x2,t._y2)}function oe(t,e){this._context=t,this._k=(1-e)/6}oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ae(this,this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ae(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function s(t){return new oe(t,e)}return s.tension=function(e){return t(+e)},s})(0);function le(t,e){this._context=t,this._k=(1-e)/6}le.prototype={areaStart:te,areaEnd:te,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ae(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function s(t){return new le(t,e)}return s.tension=function(e){return t(+e)},s})(0);function ce(t,e){this._context=t,this._k=(1-e)/6}ce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ae(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function s(t){return new ce(t,e)}return s.tension=function(e){return t(+e)},s})(0);function ue(t,e,s){var i=t._x1,n=t._y1,r=t._x2,a=t._y2;if(t._l01_a>Wt){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,n=(n*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Wt){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);r=(r*c+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*c+t._y1*t._l23_2a-s*t._l12_2a)/u}t._context.bezierCurveTo(i,n,r,a,t._x2,t._y2)}function he(t,e){this._context=t,this._alpha=e}he.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var s=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:ue(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function s(t){return e?new he(t,e):new oe(t,0)}return s.alpha=function(e){return t(+e)},s})(.5);function de(t,e){this._context=t,this._alpha=e}de.prototype={areaStart:te,areaEnd:te,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){if(t=+t,e=+e,this._point){var s=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ue(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function s(t){return e?new de(t,e):new le(t,0)}return s.alpha=function(e){return t(+e)},s})(.5);function pe(t,e){this._context=t,this._alpha=e}pe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var s=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ue(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function s(t){return e?new pe(t,e):new ce(t,0)}return s.alpha=function(e){return t(+e)},s})(.5);function ge(t){this._context=t}ge.prototype={areaStart:te,areaEnd:te,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fe(t){return t<0?-1:1}function ve(t,e,s){var i=t._x1-t._x0,n=e-t._x1,r=(t._y1-t._y0)/(i||n<0&&-0),a=(s-t._y1)/(n||i<0&&-0),o=(r*n+a*i)/(i+n);return(fe(r)+fe(a))*Math.min(Math.abs(r),Math.abs(a),.5*Math.abs(o))||0}function me(t,e){var s=t._x1-t._x0;return s?(3*(t._y1-t._y0)/s-e)/2:e}function _e(t,e,s){var i=t._x0,n=t._y0,r=t._x1,a=t._y1,o=(r-i)/3;t._context.bezierCurveTo(i+o,n+o*e,r-o,a-o*s,r,a)}function be(t){this._context=t}function ye(t){this._context=new we(t)}function we(t){this._context=t}function Ce(t){this._context=t}function Te(t){var e,s,i=t.length-1,n=new Array(i),r=new Array(i),a=new Array(i);for(n[0]=0,r[0]=2,a[0]=t[0]+2*t[1],e=1;e<i-1;++e)n[e]=1,r[e]=4,a[e]=4*t[e]+2*t[e+1];for(n[i-1]=2,r[i-1]=7,a[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)s=n[e]/r[e-1],r[e]-=s,a[e]-=s*a[e-1];for(n[i-1]=a[i-1]/r[i-1],e=i-2;e>=0;--e)n[e]=(a[e]-n[e+1])/r[e];for(r[i-1]=(t[i]+n[i-1])/2,e=0;e<i-1;++e)r[e]=2*t[e+1]-n[e+1];return[n,r]}be.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_e(this,this._t0,me(this,this._t0));break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var s=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,_e(this,me(this,s=ve(this,t,e)),s);break;default:_e(this,this._t0,s=ve(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=s}}},(ye.prototype=Object.create(be.prototype)).point=function(t,e){be.prototype.point.call(this,e,t)},we.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,s,i,n,r){this._context.bezierCurveTo(e,t,i,s,r,n)}},Ce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,s=t.length;if(s)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===s)this._context.lineTo(t[1],e[1]);else for(var i=Te(t),n=Te(e),r=0,a=1;a<s;++r,++a)this._context.bezierCurveTo(i[0][r],n[0][r],i[1][r],n[1][r],t[a],e[a]);(this._line||0!==this._line&&1===s)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var ke=function(t){return new Ce(t)};function xe(t,e){this._context=t,this._t=e}xe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var s=this._x*(1-this._t)+t*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,e)}break}this._x=t,this._y=e}};var Se=s("bc17"),Ee=Array.prototype.slice,Oe=function(t){return t},Pe=1,De=2,Ae=3,Me=4,Ie=1e-6;function Ne(t){return"translate("+(t+.5)+",0)"}function je(t){return"translate(0,"+(t+.5)+")"}function Fe(t){return function(e){return+t(e)}}function Le(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(s){return+t(s)+e}}function $e(){return!this.__axis}function Re(t,e){var s=[],i=null,n=null,r=6,a=6,o=3,l=t===Pe||t===Me?-1:1,c=t===Me||t===De?"x":"y",u=t===Pe||t===Ae?Ne:je;function h(h){var d=null==i?e.ticks?e.ticks.apply(e,s):e.domain():i,p=null==n?e.tickFormat?e.tickFormat.apply(e,s):Oe:n,g=Math.max(r,0)+o,f=e.range(),v=+f[0]+.5,m=+f[f.length-1]+.5,_=(e.bandwidth?Le:Fe)(e.copy()),b=h.selection?h.selection():h,y=b.selectAll(".domain").data([null]),w=b.selectAll(".tick").data(d,e).order(),C=w.exit(),T=w.enter().append("g").attr("class","tick"),k=w.select("line"),x=w.select("text");y=y.merge(y.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),w=w.merge(T),k=k.merge(T.append("line").attr("stroke","#000").attr(c+"2",l*r)),x=x.merge(T.append("text").attr("fill","#000").attr(c,l*g).attr("dy",t===Pe?"0em":t===Ae?"0.71em":"0.32em")),h!==b&&(y=y.transition(h),w=w.transition(h),k=k.transition(h),x=x.transition(h),C=C.transition(h).attr("opacity",Ie).attr("transform",function(t){return isFinite(t=_(t))?u(t):this.getAttribute("transform")}),T.attr("opacity",Ie).attr("transform",function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:_(t))})),C.remove(),y.attr("d",t===Me||t==De?"M"+l*a+","+v+"H0.5V"+m+"H"+l*a:"M"+v+","+l*a+"V0.5H"+m+"V"+l*a),w.attr("opacity",1).attr("transform",function(t){return u(_(t))}),k.attr(c+"2",l*r),x.attr(c,l*g).text(p),b.filter($e).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===De?"start":t===Me?"end":"middle"),b.each(function(){this.__axis=_})}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return s=Ee.call(arguments),h},h.tickArguments=function(t){return arguments.length?(s=null==t?[]:Ee.call(t),h):s.slice()},h.tickValues=function(t){return arguments.length?(i=null==t?null:Ee.call(t),h):i&&i.slice()},h.tickFormat=function(t){return arguments.length?(n=t,h):n},h.tickSize=function(t){return arguments.length?(r=a=+t,h):r},h.tickSizeInner=function(t){return arguments.length?(r=+t,h):r},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(o=+t,h):o},h}function He(t){return Re(De,t)}function Ue(t){return Re(Ae,t)}function ze(t){return Re(Me,t)}var We=s("e236"),Ge=s("025e");const qe=m("%d %b %Y"),Ve=_("%Y-%m-%dT%H:%M:%S");var Be={props:["data","rawData","height"],data(){return{}},mounted(){this.element=Object(u["d"])(this.$el),this.draw(this.element,this.formattedData,!1,this.height),Object(Ge["j"])("resize","optimizedResize"),this.preProcess()},beforeDestroy(){this.postProcess()},activated(){this.preProcess()},deactivated(){this.postProcess()},computed:{formattedData(){return this.data||this.formatRawData(this.rawData)}},methods:{preProcess(){window.removeEventListener("optimizedResize",this.handleResize),window.addEventListener("optimizedResize",this.handleResize)},postProcess(){window.removeEventListener("optimizedResize",this.handleResize)},redraw(){this.draw(this.element,this.formattedData,!0,this.height)},handleResize(){this.redraw()},formatRawData(t){let e=[];for(let s=0;s<t.length;s++)s%7!==0&&s!==t.length-1||e.push({date:Ve(t[s].timestamp.split("+")[0]),line0:t[s].close_price});return e},draw(t,e,s,i){s&&t.html("");let n={top:20,right:5,bottom:50,left:5};i||(i=150),i-=n.top+n.bottom;let r=t.node().getBoundingClientRect().width-n.left-n.right,a=5,o=5,l=!0,c=!1,h=!0,d=Object(Se["c"])(function(t){return t.date}).left;var p=Object(We["e"])().range([0,r]),g=Object(We["b"])().range([i,0]),f=Object(We["b"])().range([i,0]),v=Kt().x(function(t){return p(t.date)}).y(function(t){return g(t.line0)}).curve(ke),_=Kt().x(function(t){return p(t.date)}).y(function(t){return f(t.line1)}).curve(ke),b=t.append("svg").attr("width",r+n.left+n.right).attr("height",i+n.top+n.bottom),y=b.append("g").attr("transform","translate("+n.left+","+n.top+")");p.domain(Object(Se["d"])(e,function(t){return t.date})),g.domain([Object(Se["f"])(e,function(t){return Math.max(t.line0)}),Object(Se["e"])(e,function(t){return Math.max(t.line0)})]),f.domain([Object(Se["f"])(e,function(t){return Math.max(t.line1)}),Object(Se["e"])(e,function(t){return Math.max(t.line1)})]),y.append("path").data([e]).attr("class","line line1").attr("d",v),c&&y.append("path").data([e]).attr("class","line line2").attr("d",_),y.append("g").attr("class","axis-bottom").attr("transform","translate(0,"+(i+10)+")").call(Ue(p).ticks(o).tickSize(0).tickSizeOuter(0).tickPadding(5).tickFormat(m("%b %y"))),l&&(y.append("g").attr("class","axis-left").call(ze(g).tickSize(-r).ticks(a).tickFormat("")),c&&y.append("g").attr("class","axis-right").attr("transform","translate( "+r+", 0 )").call(He(f).ticks(a)));var w=y.append("g").attr("class","focus");if(w.append("line").attr("class","x-hover-line hover-line").attr("y1",0).attr("y2",i),w.append("circle").attr("r",1),w.append("text").attr("class","nifty tooltip").attr("x",0).attr("dy","0.3em"),w.append("text").attr("class","sensex tooltip").attr("x",0).attr("dy","1.5em"),b.append("rect").attr("transform","translate("+n.left+","+n.top+")").attr("class","overlay").attr("width",r).attr("height",i).on("mouseover",function(){w.style("opacity",1)}).on("mouseout",function(){w.style("opacity",0)}).on("mousemove",T),h){var C=y.append("g").attr("class","legends");C.append("rect").attr("class","legend-bar legend-1-bar").attr("width",9).attr("height",9).attr("x",10).attr("y",5),C.append("text").attr("class","legend-label legend-1-label").attr("x",22).attr("y",12).html("NIFTY 50"),c&&(C.append("rect").attr("class","legend-bar legend-2-bar").attr("width",9).attr("height",9).attr("x",10).attr("y",20),C.append("text").attr("class","legend-label legend-2-label").attr("x",22).attr("y",28).html("S&P 500"))}function T(){let t=p.invert(Object(u["b"])(this)[0]),s=d(e,t,1),n=e[s-1],a=e[s],o=t-n.date>a.date-t?a:n,l=p(o.date)<r-110?-2:-(p(o.date)-(r-110))-2;w.attr("transform","translate("+p(o.date)+",0)"),w.select("circle").attr("transform","translate(0,"+g(o.line0)+")"),w.select("text.nifty").html(function(){return o.line0+" &nbsp;&nbsp; "+qe(o.date)}).attr("transform","translate("+l+" -10)"),w.select(".x-hover-line").attr("y2",i)}}}},Ye=Be,Qe=(s("d7b6"),s("2877")),Ke=Object(Qe["a"])(Ye,l,c,!1,null,null,null),Ze=Ke.exports,Xe=s("1b06"),Je=s("2799"),ts=s("850b"),es=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.show?s("div",{class:t.bannerClass,style:t.bannerStyle,on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.goToLink(e)}}},[s("div",{staticClass:"banner-actions",style:t.actionPositionStyle},[t.actionLabel&&t.actionUrl?s("a",{staticClass:"button button-blue button-small",style:t.actionButtonStyle,attrs:{target:"_blank",href:t.actionUrl}},[t._v(t._s(this.actionLabel))]):t._e()])]):t._e()},ss=[],is=s("bc3a"),ns=s.n(is),rs=s("5665"),as={data(){return{show:!1,actionPosition:{bottom:15,top:0,left:18,right:0},actionButtonBgColor:"",actionButtonTextColor:"",actionButtonAlignment:"",actionUrl:"",actionLabel:"",backgroundImage:"",showButton:!1,imageClick:!1,borderColor:"",borderWidth:"",borderStyle:""}},created(){ns.a.get(Object(rs["a"])("banner")).then(t=>{let e=t.data&&t.data.data;e&&(e.image&&(this.show=!0),this.actionUrl=e.action_url,this.actionLabel=e.action_label,this.backgroundImage=e.image,this.imageClick=e.image_click,this.actionButtonBgColor=e.action_button_background_color,this.actionButtonTextColor=e.action_button_text_color,this.actionButtonAlignment=e.action_button_alignment||"left",this.borderWidth=e.border_width||1,this.borderColor=e.border_color||"#f4f4f4",this.borderStyle=e.border_style||"solid",void 0!==e.action_position_bottom&&(this.actionPosition.bottom=e.action_position_bottom),void 0!==e.action_position_bottom&&(this.actionPosition.top=e.action_position_top),void 0!==e.action_position_left&&(this.actionPosition.left=e.action_position_left),void 0!==e.action_position_right&&(this.actionPosition.right=e.action_position_right))})},methods:{goToLink(){this.isImageClickable&&window.open(this.actionUrl,"_blank")}},computed:{bannerClass(){return{"promo-banner":!0,click:this.isImageClickable}},bannerStyle(){return{"background-image":`url('${this.backgroundImage}')`,"border-color":this.borderColor,"border-style":this.borderStyle,"border-width":this.borderWidth+"px"}},isImageClickable(){return this.imageClick&&this.actionUrl},actionPositionStyle(){return{bottom:0===this.actionPosition.bottom?"auto":this.actionPosition.bottom+"px",top:0===this.actionPosition.top||void 0!==this.actionButtonAlignment||""!==this.actionButtonAlignment?"auto":this.actionPosition.top+"px",left:this.actionPosition.left+"px",right:this.actionPosition.right+"px",position:"absolute","text-align":this.actionButtonAlignment}},actionButtonStyle(){return{"background-color":this.actionButtonBgColor,"border-color":this.actionButtonBgColor,color:this.actionButtonTextColor}}}},os=as,ls=(s("f4e2"),Object(Qe["a"])(os,es,ss,!1,null,null,null)),cs=ls.exports,us=s("db49"),hs=s("d1de"),ds=s("5052"),ps=s("d4ff"),gs=s("7bdc");function fs(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function vs(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?fs(s,!0).forEach(function(e){ms(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):fs(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function ms(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var _s={inject:["instrumentManager"],mixins:[a["a"]],components:{"holdings-treemap":Je["a"],"positions-barchart":ts["a"],"market-overview-chart":Ze,banner:cs},created(){this.fetchAll(),this.fetchPinnedChartData(us["b"].token),this.$events.on(o["c"].EVENTS.refetch+Xe["b"],this.fetchAll)},beforeDestroy(){this.$events.off(o["c"].EVENTS.refetch+Xe["b"],this.fetchAll)},computed:vs({},Object(r["c"])(hs["b"],["userName","profileFetchStatus"]),{},Object(r["c"])(ds["b"],["margins","marginsFetchStatus","marginsError"]),{},Object(r["c"])(ps["b"],["holdings","holdingsFetchStatus","holdingsError"]),{},Object(r["c"])(gs["b"],["positions","positionsFetchStatus","positionsError"]),{},Object(r["c"])(Xe["b"],["pinnedChartData","pinnedChartDataFetchStatus","pinnedChartDataError"]),{holdingsConstraints(){let t=this.holdingsFetchStatus===o["c"].API_STATUSES.fetching,e=this.holdingsFetchStatus===o["c"].API_STATUSES.error,s=this.holdings&&this.holdings.length>0,i=this.holdings&&0===this.holdings.length,n=e&&!this.holdings,r=e&&this.holdings,a=!i&&!n;return{isData:s,isError:e,isFetching:t,showHeader:a,showErrorIcon:r,showEmptyState:i,showErrorState:n}},positionsConstraints(){let t=this.positionsFetchStatus===o["c"].API_STATUSES.fetching,e=this.positionsFetchStatus===o["c"].API_STATUSES.error,s=this.positions&&this.positions.net&&this.positions.net.length>0,i=this.positions&&this.positions.net&&0===this.positions.net.length,n=e&&(!this.positions||!this.positions.net),r=e&&this.positions&&this.positions.net,a=!i&&!n;return{isData:s,isError:e,isFetching:t,showHeader:a,showErrorIcon:r,showEmptyState:i,showErrorState:n}},marginsConstraints(){let t=this.marginsFetchStatus===o["c"].API_STATUSES.fetching,e=this.marginsFetchStatus===o["c"].API_STATUSES.error,s=this.margins&&0!==Object.keys(this.margins).length,i=e&&!s,n=e&&s,r=t&&!s;return{isData:s,isError:e,isFetching:t,showHeader:r,showErrorIcon:n,showErrorState:i}},pinnedChartConstraints(){let t=this.pinnedChartDataFetchStatus===o["c"].API_STATUSES.fetching,e=this.pinnedChartDataFetchStatus===o["c"].API_STATUSES.error,s=this.pinnedChartData&&this.pinnedChartData[us["b"].token]&&this.pinnedChartData[us["b"].token].length>0;return{isData:s,isError:e,isFetching:t}},getPinnedChartData(){if(this.pinnedChartConstraints.isData)return this.pinnedChartData[us["b"].token]},emptyStateImage(){return{holdings:this.getStatic("images/illustrations/holdings.svg"),positions:this.getStatic("images/illustrations/positions.svg"),margins:this.getStatic("images/illustrations/positions.svg")}},accountOpeningLink(){return"https://zerodha.com/open-account?c={partnerID}&utm_source=kite&utm_medium=web&utm_campaign=account"},shortName(){return this.userName?this.userName.userShortName:""},netHoldings(){if(!this.holdings)return;let t={total:0,current:0,pnl:0};for(let e of this.holdings){let s=e.last_price||0,i=e.t1_quantity||0,n=e.quantity+i;e.average_price>0&&s>0&&(t.pnl+=(s-e.average_price)*n,t.total+=n*e.average_price,t.current+=n*s)}return t}}),watch:{profileFetchStatus(t){t===o["c"].API_STATUSES.error&&this.clearProfile()}},methods:vs({},Object(r["d"])(hs["b"],["clearProfile"]),{},Object(r["b"])(ds["b"],["fetchMargins"]),{},Object(r["b"])(hs["b"],["fetchProfile"]),{},Object(r["b"])(ps["b"],["fetchHoldings"]),{},Object(r["b"])(gs["b"],["fetchPositions"]),{},Object(r["b"])(Xe["b"],["fetchPinnedChartData"]),{fetchAll(){this.profileFetchStatus!==o["c"].API_STATUSES.success&&this.fetchProfile(),this.fetchMargins(),this.fetchHoldings(),this.fetchPositions()}})},bs=_s,ys=Object(Qe["a"])(bs,i,n,!1,null,null,null);e["default"]=ys.exports},"72af":function(t,e,s){var i=s("99cd"),n=i();t.exports=n},"86a6":function(t,e,s){},"8e6f":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"holdings"},[s("section",{staticClass:"holdings-table table-wrapper"},[t.poaWarning?s("div",{staticClass:"notice text-box yellow"},[t._v("\n\t\t\tTo see your equity holdings, complete the Demat debit consent "),s("a",{attrs:{target:"_blank",href:"https://console.zerodha.com/profile/demat"}},[t._v("here")]),t._v(". The consent is required for you to be able to execute sell transactions on your holdings.\n\t\t")]):t._e(),t._v(" "),s("header",{staticClass:"row data-table-header"},[s("h3",{staticClass:"page-title small"},[s("span",[t._v("Holdings")]),t._v(" "),t.currentHoldings&&t.currentHoldings.length>0?s("span",[t._v("("+t._s(t.currentHoldings.length)+")")]):t._e()]),t._v(" "),s("span",{staticClass:"holdings-selector-wrap"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.holdingsTypeModel,expression:"holdingsTypeModel"}],staticClass:"holdings-selector",attrs:{placeholder:"All stocks"},on:{input:t.onHoldingsTypeUpdate,change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.holdingsTypeModel=e.target.multiple?s:s[0]}}},t._l(t.holdingsTypes,function(e,i){return s("option",{key:i,attrs:{label:e.label},domProps:{value:e.value}},[t._v(t._s(e.label))])}),0),t._v(" "),s("i",{staticClass:"icon icon-chevron-down"})]),t._v(" "),t.isHoldingsFetchError&&t.currentHoldings?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"text-small error-fetch",attrs:{title:t.currentHoldingsError&&t.currentHoldingsError.message}},[s("span",{staticClass:"icon icon-alert-triangle"})]):t._e(),t._v(" "),t.isHoldingsFetching?s("su-loader",{staticClass:"dim",attrs:{size:8}}):t._e()],1),t._v(" "),t.currentHoldings&&0===t.currentHoldings.length&&!t.isHoldingsFetchError?s("empty-state",{attrs:{image:t.getStatic("images/illustrations/holdings.svg"),showOmnisearch:"",omnisearchActionTitle:"Get started","show-omnisearch":"smallcase"!==t.holdingsType&&"mutualfunds"!==t.holdingsType}},[s("div",{attrs:{slot:"message"},slot:"message"},["all"===t.holdingsType||"kite"===t.holdingsType?s("p",[t._v("\n\t\t\t\t\tYou don't have any stocks in your DEMAT yet. Get started with absolutely free equity investments.\n\t\t\t\t")]):t._e(),t._v(" "),"smallcase"===t.holdingsType?s("p",[t._v("\n\t\t\t\t\tYou don't have any smallcases.\n\t\t\t\t")]):t._e(),t._v(" "),"mutualfunds"===t.holdingsType?s("p",[t._v("\n\t\t\t\t\tYou don't have any mutualfunds.\n\t\t\t\t")]):t._e()])]):t._e(),t._v(" "),!t.isHoldingsFetchError||t.currentHoldings&&t.currentHoldings.length>0?t._e():s("error-state",{attrs:{title:t.currentHoldingsErrorTitle,error:t.currentHoldingsError}}),t._v(" "),t.currentHoldings&&t.currentHoldings.length>0&&t.isMobile?s("div",{staticClass:"cards"},t._l(t.currentHoldings,function(e,i){return s("div",{key:i,staticClass:"card",on:{click:function(s){return t.showContextMenu(e)}}},[e.showContextMenu&&t.currentCtxMenuUID===e.uid?s("mobile-context-menu",{on:{close:function(s){return t.hideContextMenu(e)}}},[s("template",{slot:"menu"},[s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.exitHolding(e)}}},[s("span",{staticClass:"icon icon-minus"}),t._v(" Exit")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.addHolding(e)}}},[s("span",{staticClass:"icon icon-plus"}),t._v(" Add")])]),t._v(" "),s("li",[s("a",{staticClass:"svg",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.createGTT(e)}}},[s("img",{attrs:{src:"/static/images/gtt-icon.svg"}}),s("span",[t._v("Create GTT "),s("span",{staticClass:"text-lightest"},[t._v(" / GTC")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.openChart(e)}}},[s("span",{staticClass:"icon icon-trending-up"}),t._v(" Chart")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.gotoConsoleBreakdown(e)}}},[s("span",{staticClass:"icon icon-console"}),t._v("View Breakdown")])]),t._v(" "),s("li",[t.isInMarketwatch(e.tradingsymbol,e.exchange)?t._e():s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.addToMarketWatch(e.tradingsymbol,e.exchange)}}},[s("span",{staticClass:"icon icon-market-watch"}),t._v(" Add to marketwatch")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.showMarketDepthWidget(e)}}},[s("span",{staticClass:"icon icon-align-center"}),t._v("Market depth")])]),t._v(" "),s("addon-context-menu",{attrs:{"data-type":"instrument",data:{tradingsymbol:e.tradingsymbol,exchange:e.exchange}}})],1)],2):t._e(),t._v(" "),s("div",{staticClass:"top flex"},[s("div",{staticClass:"flex4"},[s("span",{staticClass:"dim"},[t._v("Qty.")]),t._v(" "+t._s(e.quantity)+"\n\t\t\t\t\t\t"),e.t1_quantity?s("span",{staticClass:"dim text-xxsmall"},[t._v("T1: "+t._s(e.t1_quantity))]):t._e()]),t._v(" "),s("div",{staticClass:"flex6 text-right"},[s("span",{staticClass:"dim text-xxsmall"},[t._v("LTP")]),t._v(" "),s("span",[t._v(" "+t._s(e.formatted.lastPrice))])])]),t._v(" "),s("div",{staticClass:"middle flex"},[s("div",{staticClass:"flex6"},["mutualfunds"!==t.holdingsType?s("span",[t._v(t._s(e.tradingsymbol))]):s("span",[t._v(t._s(e.fund))]),t._v(" "),s("span",{staticClass:"dim text-xxsmall"},[t._v(t._s(e.exchange))])]),t._v(" "),s("div",{staticClass:"flex3"},[e.average_price?s("span",[s("span",{staticClass:"dim"},[t._v("₹")]),t._v(t._s(e.formatted.averagePrice))]):s("span",[t._v("–")])]),t._v(" "),s("div",{staticClass:"flex4 text-right"},[s("span",{staticClass:"dim text-xxsmall",class:e.style.netChangePercent},[t._v("\n\t\t\t\t\t\t\t"+t._s(0!==e.netChangePercent?e.formatted.netChangePercent:"")+"\n\t\t\t\t\t\t")]),t._v(" "),s("span",[t._v(t._s(e.formatted.pnl))])])])],1)}),0):t._e(),t._v(" "),t.currentHoldings&&t.currentHoldings.length>0&&!t.isMobile?s("div",[s("su-table",{staticClass:"fold-header",attrs:{data:t.currentHoldings,uid:"uid",headers:t.tableHeaders,"search-place-holder":"Filter eg: INFY",limit:300,"show-all-label":"Show all holdings",sort:"",search:"","download-csv":"holdings.csv","row-events":""},on:{rowEnter:t.handleRowEnter,rowLeave:t.handleRowLeave},scopedSlots:t._u([{key:"default",fn:function(e){return[s("td",{staticClass:"instrument right-border"},["mutualfunds"!==t.holdingsType?s("span",[t._v(t._s(e.row.tradingsymbol))]):s("span",[t._v(t._s(e.row.fund))]),t._v(" "),e.row.isEvent?s("span",{staticClass:"events-label text-blue"},[t._v("EVENT")]):t._e(),t._v(" "),s("transition",{attrs:{name:"fade"}},[e.row.showContextMenu&&e.row.uid===t.currentCtxMenuUID?s("context-menu",{staticClass:"table holdings-context-menu"},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"context-menu-button",attrs:{slot:"button",title:"Options"},slot:"button"},[s("span",{staticClass:"icon icon-ellipsis"})]),t._v(" "),s("template",{slot:"menu"},[s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.exitHolding(e.row)}}},[s("span",{staticClass:"icon icon-minus"}),t._v(" Exit")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.addHolding(e.row)}}},[s("span",{staticClass:"icon icon-plus"}),t._v(" Add")])]),t._v(" "),s("li",[s("a",{staticClass:"svg",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.createGTT(e.row)}}},[s("img",{attrs:{src:"/static/images/gtt-icon.svg"}}),t._v(" "),s("span",[t._v("Create GTT "),s("span",{staticClass:"text-lightest"},[t._v(" / GTC")])])])]),t._v(" "),s("li",{staticClass:"separator"},[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.openChart(e.row)}}},[s("span",{staticClass:"icon icon-trending-up"}),t._v(" Chart")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.gotoConsoleBreakdown(e.row)}}},[s("span",{staticClass:"icon icon-console"}),t._v("View Breakdown")])]),t._v(" "),s("li",[t.isInMarketwatch(e.row.tradingsymbol,e.row.exchange)?t._e():s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.addToMarketWatch(e.row.tradingsymbol,e.row.exchange)}}},[s("span",{staticClass:"icon icon-market-watch"}),t._v(" Add to marketwatch")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.showMarketDepthWidget(e.row)}}},[s("span",{staticClass:"icon icon-align-center"}),t._v("Market depth")])]),t._v(" "),s("addon-context-menu",{attrs:{"data-type":"instrument",data:{tradingsymbol:e.row.tradingsymbol,exchange:e.row.exchange}}})],1)],2):t._e()],1)],1),t._v(" "),s("td",{staticClass:"right"},[e.row.t1_quantity?s("span",{staticClass:"dim text-xxsmall"},[t._v("T1: "+t._s(e.row.t1_quantity))]):t._e(),t._v(" "),s("span",[t._v(t._s(e.row.quantity))])]),t._v(" "),s("td",{staticClass:"right"},[t._v("\n\t\t\t\t\t\t"+t._s(e.row.formatted.averagePrice)+"\n\t\t\t\t\t\t"),e.row.discrepancy?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:"There may be a discrepancy with this stock. Click here to fix it."}},[s("a",{staticClass:"icon icon-alert-triangle text-red",attrs:{href:t.consoleURL+"/portfolio/holdings/discrepancy?ISIN="+e.row.isin,target:"_blank"}})]):t._e()]),t._v(" "),s("td",{staticClass:"right-border right"},[e.row.lastPrice?s("div",[t._v("\n\t\t\t\t\t\t\t"+t._s(e.row.formatted.lastPrice)+"\n\t\t\t\t\t\t")]):s("div",[t._v("N/A")])]),t._v(" "),s("td",{staticClass:"right"},[e.row.currentValue?s("div",[t._v("\n\t\t\t\t\t\t\t"+t._s(e.row.formatted.currentValue)+"\n\t\t\t\t\t\t")]):s("div",[t._v("N/A")])]),t._v(" "),s("td",{class:e.row.style.pnl},[t._v("\n\t\t\t\t\t\t"+t._s(e.row.formatted.pnl)+"\n\t\t\t\t\t")]),t._v(" "),s("td",{class:e.row.style.netChangePercent},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:e.row.formatted.netChange+" ("+e.row.formatted.netChangePercent+")"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.row.formatted.netChangePercent)+"\n\t\t\t\t\t\t")])]),t._v(" "),s("td",{class:e.row.style.dayChangePercent},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:e.row.formatted.dayChangePnl+" ("+e.row.formatted.dayChangePercent+")"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.row.formatted.dayChangePercent)+"\n\t\t\t\t\t\t")])])]}}],null,!1,1852448123)},[s("span",{staticClass:"toolbar-before",attrs:{slot:"toolbar-before"},slot:"toolbar-before"},[s("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:t.consoleURL+"/portfolio/holdings"}},[s("span",{staticClass:"icon icon-console"}),t._v("View Reports")])])])],1):t._e()],1),t._v(" "),t.currentHoldings&&t.currentHoldings.length>0?s("div",{staticClass:"stats row"},[s("div",{staticClass:"four columns"},[s("h1",{staticClass:"value",domProps:{innerHTML:t._s(t.total.formatted.investment)}}),t._v(" "),s("div",{staticClass:"label"},[t._v("Total investment")])]),t._v(" "),s("div",{staticClass:"four columns"},[s("h1",{staticClass:"value",domProps:{innerHTML:t._s(t.total.formatted.value)}}),t._v(" "),s("div",{staticClass:"label"},[t._v("Current value")])]),t._v(" "),s("div",{staticClass:"four columns"},[s("h1",{staticClass:"value",class:{"text-green":t.total.pnl>0,"text-red":t.total.pnl<0}},[t._v("\n\t\t\t\t"+t._s(t._f("inrFormat")(t.total.pnl,2))+" "),0!=t.total.investment?s("small",[t._v("\n\t\t\t\t("),t.pnlPercentage>0?[t._v("+")]:t._e(),t._v(t._s(t._f("decimalPad")(t.pnlPercentage,2))+"%)")],2):t._e()]),t._v(" "),s("div",{staticClass:"label"},[t._v("P&L")])])]):t._e(),t._v(" "),s("div",{staticClass:"holdings-treemap"},[t.currentHoldings&&t.currentHoldings.length>0?s("div",[s("holdings-treemap",{key:"holdings-page",attrs:{"raw-data":t.currentHoldings,"hide-stats":!0,"max-items":100,name:"holdings"}})],1):t._e()])])},n=[],r=s("e165"),a=s.n(r),o=s("2f62"),l=s("9c9e"),c=s("5fb0"),u=s("2799"),h=s("f1f7"),d=s("d9d2"),p=s("d4ff"),g=s("39e3"),f=s("d1de"),v=s("40f2");function m(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function _(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?m(s,!0).forEach(function(e){b(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):m(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function b(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var y={inject:["ticker","instrumentManager"],mixins:[l["a"],v["a"]],components:{HoldingsTreemap:u["a"]},props:{},data(){return{currentCtxMenuUID:null,total:{pnl:0,value:0,investment:0},holdingsTreemapData:null,holdingsTypeModel:"all",currentHoldings:null}},created(){this.consoleURL="https://console.zerodha.com",this.consoleBreakdownURL=this.consoleURL+"/portfolio/holdings?segment=EQ&isin={isin}&tradingsymbol={tradingsymbol}&src=kiteweb",this.isComponentActive=!0,this.holdingsTypes=[{value:"all",label:"All stocks"},{value:"kite",label:"Kite only"},{value:"smallcase",label:"Smallcase"},{value:"mutualfunds",label:"Mutual funds"}],this.subscribedTokens=[],this.updateTimer=null,this.maxHoldingsCount=300,this.performanceMode=!1,this.tableColumnClass={tradingsymbol:["instrument","right-border"],quantity:["quantity","right"],averagePrice:["average-price","right"],lastPrice:["last-price","right","right-border"],currentValue:["current-value","right"],pnl:["pnl","right"],netChangePercent:["net-change-percent","right"],dayChangePercent:["day-change-percent","right"]},this.tableHeaders=[{label:"Instrument",field:"tradingsymbol",sort:!0,search:!0,class:this.tableColumnClass.tradingsymbol},{label:"Qty.",field:"totalQuantity",sort:!0,class:this.tableColumnClass.quantity},{label:"Avg. cost",field:"averagePrice",sort:!0,class:this.tableColumnClass.averagePrice},{label:"LTP",field:"lastPrice",sort:!0,class:this.tableColumnClass.lastPrice},{label:"Cur. val",field:"currentValue",sort:!0,class:this.tableColumnClass.currentValue},{label:"P&L",field:"pnl",sort:!0,class:this.tableColumnClass.pnl},{label:"Net chg.",field:"netChangePercent",sort:!0,class:this.tableColumnClass.netChangePercent},{label:"Day chg.",field:"dayChangePercent",sort:!0,class:this.tableColumnClass.dayChangePercent}],this.holdingsTypeModel=this.holdingsType,this.fetchCurrentHoldings(),this.$events.on("refetchData:"+p["b"],this.fetchCurrentHoldings)},beforeDestroy(){this.postProcess(),this.$events.off("refetchData:"+p["b"],this.fetchCurrentHoldings)},activated(){this.isComponentActive=!0},deactivated(){this.isComponentActive=!1,this.postProcess()},computed:_({},Object(o["c"])(["isMobile"]),{},Object(o["c"])(g["b"],["ticks"]),{},Object(o["c"])(p["b"],["presentHoldings","holdingsType"]),{},Object(o["c"])(f["b"],["profile"]),{isHoldingsFetching(){return this.presentHoldings.status===c["c"].API_STATUSES.fetching},isHoldingsFetchError(){return this.presentHoldings.status===c["c"].API_STATUSES.error},currentHoldingsError(){return this.presentHoldings.error},currentHoldingsErrorTitle(){if("all"===this.presentHoldings.type)return"Holdings couldn't be loaded.";for(let t of this.holdingsTypes)if(this.presentHoldings.type===t.value)return t.label+" holdings couldn't be loaded."},pnlPercentage(){return this.total.value&&this.total.investment&&this.total.investment>0?(this.total.value-this.total.investment)/this.total.investment*100:0},poaWarning(){if(this.profile&&this.profile.meta&&(!this.profile.meta.poa||"unavailable"===this.profile.meta.poa))return!0}}),watch:{presentHoldings(t){this.isComponentActive&&t&&t.status===c["c"].API_STATUSES.success&&t.data&&(this.updateHoldings(t.data,t.type),this.doHoldingsTasks())}},methods:_({},Object(o["b"])(p["b"],["fetchHoldings","fetchAppHoldings"]),{},Object(o["d"])(p["b"],["setHoldingsType"]),{postProcess(){this.clearUpdateTimer(),this.unsubscribeCurrentTokens(),this.currentCtxMenuUID=null},onHoldingsTypeUpdate(t){this.setHoldingsType(t.target.value),this.fetchCurrentHoldings()},fetchCurrentHoldings(){if(!this.isHoldingsFetching)return"all"===this.holdingsType?this.fetchHoldings():this.fetchAppHoldings(this.holdingsType)},updateHoldings(t,e){if(!t)return[];let s=[],i=0,n=0,r=0,a=0;for(let o of t){let t=o.tradingsymbol+o.exchange+a;a+=1;let l=Object.assign({},o),c=this.ticks[o.instrument_token],u=c&&c.lastPrice||o.last_price||0,d=o.t1_quantity||0,p=o.quantity+d;o.type=e,l.lastPrice=u,l.averagePrice=Object(h["c"])(o.average_price,2),l.totalQuantity=p;let g=0,f=0,v=0,m=0,b=0,y=0,w=0,C=!1;b=u*p,u>0&&(o.average_price>0||!o.discrepancy)&&(g=(u-o.average_price)*p,m=u-o.average_price,0!==o.average_price?w=(u-o.average_price)/o.average_price*100:C=!0),c&&c.absoluteChange&&c.change?(f=c.absoluteChange,v=f*p,y=c.change):0!==u&&o.close_price&&0!==o.close_price&&(f=u-o.close_price,v=f*p,y=f/o.close_price*100),l.uid=t,l.pnl=Object(h["c"])(g,2),l.dayChange=Object(h["c"])(f,2),l.dayChangePnl=Object(h["c"])(v,2),l.currentValue=Object(h["c"])(b,2),l.netChange=Object(h["c"])(m,2),l.dayChangePercent=Object(h["c"])(y,2),l.netChangePercent=Object(h["c"])(w,2);let T=this.instrumentManager.get(o.tradingsymbol,null,o.exchange);T&&(l.showContextMenu=!0,l.stockWidget=T.stockWidget,l.isEvent=T.isEvent);let k=!(u>0&&(o.average_price>0||!o.discrepancy));l.formatted={averagePrice:Object(h["b"])(o.average_price,2,!0),lastPrice:Object(h["b"])(u,2,!0),currentValue:Object(h["b"])(b,2,!0),pnl:k?"N/A":Object(h["b"])(g,2,!0),dayChange:Object(h["b"])(f,2,!0),netChange:C||k?"N/A":Object(h["b"])(m,2,!0),dayChangePnl:u?Object(h["b"])(v,2,!0):"N/A",dayChangePercent:u?(y>0?"+":"")+Object(h["b"])(y,2,!0)+"%":"N/A",netChangePercent:C||k?"N/A":(w>0?"+":"")+Object(h["b"])(w,2,!0)+"%"},l.style={pnl:this.getTextStyleObject(g),dayChangePercent:_({},this.getTextStyleObject(y),{"day-change":!0}),netChangePercent:_({},this.getTextStyleObject(w),{"net-change":!0})},u>0&&(o.average_price>0||!o.discrepancy)&&(i+=g,n+=p*u,r+=p*o.average_price),s.push(l)}this.total={investment:r,value:n,pnl:i},this.total.formatted={investment:this.splitDecimal(Object(h["b"])(this.total.investment,2)),value:this.splitDecimal(Object(h["b"])(this.total.value,2)),pnl:this.splitDecimal(Object(h["b"])(this.total.pnl,2))},this.currentHoldings=s},doHoldingsTasks(){this.currentHoldings.length>this.maxHoldingsCount&&(this.performanceMode=!0),this.performanceMode?(this.clearUpdateTimer(),this.unsubscribeCurrentTokens()):(this.initUpdateTimer(),this.updateCurrentSubscription())},unsubscribeCurrentTokens(){this.subscribedTokens&&this.subscribedTokens.length>0&&(this.ticker.unsubscribe(this.subscribedTokens,p["b"]),this.subscribedTokens=[])},updateCurrentSubscription(){let t=[],e=[];this.currentHoldings.forEach(e=>{t.push(e.instrument_token)}),e=this.subscribedTokens.filter(e=>{if(-1===t.indexOf(e))return e}),this.ticker.subscribe(t,p["b"]),this.ticker.setMode(this.ticker.modeLTPC,t,p["b"]),this.ticker.unsubscribe(e,p["b"]),this.subscribedTokens=t},getTextStyleObject(t){return{"text-red":t<0,"text-green":t>0}},initUpdateTimer(){this.clearUpdateTimer();let t=3e3;this.currentHoldings&&this.currentHoldings.length>50&&(t=1e4),this.updateTimer=setInterval(()=>{this.updateHoldings(this.presentHoldings.data,this.presentHoldings.type)},t)},clearUpdateTimer(){this.updateTimer&&(clearInterval(this.updateTimer),this.updateTimer=null)},showStockWidget(t,e,s){this.$events.emit(c["c"].EVENTS.showStockWidget,{tradingsymbol:t,exchange:e,tab:s})},addHolding(t){let e=this.instrumentManager.get(t.tradingsymbol,null,t.exchange),s=this.ticks[t.instrument_token]&&this.ticks[t.instrument_token].lastPrice;this.placeOrder({instrument:e,instrumentToken:t.instrument_token,transactionType:d["b"].TRANSACTION_TYPE.BUY,quantity:e.lotSize,product:d["b"].PRODUCT.CNC,orderType:d["b"].ORDER_TYPE.MARKET,variety:d["b"].VARIETY.REGULAR,instrument_token:t.instrument_token,price:s,lastPrice:s,triggerPrice:s})},exitHolding(t){let e=this.instrumentManager.get(t.tradingsymbol,null,t.exchange),s=t.quantity+(t.t1_quantity||0),i=this.ticks[t.instrument_token]&&this.ticks[t.instrument_token].lastPrice;this.placeOrder({instrument:e,instrumentToken:t.instrument_token,transactionType:d["b"].TRANSACTION_TYPE.SELL,quantity:s,product:d["b"].PRODUCT.CNC,orderType:d["b"].ORDER_TYPE.MARKET,variety:d["b"].VARIETY.REGULAR,instrument_token:t.instrument_token,price:i,lastPrice:i,triggerPrice:i})},placeOrder(t){this.$events.emit(d["b"].EVENTS.ORDER_PLACE,t)},splitDecimal(t){let e=t.split(".");return 2===e.length?e[0]+'<span class="text-decimal">.'+e[1]+"</span>":e[0]},openChart(t){let e=this.instrumentManager.get(t.tradingsymbol,null,t.exchange);e&&this.openInAppChart(t.instrument_token,e.segment,e.tradingsymbol)},showContextMenu(t){this.currentCtxMenuUID=t.uid},hideContextMenu(t){this.currentCtxMenuUID=null},handleRowEnter(t){this.showContextMenu(t.row)},handleRowLeave(t){this.hideContextMenu()},sparklineStyle(t){if(this.performanceMode||"NSE"!==t.exchange||!t.tradingsymbol)return"background-image: none;";let e="https://kitestatic.zerodha.com/static/sparklines"+t.tradingsymbol+".svg";return"background-image: url("+e+");"},showMarketDepthWidget(t){let e=this.instrumentManager.get(t.tradingsymbol,null,t.exchange);e&&this.$events.emit(c["c"].EVENTS.showMarketDepthWidget,{instrument:e})},gotoConsoleBreakdown(t){let e=a()(this.consoleBreakdownURL,t);window.open(e)},createGTT(t){this.$events.emit(d["b"].EVENTS.GTT_PLACE,{lastPrice:t.lastPrice,type:d["b"].GTT.typeTwoLeg,condition:{tradingsymbol:t.tradingsymbol,exchange:t.exchange},orders:[{quantity:t.quantity},{quantity:t.quantity}]})}})},w=y,C=s("2877"),T=Object(C["a"])(w,i,n,!1,null,null,null);e["default"]=T.exports},"950a":function(t,e,s){var i=s("30c9");function n(t,e){return function(s,n){if(null==s)return s;if(!i(s))return t(s,n);var r=s.length,a=e?r:-1,o=Object(s);while(e?a--:++a<r)if(!1===n(o[a],a,o))break;return s}}t.exports=n},9579:function(t,e,s){},9806:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"orderbook gtt-list"},[t.gttConstraints.showErrorState?s("error-state",{attrs:{title:"GTT couldn't be loaded.",error:t.gttError}}):t._e(),t._v(" "),t.gttConstraints.showEmptyState?s("empty-state",{attrs:{image:t.getStatic("images/illustrations/gtt.svg"),showOmnisearch:"",omnisearchActionTitle:"Create GTT"}},[s("div",{attrs:{slot:"message"},slot:"message"},[s("p",[t._v("You have not created any triggers. "),s("a",{attrs:{href:"https://zerodha.com/z-connect/tradezerodha/kite/introducing-gtt-good-till-triggered-orders",target:"_blank"}},[t._v("Learn more")]),t._v(" about setting automatic stoploss and target orders for your holdings.")])]),t._v(" "),s("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[t.gttConstraints.isFetching?s("su-loader",{staticClass:"dim",attrs:{size:8}}):t._e(),t._v(" "),t.gttConstraints.isError?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"text-small error-fetch",attrs:{title:"Orders couldn't be fetched."}},[s("span",{staticClass:"icon icon-alert-triangle"})]):t._e()],1)]):t._e(),t._v(" "),t.gttConstraints.showEmptyState||t.gttConstraints.showErrorState?t._e():s("section",{staticClass:"gtt-list-wrap table-wrapper"},[s("header",{staticClass:"row data-table-header"},[s("h3",{staticClass:"page-title small"},[t._m(0),t._v(" "),t.gttConstraints.isData?s("span",[t._v("("+t._s(t.formattedGTT.length)+")")]):t._e(),t._v(" "),t.gttConstraints.showErrorIcon?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"text-small error-fetch",attrs:{title:t.gttError&&t.gttError.message}},[s("span",{staticClass:"icon icon-alert-triangle text-red"})]):t._e(),t._v(" "),t.gttConstraints.isFetching?s("su-loader",{staticClass:"dim",attrs:{size:8}}):t._e()],1)]),t._v(" "),t.gttConstraints.isData&&!t.isMobile?s("div",{staticClass:"gtt-list-section"},[s("su-table",{staticClass:"fold-header",attrs:{data:t.formattedGTT,headers:t.gttTableHeaders,uid:"id",searchPlaceHolder:"eg: sell, nifty, nrml etc.","download-csv":"gtt-list.csv",toolbar:t.formattedGTT&&0!==t.formattedGTT.length,sort:"",search:"","row-events":""},on:{rowEnter:function(e){return t.showContextMenu(e.row,"gtt","id")},rowLeave:function(e){return t.hideContextMenu(e.row,"gtt")}},scopedSlots:t._u([{key:"default",fn:function(e){return[s("td",{staticClass:"fill-timestamp",class:[e.row.style.common]},[t._v("\n\t\t\t\t\t\t"+t._s(e.row.created_at.slice(0,10))+"\n\t\t\t\t\t")]),t._v(" "),s("td",{staticClass:"instrument",class:[e.row.style.common]},[s("span",{staticClass:"tradingsymbol"},[e.row.condition.instrument.niceName?s("span",{domProps:{innerHTML:t._s(e.row.condition.instrument.niceName)}}):s("span",[t._v(t._s(e.row.condition.instrument.tradingsymbol))])]),t._v(" "),s("span",{staticClass:"exchange text-xxsmall dim"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.row.condition.instrument.exchange)+"\n\t\t\t\t\t\t")]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.contextMenu.gtt&&t.contextMenu.gtt===e.row.id?s("context-menu",{staticClass:"table"},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"context-menu-button",attrs:{slot:"button",title:"Options"},slot:"button"},[s("span",{staticClass:"icon icon-ellipsis"})]),t._v(" "),s("template",{slot:"menu"},[s("li",[e.row.isDisabled?s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.enableTrigger(e.row)}}},[s("span",{staticClass:"icon icon-edit"}),t._v(" Enable")]):t._e()]),t._v(" "),s("li",[e.row.isModify?s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.showGTTModifyModal(e.row)}}},[s("span",{staticClass:"icon icon-edit"}),t._v(" Modify")]):t._e()]),t._v(" "),s("li",[e.row.isDelete?s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.showGTTDeleteModal(e.row)}}},[s("span",{staticClass:"icon icon-times"}),t._v(" Delete")]):t._e()]),t._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.showGTTInfoModal(e.row)}}},[s("span",{staticClass:"icon icon-info"}),t._v(" Info")])]),t._v(" "),s("li",{staticClass:"separator"},[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.openChart(e.row.condition)}}},[s("span",{staticClass:"icon icon-trending-up"}),t._v(" Chart")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.showMarketDepthWidget(e.row.condition)}}},[s("span",{staticClass:"icon icon-align-center"}),t._v("Market depth")])]),t._v(" "),t.isEquity(e.row.condition.exchange)?s("li",[s("a",{staticClass:"svg",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.createGTT(e.row)}}},[s("img",{attrs:{src:"/static/images/gtt-icon.svg"}}),s("span",[t._v("Copy GTT "),s("span",{staticClass:"text-lightest"},[t._v(" / GTC")])])])]):t._e(),t._v(" "),s("addon-context-menu",{attrs:{"data-type":"instrument",data:{tradingsymbol:e.row.condition.tradingsymbol,exchange:e.row.condition.exchange}}})],1)],2):t._e()],1)],1),t._v(" "),s("td",{staticClass:"type",class:[e.row.style.common]},[s("span",{staticClass:"text-label small fixed-width-label cursor",class:t.gttTypeLabelClass(e.row.type),on:{click:function(s){return t.showGTTInfoModal(e.row)}}},[e.row.isTypeOCO?s("span",[t._v("OCO")]):s("span",[t._v(t._s(e.row.type.toUpperCase()))]),t._v(" "),s("span",[t._v("- "+t._s(e.row.transactionType))])])]),t._v(" "),s("td",{staticClass:"trigger-values",class:[e.row.style.common]},t._l(e.row.condition.trigger_values,function(i,n){return s("div",[s("span",[t._v(t._s(t._f("inrFormat")(i,e.row.condition.instrument.precision)))]),t._v(" "),t.ticks&&t.ticks[e.row.condition.instrument.instrumentToken]?s("span",{staticClass:"distance-percent"},[e.row.isActive?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:"Distance from LTP"}},[t._v(t._s(t._f("round")(t.calculateAwayPercent(i,t.ticks[e.row.condition.instrument.instrumentToken].lastPrice),2))+"%")]):s("span",[t._v("—")])]):t._e()])}),0),t._v(" "),s("td",{staticClass:"last-price",class:[e.row.style.common]},[t.ticks&&t.ticks[e.row.condition.instrument.instrumentToken]?s("span",[t._v("\n\t\t\t\t\t\t\t"+t._s(t._f("inrFormat")(t.ticks[e.row.condition.instrument.instrumentToken].lastPrice,e.row.condition.instrument.precision))+"\n\t\t\t\t\t\t")]):s("span",[t._v("\n\t\t\t\t\t\t\t—\n\t\t\t\t\t\t")])]),t._v(" "),s("td",{staticClass:"quantity",class:[e.row.style.common]},t._l(e.row.orders,function(e,i){return s("span",[0!==i?s("span",[t._v("/")]):t._e(),t._v(" "+t._s(e.quantity)+"\n\t\t\t\t\t\t")])}),0),t._v(" "),s("td",{staticClass:"status"},[s("span",{staticClass:"text-label small order-status-label",class:t.gttStatusLabelClass(e.row.status),on:{click:function(s){return t.showGTTInfoModal(e.row)}}},[s("span",[t._v(t._s(e.row.status))])]),t._v(" "),e.row.isDisabled?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"large",expression:"'large'"}],attrs:{title:"Trigger is rejected due to: "+(e.row&&e.row.meta.rejection_reason)+". Modify and enable the trigger."},on:{click:function(s){return t.enableTrigger(e.row)}}},[s("span",{staticClass:"icon icon-info text-red cursor"})]):t._e()])]}}],null,!1,2825504057)},[s("span",{attrs:{slot:"toolbar-before-search"},slot:"toolbar-before-search"},[s("button",{staticClass:"create-new button button-small button-blue",on:{click:function(e){return e.preventDefault(),t.showMarketDepthWidget()}}},[t._v("Create GTT")])])])],1):t._e(),t._v(" "),t.gttConstraints.isData&&t.isMobile?s("div",{staticClass:"gtt-list cards"},t._l(t.formattedGTT,function(e,i){return s("div",{key:i,staticClass:"card",on:{click:function(s){return t.showContextMenu(e,"gtt","id")}}},[t.contextMenu.gtt&&t.contextMenu.gtt===e.id?s("mobile-context-menu",{on:{close:function(s){return t.hideContextMenu(e,"gtt")}}},[s("template",{slot:"menu"},[s("li",[e.isModify?s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.showGTTModifyModal(e)}}},[s("span",{staticClass:"icon icon-edit"}),t._v(" Modify")]):t._e()]),t._v(" "),s("li",[e.isDelete?s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.showGTTDeleteModal(e)}}},[s("span",{staticClass:"icon icon-times"}),t._v(" Delete")]):t._e()]),t._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.showGTTInfoModal(e)}}},[s("span",{staticClass:"icon icon-info"}),t._v(" Info")])]),t._v(" "),s("li",{staticClass:"separator"},[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.openChart(e.condition)}}},[s("span",{staticClass:"icon icon-trending-up"}),t._v(" Chart")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.showMarketDepthWidget(e.condition)}}},[s("span",{staticClass:"icon icon-align-center"}),t._v("Market depth")])]),t._v(" "),s("addon-context-menu",{attrs:{"data-type":"instrument",data:{tradingsymbol:e.condition.tradingsymbol,exchange:e.condition.exchange}}})],1)],2):t._e(),t._v(" "),s("div",{staticClass:"top flex"},[s("div",{staticClass:"flex4"},[s("span",{staticClass:"text-label small order-status-label",class:t.gttStatusLabelClass(e.status)},[s("span",[t._v(t._s(e.status))])])]),t._v(" "),s("div",{staticClass:"flex4 text-right text-small"},[s("span",{staticClass:"dim"},[t._v(t._s(e.created_at.slice(0,10)))])])]),t._v(" "),s("div",{staticClass:"middle flex"},[s("div",{staticClass:"flex6"},[e.condition.instrument.niceName?s("span",{domProps:{innerHTML:t._s(e.condition.instrument.niceName)}}):s("span",[t._v(t._s(e.condition.instrument.tradingsymbol))]),t._v(" "),s("span",{staticClass:"dim text-xxsmall"},[t._v(t._s(e.condition.instrument.exchange))])]),t._v(" "),s("div",{staticClass:"flex6 text-right"},[s("span",{staticClass:"text-xsmall dim"},[t._v("Trig")]),t._v(" "),t._l(e.condition.trigger_values,function(i,n){return s("span",[0!==n?s("span",[t._v("/")]):t._e(),t._v(" "+t._s(t._f("inrFormat")(i,e.condition.instrument.precision))+"\n\t\t\t\t\t\t")])})],2)]),t._v(" "),s("div",{staticClass:"flex"},[s("div",{staticClass:"flex6"},[s("span",{staticClass:"text-label small fixed-width-label",class:t.gttTypeLabelClass(e.type)},[e.isTypeOCO?s("span",[t._v("OCO")]):s("span",[t._v(t._s(e.type.toUpperCase()))]),t._v(" "),s("span",[t._v("- "+t._s(e.transactionType))])])]),t._v(" "),s("div",{staticClass:"flex6 text-right"},[s("span",{staticClass:"text-xsmall dim"},[t._v("Qty")]),t._v(" "),t._l(e.orders,function(e,i){return s("span",[0!==i?s("span",[t._v("/")]):t._e(),t._v(" "+t._s(e.quantity)+"\n\t\t\t\t\t\t")])})],2)])],1)}),0):t._e()]),t._v(" "),s("gtt-delete-window"),t._v(" "),s("gtt-info-window")],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"title"},[s("span",[t._v("GTT")])])}],r=s("2f62"),a=s("9c9e"),o=s("d9d2"),l=s("5fb0"),c=s("0e50"),u=s("39e3"),h=s("40f2"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isShown&&t.trigger?s("modal",{directives:[{name:"on-escape",rawName:"v-on-escape",value:t.close,expression:"close"}],staticClass:"gtt-delete-modal",on:{close:t.close}},[s("h2",{attrs:{slot:"header"},slot:"header"},[t._v("Delete GTT?")]),t._v(" "),s("div",{attrs:{slot:"body"},slot:"body"},[s("span",{staticClass:"instrument"},[s("span",{staticClass:"tradingsymbol"},[t._v(t._s(t.trigger.condition.tradingsymbol))]),t._v(" "),s("span",{staticClass:"text-label small trigger-type",class:t.gttTypeLabelClass(t.trigger.type)},[t._v(t._s(t.trigger.type.toUpperCase()))]),t._v(" "),s("p",[t._v("Created on "),s("span",[t._v(t._s(t.trigger.created_at))])])])]),t._v(" "),s("div",{staticClass:"actions",attrs:{slot:"footer"},slot:"footer"},[s("su-button",{staticClass:"button-blue",attrs:{processing:t.deleteInProgress},nativeOn:{click:function(e){return t.apiDeleteGTT(t.trigger)}}},[s("span",[t._v("Delete")])]),t._v(" "),s("su-button",{staticClass:"button-outline",nativeOn:{click:function(e){return t.close(e)}}},[s("span",[t._v("Close")])])],1)]):t._e()},p=[],g=s("3da7"),f=s("025e"),v={name:"gtt-delete-window",data(){return{isShown:!1,trigger:null,deleteInProgress:!1}},created(){this.$events.on(o["b"].EVENTS.GTT_DELETE,this.init)},methods:{show(){this.isShown=!0},close(){this.isShown=!1},gttTypeLabelClass(t){return{indigo:t===o["b"].GTT.typeSingle,amber:t===o["b"].GTT.typeTwoLeg}},init(t){this.trigger=t,this.show()},apiDeleteGTT(t){this.deleteInProgress=!0,g["a"].deleteGTT(t.id).then(t=>{this.deleteInProgress=!1,this.$toast.info({title:"Deleted",message:"GTT deleted",orientation:this.$toast.BOTTOM_RIGHT}),this.$events.emit(o["b"].EVENTS.GTT_DELETE_SUCCESS,t),this.close()}).catch(t=>{this.deleteInProgress=!1;let e=Object(f["g"])(t);this.cancelInProgress=!1,this.$toast.error({title:"Error",message:e.message,orientation:this.$toast.BOTTOM_RIGHT}),this.$events.emit(o["b"].EVENTS.GTT_DELETE_ERROR,e),this.close()})}}},m=v,_=s("2877"),b=Object(_["a"])(m,d,p,!1,null,null,null),y=b.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isShown?s("modal",{staticClass:"gtt-info-modal",on:{close:t.close}},[[s("div",{staticClass:"row gtt-info-header",attrs:{slot:"header"},slot:"header"},[s("div",{staticClass:"eight columns tradingsymbol-wrapper header-left"},[s("span",{staticClass:"trigger-type text-label text-label-outline blue",class:t.gttTypeLabelClass(t.trigger.type)},[t._v("\n\t\t\t\t\t"+t._s(t.trigger.type.toUpperCase())+"\n\t\t\t\t")]),t._v(" "),s("h3",{staticClass:"tradingsymbol"},[t._v("\n\t\t\t\t\t"+t._s(t.trigger.condition.tradingsymbol)+" "),s("span",{staticClass:"text-xsmall dim"},[t._v(t._s(t.trigger.condition.exchange))])])]),t._v(" "),s("div",{staticClass:"status four columns text-right header-right"},[s("span",{staticClass:"text-label text-label-outline small trigger-status-label",class:t.gttStatusLabelClass(t.trigger.status.toUpperCase())},[t._v("\n\t\t\t\t\t"+t._s(t.trigger.status.toUpperCase())+"\n\t\t\t\t")]),t._v(" "),s("a",{staticClass:"branding",attrs:{target:"_blank",href:"https://zerodha.com/z-connect/tradezerodha/kite/introducing-gtt-good-till-triggered-orders"}},[s("img",{attrs:{alt:"GTT logo",src:"/static/images/gtt-logo.svg"}})])])]),t._v(" "),s("div",{staticClass:"gtt-info-body",attrs:{slot:"body"},slot:"body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"six columns"},[s("div",{staticClass:"row field"},[s("div",{staticClass:"six columns"},[s("label",[t._v("Created at")])]),t._v(" "),s("div",{staticClass:"six columns text-right"},[s("div",{staticClass:"created at"},[t._v(t._s(t.trigger.created_at))])])]),t._v(" "),s("div",{staticClass:"row field"},[s("div",{staticClass:"six columns"},[s("label",[t._v("Updated at")])]),t._v(" "),s("div",{staticClass:"six columns text-right"},[s("div",{staticClass:"updated-at"},[t._v(t._s(t.trigger.updated_at))])])])]),t._v(" "),s("div",{staticClass:"six columns"},[s("div",{staticClass:"row field"},[s("div",{staticClass:"six columns"},[s("label",[t._v("Expires at")])]),t._v(" "),s("div",{staticClass:"six columns text-right"},[s("div",{staticClass:"expires-at"},[t._v(t._s(t.trigger.expires_at.slice(0,10)))])])]),t._v(" "),s("div",{staticClass:"row field"},[s("div",{staticClass:"six columns"},[s("label",[t._v("LTP created at")])]),t._v(" "),s("div",{staticClass:"six columns text-right"},[s("div",{staticClass:"expires-at"},[t._v(t._s(t.trigger.condition.last_price))])])]),t._v(" "),t.trigger.meta&&t.trigger.meta.rejection_reason?s("div",{staticClass:"row field"},[s("label",[t._v("Rejection reason")]),t._v(" "),s("div",{staticClass:"expires-at"},[t._v(t._s(t.trigger.meta.rejection_reason))])]):t._e()])]),t._v(" "),t._l(t.trigger.condition.trigger_values,function(e,i){return s("div",{staticClass:"trigger-section"},[s("div",{staticClass:"trigger-section-header row field"},[s("div",{staticClass:"eight columns"},[t.isTriggerTypeTwoLeg&&0===i?s("span",[t._v("Stoploss trigger @ "+t._s(e))]):t.isTriggerTypeTwoLeg&&1===i?s("span",[t._v("Target trigger @ "+t._s(e))]):s("span",[t._v("Trigger @ "+t._s(e))])]),t._v(" "),s("div",{staticClass:"four columns text-right"},[t.isStatusTriggered&&t.trigger.orders[i].result?s("span",{staticClass:"text-label green"},[t._v("PLACED")]):t.isStatusTriggered&&!t.trigger.orders[i].result?s("span",{staticClass:"text-label"},[t._v("DORMANT")]):t._e()])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"six columns"},[s("div",{staticClass:"row field"},[s("div",{staticClass:"six columns"},[s("label",[t._v("Transaction type")])]),t._v(" "),s("div",{staticClass:"six columns text-right"},[s("div",{staticClass:"transaction-type"},[t._v(t._s(t.trigger.orders[i].transaction_type))])])]),t._v(" "),s("div",{staticClass:"row field"},[s("div",{staticClass:"six columns"},[s("label",[t._v("Product")])]),t._v(" "),s("div",{staticClass:"six columns text-right"},[s("div",{staticClass:"product"},[t._v(t._s(t.trigger.orders[i].product))])])]),t._v(" "),s("div",{staticClass:"row field"},[s("div",{staticClass:"six columns"},[s("label",[t._v("Order type")])]),t._v(" "),s("div",{staticClass:"six columns text-right"},[s("div",{staticClass:"updated-at"},[t._v(t._s(t.trigger.orders[i].order_type))])])]),t._v(" "),s("div",{staticClass:"row field"},[s("div",{staticClass:"six columns"},[s("label",[t._v("Order ID")])]),t._v(" "),s("div",{staticClass:"six columns text-right"},[t.trigger.orders[i].result&&t.trigger.orders[i].result.order_result&&t.trigger.orders[i].result.order_result.order_id?s("div",{staticClass:"order-id"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.trigger.orders[i].result.order_result.order_id))]):s("div",[t._v("—")])])]),t._v(" "),t.trigger.orders[i].result&&t.trigger.orders[i].result.order_result&&t.trigger.orders[i].result.order_result.rejection_reason?s("div",{staticClass:"row field"},[s("label",[t._v("Rejection reason")]),t._v(" "),s("div",{staticClass:"rejection-reason"},[t._v(t._s(t.trigger.orders[i].result.order_result.rejection_reason))])]):t._e()]),t._v(" "),s("div",{staticClass:"six columns"},[s("div",{staticClass:"row field"},[s("div",{staticClass:"six columns"},[s("label",[t._v("Quantity")])]),t._v(" "),s("div",{staticClass:"six columns text-right"},[s("div",{staticClass:"quantity"},[t._v(t._s(t.trigger.orders[i].quantity))])])]),t._v(" "),s("div",{staticClass:"row field"},[s("div",{staticClass:"six columns"},[s("label",[t._v("Price")])]),t._v(" "),s("div",{staticClass:"six columns text-right"},[s("div",{staticClass:"updated-at"},[t._v(t._s(t.trigger.orders[i].price))])])]),t._v(" "),s("div",{staticClass:"row field"},[s("div",{staticClass:"six columns"},[s("label",[t._v("Trigger at price")])]),t._v(" "),s("div",{staticClass:"six columns text-right"},[t.trigger.orders[i].result?s("div",{staticClass:"triggered-at"},[t._v(t._s(t.trigger.orders[i].result.triggered_at))]):s("div",[t._v("—")])])]),t._v(" "),s("div",{staticClass:"row field"},[s("div",{staticClass:"six columns"},[s("label",[t._v("Triggered at")])]),t._v(" "),s("div",{staticClass:"six columns text-right"},[t.trigger.orders[i].result?s("div",{staticClass:"triggered-price"},[t._v(t._s(t.trigger.orders[i].result.timestamp))]):s("div",[t._v("—")])])])])])])})],2),t._v(" "),s("div",{staticClass:"actions",attrs:{slot:"footer"},slot:"footer"},[t.isStatusActive?s("su-button",{staticClass:"button button-blue",nativeOn:{click:function(e){return t.showGTTModifyModal()}}},[t._v("Modify")]):t._e(),t._v(" "),s("su-button",{staticClass:"button button-outline",nativeOn:{click:function(e){return t.close(e)}}},[t._v("Close")])],1)]],2):t._e()},C=[];function T(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function k(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?T(s,!0).forEach(function(e){x(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):T(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function x(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var S={data(){return{isShown:!1,trigger:null}},created(){this.$events.on(o["b"].EVENTS.GTT_INFO,this.init),this.tableHeaders={viewTrades:[{label:"Trade ID",field:"trade_id",sort:!1},{label:"Time",field:"order_timestamp",sort:!1},{label:"Exch. time",field:"exchange_timestamp",sort:!1},{label:"Exch. id",field:"exchange_order_id",sort:!1},{label:"Product",field:"product",sort:!1},{label:"Qty.",field:"quantity",sort:!1},{label:"Avg. price",field:"average_price",sort:!1}]}},computed:k({},Object(r["c"])(["isMobile"]),{isTriggerTypeSingle(){return this.trigger.type===o["b"].GTT.typeSingle},isTriggerTypeTwoLeg(){return this.trigger.type===o["b"].GTT.typeTwoLeg},isStatusTriggered(){return this.trigger.status.toUpperCase()===o["b"].GTT.statusTriggered},isStatusActive(){return this.trigger.status.toUpperCase()===o["b"].GTT.statusActive}}),methods:{show(){this.isShown=!0},close(){this.isShown=!1},init(t){this.trigger=t,this.show()},gttTypeLabelClass(t){return{indigo:t===o["b"].GTT.typeSingle,amber:t===o["b"].GTT.typeTwoLeg}},gttStatusLabelClass(t){return{red:"EXPIRED"===t,amber:"CANCELLED"===t,green:"ACTIVE"===t,blue:"TRIGGERED"===t}},showGTTModifyModal(){this.$events.emit(o["b"].EVENTS.GTT_MODIFY,this.trigger),this.close()}}},E=S,O=Object(_["a"])(E,w,C,!1,null,null,null),P=O.exports;function D(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function A(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?D(s,!0).forEach(function(e){M(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):D(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function M(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const I="gtt";var N={inject:["ticker","instrumentManager"],mixins:[a["a"],h["a"]],components:{"gtt-delete-window":y,"gtt-info-window":P},data(){return{showGTT:!1,contextMenu:{gtt:null},subscribedTokens:[]}},created(){this.consoleURL="https://console.zerodha.com",this.isComponentActive=!0,this.gttTableHeaders=[{label:"Created on",field:"created_at",sort:!0,search:!0},{label:"Instrument",field:"condition.tradingsymbol",sort:!0,search:!0,class:"instrument",downloadField:"downloadInsturment"},{label:"Type",field:"type",sort:!0,search:!0},{label:"Trigger",field:"condition.trigger_values",sort:!1,search:!1,class:"trigger-values",downloadField:"downloadTriggerValues"},{label:"LTP",field:"condition.trigger_values",search:!1},{label:"Quantity",field:"orderQuantities",sort:!1,search:!1,downloadField:"orderQuantities"},{label:"Status",field:"status",sort:!0,search:!0,class:"order-status"}],this.fetchGTT(),this.preProcess()},beforeDestroy(){this.postProcess()},activated(){this.preProcess()},deactivated(){this.postProcess()},watch:{subscribedTokens(t,e){t&&t.length>0&&(this.ticker.subscribe(t,I),this.ticker.setMode(this.ticker.modeLTP,t,I))}},computed:A({},Object(r["c"])(["isMobile"]),{},Object(r["c"])(u["b"],["ticks"]),{},Object(r["c"])(c["b"],["gtt","gttError","gttFetchStatus"]),{gttConstraints(){let t=this.gttFetchStatus===l["c"].API_STATUSES.fetching,e=this.gttFetchStatus===l["c"].API_STATUSES.error,s=this.gtt&&this.gtt.length>0,i=this.gtt&&0===this.gtt.length,n=e&&!this.gtt,r=e&&this.gtt;return{isData:s,isError:e,isFetching:t,showErrorIcon:r,showEmptyState:i,showErrorState:n}},formattedGTT(){let t=[],e=[];for(let r of this.gtt){var s=this.$clone(r);if(s.condition.instrument=this.instrumentManager.get(s.condition.tradingsymbol,null,s.condition.exchange),s.condition.instrument){if(e.push(s.condition.instrument.instrumentToken),s.status=s.status.toUpperCase(),s.isDisabled=s.status===o["b"].GTT.statusDisabled,s.isActive=s.status===o["b"].GTT.statusActive,s.isModify=s.isActive&&!s.isDisabled,s.isDelete=s.isActive||s.isDisabled,s.style={},s.style.common={greyed:s.status!==o["b"].GTT.statusActive&&s.status!==o["b"].GTT.statusDisabled},s.downloadInsturment=s.condition.instrument.tradingsymbol+" ("+s.condition.instrument.exchange+")",s.type===o["b"].GTT.typeSingle?s.downloadTriggerValues=s.condition.trigger_values[0]:s.type===o["b"].GTT.typeTwoLeg&&(s.isTypeOCO=!0,s.downloadTriggerValues=s.condition.trigger_values[0]+"/"+s.condition.trigger_values[1]),s.orderQuantities="",s.orders&&s.orders.length>0){s.transactionType=s.orders[0].transaction_type;for(let t=0;t<s.orders.length;t++)s.orderQuantities+=s.orders[t].quantity,t!==s.orders.length-1&&(s.orderQuantities+="/")}t.push(s)}}this.subscribedTokens=e;let i=[],n=[];for(let r of t)r.status===o["b"].GTT.statusActive?i.push(r):n.push(r);return t=i.concat(n),t}}),methods:A({},Object(r["b"])(c["b"],["fetchGTT"]),{preProcess(){this.$events.on(l["c"].EVENTS.refetch+"gtt",this.fetchGTT),this.$events.on(o["b"].EVENTS.GTT_DELETE_SUCCESS,this.fetchGTT),this.$events.on(o["b"].EVENTS.GTT_DELETE_ERROR,this.fetchGTT),this.$events.on(o["b"].EVENTS.GTT_PLACE_SUCCESS,this.fetchGTT),this.$events.on(o["b"].EVENTS.GTT_PLACE_ERROR,this.fetchGTT),this.$events.on(o["b"].EVENTS.GTT_MODIFY_SUCCESS,this.fetchGTT),this.$events.on(o["b"].EVENTS.GTT_MODIFY_ERROR,this.fetchGTT),this.isComponentActive=!0},postProcess(){this.$events.off(l["c"].EVENTS.refetch+"gtt",this.fetchGTT),this.$events.off(o["b"].EVENTS.GTT_DELETE_SUCCESS,this.fetchGTT),this.$events.off(o["b"].EVENTS.GTT_DELETE_ERROR,this.fetchGTT),this.$events.off(o["b"].EVENTS.GTT_PLACE_SUCCESS,this.fetchGTT),this.$events.off(o["b"].EVENTS.GTT_PLACE_ERROR,this.fetchGTT),this.$events.off(o["b"].EVENTS.GTT_MODIFY_SUCCESS,this.fetchGTT),this.$events.off(o["b"].EVENTS.GTT_MODIFY_ERROR,this.fetchGTT),this.isComponentActive=!1,this.subscribedTokens&&this.subscribedTokens.length>0&&this.ticker.unsubscribe(this.subscribedTokens,I)},openChart(t){let e=t.tradingsymbol,s=t.exchange,i=this.instrumentManager.get(e,null,s);i&&this.openInAppChart(i.instrumentToken,i.segment,i.tradingsymbol)},showMarketDepthWidget(t){let e=null;t&&(e=this.instrumentManager.get(t.tradingsymbol,null,t.exchange)),e?this.$events.emit(l["c"].EVENTS.showMarketDepthWidget,{instrument:e}):this.$events.emit(l["c"].EVENTS.showMarketDepthWidget)},showContextMenu(t,e,s){s=s||"uid",this.$set(this.contextMenu,e,t[s])},hideContextMenu(t,e){this.$set(this.contextMenu,e,null)},gttTypeLabelClass(t){return{indigo:t===o["b"].GTT.typeSingle,amber:t===o["b"].GTT.typeTwoLeg}},gttStatusLabelClass(t){return{red:t===o["b"].GTT.statusExpired,amber:t===o["b"].GTT.statusDisabled,green:t===o["b"].GTT.statusActive,blue:t===o["b"].GTT.statusTriggered}},showGTTInfoModal(t){this.$events.emit(o["b"].EVENTS.GTT_INFO,t)},showGTTModifyModal(t){this.$events.emit(o["b"].EVENTS.GTT_MODIFY,t)},showGTTDeleteModal(t){this.$events.emit(o["b"].EVENTS.GTT_DELETE,t)},enableTrigger(t){let e="Enable";this.$events.emit(o["b"].EVENTS.GTT_MODIFY,A({},t,{actionText:e}))},createGTT(t){let e=[];for(let s of t.orders)e.push({product:s.product,orderType:s.order_type,quantity:s.quantity,price:s.price||""});this.$events.emit(o["b"].EVENTS.GTT_PLACE,{type:t.type,condition:{tradingsymbol:t.condition.tradingsymbol,exchange:t.condition.exchange,triggerValues:t.condition.trigger_values},orders:e})},isEquity(t){return this.instrumentManager.IsEquity(t)},calculateAwayPercent(t,e){return 100*(t/e-1)}})},j=N,F=Object(_["a"])(j,i,n,!1,null,null,null);e["default"]=F.exports},"99cd":function(t,e){function s(t){return function(e,s,i){var n=-1,r=Object(e),a=i(e),o=a.length;while(o--){var l=a[t?o:++n];if(!1===s(r[l],l,r))break}return e}}t.exports=s},a029a:function(t,e,s){"use strict";var i=s("ba6a"),n=s("5665");function r(t){return i["a"].get(Object(n["a"])("connect.connectedApps.all"))}function a(t){return i["a"].delete(Object(n["a"])("connect.revokeAppAccess",{apiKey:t}))}function o(t){return i["a"].get(Object(n["a"])("connect.app.session"),{params:t})}function l(t){return i["a"].post(Object(n["a"])("connect.app.authorize"),t)}function c(t){return i["a"].post(Object(n["a"])("connect.basket.orders.place",{variety:t.variety}),t)}e["a"]={getConnectedApps:r,revokeAppAccess:a,getAppSession:o,authorizeApp:l,placeOrder:c}},ad1c:function(t,e,s){"use strict";s.d(e,"a",function(){return n});var i=s("d1de");class n{}n.namespace=i["b"],n.install=function(t,e){e.store&&e.store.registerModule(i["b"],i["a"])}},c641:function(t,e,s){t.exports=s("6cd4")},c6e1:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"margins"},[s("div",{staticClass:"fund-buttons text-right"},[s("span",{staticClass:"upi-info"},[t._v("Instant, zero-cost fund transfers with "),s("img",{attrs:{src:t.getStatic("images/UPI.svg")}})]),t._v(" "),s("su-button",{staticClass:"button-green",nativeOn:{click:function(e){return t.openPayin(e)}}},[t._v("Add funds")]),t._v(" "),s("a",{staticClass:"button button-blue",attrs:{rel:"noopener noreferrer",target:"_blank",href:t.consoleURL+"/funds/overview/"}},[t._v("Withdraw")])],1),t._v(" "),t.isMarginsFetchError&&!t.margins?s("error-state",{attrs:{title:"Margins couldn't be loaded.",error:t.marginsError}}):s("div",{staticClass:"row"},t._l(t.margins,function(e,i){return t.margins?s("div",{key:i,staticClass:"six columns"},[s("h3",{staticClass:"title"},[s("span",{staticClass:"icon",class:{"icon-pie-chart":"equity"==i,"icon-droplet":"commodity"==i}}),t._v("\n\t\t\t\t"+t._s(i)+"\n\n\t\t\t\t"),t._v(" "),t.isMarginsFetchError?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"text-small error-fetch",attrs:{title:t.marginsError&&t.marginsError.message}},[s("span",{staticClass:"icon icon-alert-triangle"})]):t._e(),t._v(" "),t.isMarginsFetching?s("su-loader",{staticClass:"dim",attrs:{size:8}}):t._e(),t._v(" "),s("span",{staticClass:"view-statements"},[s("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:t.consoleURL+"/funds/statement"}},[s("span",{staticClass:"icon icon-console"}),t._v("View Statements")])])],1),t._v(" "),e.enabled?s("div",{staticClass:"data-table"},[s("table",{staticClass:"table"},[s("tbody",[s("tr",[s("td",[t._v("Margin available")]),t._v(" "),s("td",[s("h1",{staticClass:"value",class:{"text-red":e.net<0,"text-blue":e.net>0}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("inrFormat")(e.net,2)||0))])])]),t._v(" "),s("tr",[s("td",[t._v("Margin used")]),t._v(" "),s("td",[s("h1",[t._v(t._s(t._f("inrFormat")(e.utilised.debits,2)||0))])])]),t._v(" "),s("tr",[s("td",[t._v("Available cash")]),t._v(" "),s("td",[s("h1",[t._v(t._s(t._f("inrFormat")(e.available.live_balance,2)||0))])])]),t._v(" "),s("tr",[s("td",[t._v("Opening balance")]),t._v(" "),s("td",[t._v(t._s(t._f("inrFormat")(e.available.opening_balance,2)||0))])]),t._v(" "),s("tr",[s("td",[t._v("Payin")]),t._v(" "),s("td",[t._v(t._s(t._f("inrFormat")(e.available.intraday_payin,2)||0))])]),t._v(" "),s("tr",[s("td",[t._v("SPAN")]),t._v(" "),s("td",[t._v(t._s(t._f("inrFormat")(e.utilised.span,2)||0))])]),t._v(" "),s("tr",[s("td",[t._v("Realised profit")]),t._v(" "),s("td",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("inrFormat")(e.utilised.m2m_realised,2)||0)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),s("tr",[s("td",[t._v("Unrealised profit")]),t._v(" "),s("td",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("inrFormat")(e.utilised.m2m_unrealised,2)||0)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),s("tr",[s("td",[t._v("Adhoc margin")]),t._v(" "),s("td",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("inrFormat")(e.available.adhoc_margin,2)||0)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),s("tr",[s("td",[t._v("Exposure")]),t._v(" "),s("td",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("inrFormat")(e.utilised.exposure,2)||0)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),s("tr",[s("td",[t._v("Options premium")]),t._v(" "),s("td",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("inrFormat")(e.utilised.option_premium,2)||0)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),s("tr",{staticClass:"seperator"},[s("td",[t._v("Liquidbees collateral")]),t._v(" "),s("td",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("inrFormat")(e.utilised.liquid_collateral,2)||0)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),s("tr",[s("td",[t._v("Stock collateral")]),t._v(" "),s("td",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("inrFormat")(e.utilised.stock_collateral,2)||0)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),s("tr",[s("td",[t._v("Total collateral")]),t._v(" "),s("td",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("inrFormat")(e.available.collateral,2)||0)+"\n\t\t\t\t\t\t\t")])])])])]):t._e(),t._v(" "),e.enabled?t._e():s("empty-state",{attrs:{image:t.getStatic("images/illustrations/positions.svg")}},[s("div",{attrs:{slot:"message"},slot:"message"},[s("p",[t._v("You don't have "+t._s("equity"===i?"an":"a")+" "+t._s(i)+" account")])]),t._v(" "),s("a",{staticClass:"button button-blue",attrs:{slot:"action",rel:"noopener noreferrer",target:"_blank",href:t.getOpenAccountLink()},slot:"action"},[t._v("Open account")])])],1):t._e()}),0)],1)},n=[],r=s("2f62"),a=s("5fb0"),o=s("9c9e"),l=s("5052");function c(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?c(s,!0).forEach(function(e){h(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):c(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function h(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const d=l["b"];var p={mixins:[o["a"]],props:{},data(){return{consoleURL:"https://console.zerodha.com",payinTimer:null}},created(){this.fetchMargins(),this.preProcess(),this.$events.on("refetchData:"+l["b"],this.fetchMargins)},beforeDestroy(){this.postProcess(),this.$events.off("refetchData:"+l["b"],this.fetchMargins)},activated(){this.preProcess()},deactivated(){this.postProcess()},computed:u({},Object(r["c"])(d,["margins","marginsFetchStatus","marginsError"]),{isMarginsFetching(){return this.marginsFetchStatus===a["a"].fetching},isMarginsFetchError(){return this.marginsFetchStatus===a["a"].error}}),methods:u({},Object(r["b"])(d,["fetchMargins"]),{preProcess(){},postProcess(){this.payinTimer&&window.clearInterval(this.payinTimer)},getOpenAccountLink(){return"https://zerodha.com/open-account?c={partnerID}&utm_source=kite&utm_medium=web&utm_campaign=account"},openPayin(){var t=900;let e=700,s=window.screen.width?(window.screen.width-t)/2:100,i=window.screen.height?(window.screen.height-e)/2:100,n="width="+t+",height="+e+",top="+i+",left="+s;n+=",scrollbars=yes,location=no,directories=no,status=no,menubar=no,toolbar=no,resizable=no";let r=window.open("https://cashier.zerodha.net/login","payin",n);this.payinTimer&&window.clearInterval(this.payinTimer),this.payinTimer=window.setInterval(()=>{!1!==r.closed&&(window.clearInterval(this.payinTimer),this.fetchMargins())},200)}})},g=p,f=s("2877"),v=Object(f["a"])(g,i,n,!1,null,null,null);e["default"]=v.exports},d091:function(t,e,s){},d4ff:function(t,e,s){"use strict";var i=s("a026"),n=s("ba6a"),r=s("5665");function a(){return n["a"].get(Object(r["a"])("portfolio.holdings.all"))}function o(t){return n["a"].get(Object(r["a"])("portfolio.holdings.app",{appName:t}))}var l={getHoldings:a,getAppHoldings:o},c=s("5fb0"),u=s("025e"),h=s("b202");s.d(e,"b",function(){return p});let d=!0;const p="holdings",g={holdings:null,holdingsError:null,appHoldings:{},appHoldingsError:{},holdingsType:Object(h["b"])(p,"holdingsType")||"all",holdingsFetchStatus:c["a"].initial,appHoldingsFetchStatus:{}},f={holdingsType:t=>t.holdingsType,holdings:t=>t.holdings,holdingsError:t=>t.holdingsError,appHoldings:t=>t.appHoldings,appHoldingsError:t=>t.appHoldingsError,holdingsFetchStatus:t=>t.holdingsFetchStatus,appHoldingsFetchStatus:t=>t.appHoldingsFetchStatus,presentHoldings:t=>{return"all"===t.holdingsType?{type:t.holdingsType,data:t.holdings,status:t.holdingsFetchStatus,error:t.holdingsError}:{type:t.holdingsType,data:t.appHoldings[t.holdingsType],status:t.appHoldingsFetchStatus[t.holdingsType],error:t.appHoldingsError[t.holdingsType]}}},v={setHoldings(t,e){t.holdings=e},setHoldingsError(t,e){t.holdingsError=e},setAppHoldings(t,e){let s=e.type,n=e.holdings;i["a"].set(t.appHoldings,s,n||[])},setAppHoldingsError(t,e){let s=e.type,n=e.data;i["a"].set(t.appHoldingsError,s,n)},setHoldingsType(t,e){t.holdingsType=e,Object(h["d"])(p,"holdingsType",e)},setHoldingsFetchStatus(t,e){t.holdingsFetchStatus=e},setAppHoldingsFetchStatus(t,e){let s=e.type,n=e.status;i["a"].set(t.appHoldingsFetchStatus,s,n)}},m={fetchHoldings(t){let e=t.commit;t.state;e("setHoldingsFetchStatus",c["a"].fetching);let s=l.getHoldings();Object(u["f"])({commit:e,apiPromise:s,data:"setHoldings",error:"setHoldingsError",status:"setHoldingsFetchStatus"})},fetchAppHoldings(t,e){let s=t.commit;t.state;s("setAppHoldingsFetchStatus",{type:e,status:c["a"].fetching}),l.getAppHoldings(e).then(t=>{t&&t.data&&s("setAppHoldings",{type:e,holdings:t.data.data}),s("setAppHoldingsFetchStatus",{type:e,status:c["a"].success})}).catch(t=>{s("setAppHoldingsFetchStatus",{type:e,status:c["a"].error}),s("setAppHoldingsError",{type:e,data:Object(u["g"])(t)})})}};e["a"]={state:g,getters:f,mutations:v,actions:m,namespaced:d}},d627:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"profile"},[!t.isProfileFetchFailed||t.profile?s("h3",{staticClass:"page-title small"},[t._v("\n\t\tProfile\n\n\t\t"),t._v(" "),t.isProfileFetching?s("su-loader",{staticClass:"dim",attrs:{size:8}}):t._e(),t._v(" "),t.isProfileFetchFailed?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"text-small error-fetch",attrs:{title:t.profileError&&t.profileError.message}},[s("span",{staticClass:"icon icon-alert-triangle"})]):t._e(),t._v(" "),s("a",{staticClass:"edit-profile-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.gotoToPasswordEdit(e)}}},[t._v("Password & Security")])],1):t._e(),t._v(" "),t.isProfileFetchFailed&&!t.profile?s("error-state",{attrs:{title:"Profile couldn't be loaded.",error:t.profileError}}):t._e(),t._v(" "),t.profile?s("div",{staticClass:"header-details row"},[s("div",{staticClass:"two columns"},[s("div",{staticClass:"avatar-wrap"},[s("su-avatar",{attrs:{username:t.profile.user_name,src:t.avatar,size:100}}),t._v(" "),t.isMobile?t._e():s("context-menu",[s("div",{staticClass:"context-menu-button",attrs:{slot:"button"},slot:"button"},[s("a",{attrs:{href:"#"}},[t._v("Change photo")])]),t._v(" "),s("template",{slot:"menu"},[s("li",[s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.uploadAvatar(e)}}},[t._v("Upload")])]),t._v(" "),t.avatar?s("li",[s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.removeAvatar(e)}}},[t._v("Remove")])]):t._e()])],2),t._v(" "),t.isMobile?s("div",{staticClass:"update-avatar"},[s("a",{staticClass:"context-menu-button",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showContextMenu(e)}}},[t._v("Edit photo")]),t._v(" "),t.contextMenu?s("mobile-context-menu",{on:{close:t.hideContextMenu}},[s("template",{slot:"menu"},[s("li",[s("a",{attrs:{href:"#"},on:{click:function(e){return t.uploadAvatar()}}},[t._v("Upload")])]),t._v(" "),t.avatar?s("li",[s("a",{attrs:{href:"#"},on:{click:function(e){return t.removeAvatar()}}},[t._v("Remove")])]):t._e()])],2):t._e()],1):t._e()],1),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.showAvatarUpload?s("vue-image-crop-upload",{attrs:{field:"files","lang-type":"en",width:120,height:120,url:"/api/user/avatar","img-format":"jpg/png"},on:{"crop-success":t.avatarCropSuccess,"crop-upload-success":t.avatarUploadSuccess,"crop-upload-fail":t.avatarUploadFail},model:{value:t.showAvatarUpload,callback:function(e){t.showAvatarUpload=e},expression:"showAvatarUpload"}}):t._e()],1)],1),t._v(" "),s("div",{staticClass:"ten columns"},[s("h2",{staticClass:"full-name"},[t._v(t._s(t.profile.user_name))]),t._v(" "),t.profile.login_time?s("div",{staticClass:"last-login dim"},[s("label",{staticClass:"label"},[t._v("Last login:")]),t._v(" "+t._s(t.lastLoginDate(t.profile.login_time)))]):t._e()])]):t._e(),t._v(" "),t.profile?s("section",[s("h3",{staticClass:"page-title small"},[t._v("\n\t\t\tPersonal\n\n\t\t\t"),s("span",{staticClass:"edit-profile-block"},[s("img",{attrs:{src:t.getStatic("/images/console.svg")}}),t._v(" "),s("a",{attrs:{target:"_blank",href:t.consoleURL+"/profile"}},[t._v("\n\t\t\t\t\tEdit profile\n\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"six columns"},[s("label",{staticClass:"label"},[t._v("E-mail")]),t._v(" "),s("span",{staticClass:"value"},[t._v(t._s(t.profile.email.toLowerCase()))])]),t._v(" "),s("div",{staticClass:"six columns"},[s("label",{staticClass:"label"},[t._v("PAN")]),t._v(" "),t.profile.pan?s("span",{staticClass:"value"},[t._v("*"+t._s(t.profile.pan))]):s("span",{staticClass:"value"},[t._v("—")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"six columns"},[s("label",{staticClass:"label"},[t._v("Phone")]),t._v(" "),s("span",{staticClass:"value"},[t._v(t._s(t.profile.phone))])]),t._v(" "),s("div",{staticClass:"six columns"},[s("label",{staticClass:"label"},[t._v("DP IDs")]),t._v(" "),t.profile.dp_ids?s("span",{staticClass:"value dp-ids-list"},t._l(t.profile.dp_ids,function(e,i){return s("span",{key:i,staticClass:"value"},[t._v("\n\t\t\t\t\t\t*"+t._s(e)+"\n\t\t\t\t\t")])}),0):s("span",{staticClass:"value"},[t._v("—")])])])]):t._e(),t._v(" "),t.profile?s("section",[s("h3",{staticClass:"page-title small"},[t._v("Account")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"tweleve columns"},[s("label",{staticClass:"label"},[t._v("Segments")]),t._v(" "),t.profile.exchanges?s("span",{staticClass:"value"},[t._v(t._s(t.profile.exchanges.join(", ")))]):s("span",{staticClass:"value"},[t._v("—")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"tweleve columns"},[s("label",{staticClass:"label"},[t._v("Products")]),t._v(" "),t.profile.products?s("span",{staticClass:"value"},[t._v(t._s(t.profile.products.join(", ")))]):s("span",{staticClass:"value"},[t._v("—")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"tweleve columns"},[s("label",{staticClass:"label"},[t._v("Order types")]),t._v(" "),t.profile.order_types?s("span",{staticClass:"value"},[t._v(t._s(t.profile.order_types.join(", ")))]):s("span",{staticClass:"value"},[t._v("—")])])])]):t._e(),t._v(" "),t.profile?s("section",{staticClass:"bank-details"},[s("h3",{staticClass:"page-title small"},[t._v("Bank accounts")]),t._v(" "),t._l(t.profile.bank_accounts,function(e,i){return s("div",{key:i,staticClass:"row"},[s("div",{staticClass:"four columns"},[s("label",{staticClass:"label"},[t._v("Account")]),t._v(" "),s("span",{staticClass:"value"},[t._v("*"+t._s(e.account))])]),t._v(" "),s("div",{staticClass:"eight columns"},[s("label",{staticClass:"label"},[t._v("Bank")]),t._v(" "),s("span",{staticClass:"value"},[t._v(t._s(e.name)+" "),e.branch?[t._v("("+t._s(e.branch)+")")]:t._e()],2)])])})],2):t._e(),t._v(" "),s("section",{staticClass:"preferences"},[s("h3",{staticClass:"page-title small"},[t._v("Preferences")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"five columns"},[s("div",{staticClass:"order-update-toasts"},[s("span",[t._v("Instant order status updates")]),t._v(" "),s("su-switch",{attrs:{"state-on":"on","state-off":"off"},on:{change:function(e){return t.updatePreferenceAPI("order_update_web",t.orderNotificationsPref)}},model:{value:t.orderNotificationsPref,callback:function(e){t.orderNotificationsPref=e},expression:"orderNotificationsPref"}})],1)]),t._v(" "),s("div",{staticClass:"five columns"},[s("div",{staticClass:"chart-type-pref"},[s("span",[t._v("Chart")]),t._v(" "),s("su-radio-group",{staticClass:"row",on:{change:function(e){return t.updatePreferenceAPI("chart_type",t.chartPref)}},model:{value:t.chartPref,callback:function(e){t.chartPref=e},expression:"chartPref"}},[s("su-radio",{attrs:{name:"type",value:t.chartTypeChartiq,label:"ChartIQ"}}),t._v(" "),s("su-radio",{attrs:{name:"type",value:t.chartTypeTradingview,label:"TradingView"}})],1)],1)])])]),t._v(" "),s("section",{staticClass:"active-sessions"},[s("h3",{staticClass:"page-title small"},[t._v("\n\t\t\tActive app sessions\n\t\t\t"),t.isAppSessionsFetching?s("su-loader",{staticClass:"dim",attrs:{size:8}}):t._e(),t._v(" "),t.appSessions&&t.appSessions.length>0?s("a",{staticClass:"edit-profile-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showClearSessionConfirm(e)}}},[t._v("Clear all app sesssions")]):t._e()],1),t._v(" "),t.appSessions&&t.appSessions.length>0?s("ul",t._l(t.appSessions,function(e,i){return s("li",{key:i,staticClass:"row"},[t._v("\n\t\t\t\t"+t._s(e.name)+"\n\t\t\t")])}),0):t._e(),t._v(" "),t.appSessions&&0==t.appSessions.length?s("div",[t._v("\n\t\t\tNo active appp sessions\n\t\t")]):t._e()]),t._v(" "),t.showRemoveAvatarConfirm?s("modal",{directives:[{name:"on-escape",rawName:"v-on-escape",value:t.hideRemoveAvatarConfirm,expression:"hideRemoveAvatarConfirm"}],staticClass:"remove-avatar-confirm",on:{close:t.hideRemoveAvatarConfirm}},[s("h2",{attrs:{slot:"header"},slot:"header"},[t._v("Remove avatar")]),t._v(" "),s("div",{attrs:{slot:"body"},slot:"body"},[s("span",[t._v("Are you sure you want to remove your avatar?")])]),t._v(" "),s("div",{staticClass:"actions",attrs:{slot:"footer"},slot:"footer"},[s("su-button",{staticClass:"button-blue",attrs:{processing:t.removeAvatarInProgress},nativeOn:{click:function(e){return t.apiRemoveAvatar(e)}}},[s("span",[t._v("Remove")])]),t._v(" "),s("su-button",{staticClass:"button-outline",nativeOn:{click:function(e){return t.hideRemoveAvatarConfirm(e)}}},[s("span",[t._v("Cancel")])])],1)]):t._e(),t._v(" "),t.clearSessionConfirm?s("modal",{directives:[{name:"on-escape",rawName:"v-on-escape",value:t.hideClearSessionConfirm,expression:"hideClearSessionConfirm"}],staticClass:"clear-session-confirm",on:{close:t.hideClearSessionConfirm}},[s("h2",{attrs:{slot:"header"},slot:"header"},[t._v("Clear all session?")]),t._v(" "),s("div",{attrs:{slot:"body"},slot:"body"},[s("span",[t._v("Are you sure you want to clear all your sessions? This will logout from here and other active sessions across apps.")])]),t._v(" "),s("div",{staticClass:"actions",attrs:{slot:"footer"},slot:"footer"},[s("su-button",{staticClass:"button-blue",attrs:{processing:t.clearSessionInProgress},nativeOn:{click:function(e){return t.apiClearAppSessions(e)}}},[s("span",[t._v("Ok")])]),t._v(" "),s("su-button",{staticClass:"button-outline",nativeOn:{click:function(e){return t.hideClearSessionConfirm(e)}}},[s("span",[t._v("Cancel")])])],1)]):t._e()],1)},n=[],r=s("2f62"),a=s("598f"),o=s("d1de"),l=s("5665"),c=s("5fb0"),u=s("9285"),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"vue-image-crop-upload"},[s("div",{staticClass:"vicp-wrap"},[s("div",{staticClass:"vicp-close",on:{click:t.off}},[s("i",{staticClass:"vicp-icon4"})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.step,expression:"step == 1"}],staticClass:"vicp-step1"},[s("div",{staticClass:"vicp-drop-area",on:{dragleave:t.preventDefault,dragover:t.preventDefault,dragenter:t.preventDefault,click:t.handleClick,drop:t.handleChange}},[s("i",{directives:[{name:"show",rawName:"v-show",value:1!=t.loading,expression:"loading != 1"}],staticClass:"vicp-icon1"},[s("i",{staticClass:"vicp-icon1-arrow"}),t._v(" "),s("i",{staticClass:"vicp-icon1-body"}),t._v(" "),s("i",{staticClass:"vicp-icon1-bottom"})]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:1!==t.loading,expression:"loading !== 1"}],staticClass:"vicp-hint"},[t._v(t._s(t.lang.hint))]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.isSupported,expression:"!isSupported"}],staticClass:"vicp-no-supported-hint"},[t._v(t._s(t.lang.noSupported))]),t._v(" "),1==t.step?s("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"fileinput",attrs:{type:"file"},on:{change:t.handleChange}}):t._e()]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.hasError,expression:"hasError"}],staticClass:"vicp-error"},[s("i",{staticClass:"vicp-icon2"}),t._v(" "+t._s(t.errorMsg)+"\r\n\t\t\t")]),t._v(" "),s("div",{staticClass:"vicp-operate"},[s("a",{on:{click:t.off,mousedown:t.ripple}},[t._v(t._s(t.lang.btn.off))])])]),t._v(" "),2==t.step?s("div",{staticClass:"vicp-step2"},[s("div",{staticClass:"vicp-crop"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-left"},[s("div",{staticClass:"vicp-img-container"},[s("img",{ref:"img",staticClass:"vicp-img",style:t.sourceImgStyle,attrs:{src:t.sourceImgUrl,draggable:"false"},on:{drag:t.preventDefault,dragstart:t.preventDefault,dragend:t.preventDefault,dragleave:t.preventDefault,dragover:t.preventDefault,dragenter:t.preventDefault,drop:t.preventDefault,touchstart:t.imgStartMove,touchmove:t.imgMove,touchend:t.createImg,touchcancel:t.createImg,mousedown:t.imgStartMove,mousemove:t.imgMove,mouseup:t.createImg,mouseout:t.createImg}}),t._v(" "),s("div",{staticClass:"vicp-img-shade vicp-img-shade-1",style:t.sourceImgShadeStyle}),t._v(" "),s("div",{staticClass:"vicp-img-shade vicp-img-shade-2",style:t.sourceImgShadeStyle})]),t._v(" "),s("div",{staticClass:"vicp-range"},[s("input",{attrs:{type:"range",step:"1",min:"0",max:"100"},domProps:{value:t.scale.range},on:{mousemove:t.zoomChange}}),t._v(" "),s("i",{staticClass:"vicp-icon5",on:{mousedown:t.startZoomSub,mouseout:t.endZoomSub,mouseup:t.endZoomSub}}),t._v(" "),s("i",{staticClass:"vicp-icon6",on:{mousedown:t.startZoomAdd,mouseout:t.endZoomAdd,mouseup:t.endZoomAdd}})]),t._v(" "),t.noRotate?t._e():s("div",{staticClass:"vicp-rotate"},[s("i",{on:{click:t.rotateImg}},[t._v("↻")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-right"},[s("div",{staticClass:"vicp-preview"},[t.noSquare?t._e():s("div",{staticClass:"vicp-preview-item"},[s("img",{style:t.previewStyle,attrs:{src:t.createImgUrl}}),t._v(" "),s("span",[t._v(t._s(t.lang.preview))])]),t._v(" "),t.noCircle?t._e():s("div",{staticClass:"vicp-preview-item vicp-preview-item-circle"},[s("img",{style:t.previewStyle,attrs:{src:t.createImgUrl}}),t._v(" "),s("span",[t._v(t._s(t.lang.preview))])])])])]),t._v(" "),s("div",{staticClass:"vicp-operate"},[s("a",{on:{click:function(e){return t.setStep(1)},mousedown:t.ripple}},[t._v(t._s(t.lang.btn.back))]),t._v(" "),s("a",{staticClass:"vicp-operate-btn",on:{click:t.prepareUpload,mousedown:t.ripple}},[t._v(t._s(t.lang.btn.save))])])]):t._e(),t._v(" "),3==t.step?s("div",{staticClass:"vicp-step3"},[s("div",{staticClass:"vicp-upload"},[s("span",{directives:[{name:"show",rawName:"v-show",value:1===t.loading,expression:"loading === 1"}],staticClass:"vicp-loading"},[t._v(t._s(t.lang.loading))]),t._v(" "),s("div",{staticClass:"vicp-progress-wrap"},[s("span",{directives:[{name:"show",rawName:"v-show",value:1===t.loading,expression:"loading === 1"}],staticClass:"vicp-progress",style:t.progressStyle})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.hasError,expression:"hasError"}],staticClass:"vicp-error"},[s("i",{staticClass:"vicp-icon2"}),t._v(" "+t._s(t.errorMsg)+"\r\n\t\t\t\t")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2===t.loading,expression:"loading === 2"}],staticClass:"vicp-success"},[s("i",{staticClass:"vicp-icon3"}),t._v(" "+t._s(t.lang.success)+"\r\n\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"vicp-operate"},[s("a",{on:{click:function(e){return t.setStep(2)},mousedown:t.ripple}},[t._v(t._s(t.lang.btn.back))]),t._v(" "),s("a",{on:{click:t.off,mousedown:t.ripple}},[t._v(t._s(t.lang.btn.close))])])]):t._e(),t._v(" "),s("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"canvas",attrs:{width:t.width,height:t.height}})])])},d=[],p={zh:{hint:"点击，或拖动图片至此处",loading:"正在上传……",noSupported:"浏览器不支持该功能，请使用IE10以上或其他现在浏览器！",success:"上传成功",fail:"图片上传失败",preview:"头像预览",btn:{off:"取消",close:"关闭",back:"上一步",save:"保存"},error:{onlyImg:"仅限图片格式",outOfSize:"单文件大小不能超过 ",lowestPx:"图片最低像素为（宽*高）："}},"zh-tw":{hint:"點擊，或拖動圖片至此處",loading:"正在上傳……",noSupported:"瀏覽器不支持該功能，請使用IE10以上或其他現代瀏覽器！",success:"上傳成功",fail:"圖片上傳失敗",preview:"頭像預覽",btn:{off:"取消",close:"關閉",back:"上一步",save:"保存"},error:{onlyImg:"僅限圖片格式",outOfSize:"單文件大小不能超過 ",lowestPx:"圖片最低像素為（寬*高）："}},en:{hint:"Click or drag the file here to upload",loading:"Uploading…",noSupported:"Browser is not supported, please use IE10+ or other browsers",success:"Upload success",fail:"Upload failed",preview:"Preview",btn:{off:"Cancel",close:"Close",back:"Back",save:"Save"},error:{onlyImg:"Image only",outOfSize:"Image exceeds size limit: ",lowestPx:"Image's size is too low. Expected at least: "}},ro:{hint:"Atinge sau trage fișierul aici",loading:"Se încarcă",noSupported:"Browser-ul tău nu suportă acest feature. Te rugăm încearcă cu alt browser.",success:"S-a încărcat cu succes",fail:"A apărut o problemă la încărcare",preview:"Previzualizează",btn:{off:"Anulează",close:"Închide",back:"Înapoi",save:"Salvează"},error:{onlyImg:"Doar imagini",outOfSize:"Imaginea depășește limita de: ",loewstPx:"Imaginea este prea mică; Minim: "}},ru:{hint:"Нажмите, или перетащите файл в это окно",loading:"Загружаю……",noSupported:"Ваш браузер не поддерживается, пожалуйста, используйте IE10 + или другие браузеры",success:"Загрузка выполнена успешно",fail:"Ошибка загрузки",preview:"Предпросмотр",btn:{off:"Отменить",close:"Закрыть",back:"Назад",save:"Сохранить"},error:{onlyImg:"Только изображения",outOfSize:"Изображение превышает предельный размер: ",lowestPx:"Минимальный размер изображения: "}},"pt-br":{hint:"Clique ou arraste o arquivo aqui para carregar",loading:"Carregando…",noSupported:"Browser não suportado, use o IE10+ ou outro browser",success:"Sucesso ao carregar imagem",fail:"Falha ao carregar imagem",preview:"Pré-visualizar",btn:{off:"Cancelar",close:"Fechar",back:"Voltar",save:"Salvar"},error:{onlyImg:"Apenas imagens",outOfSize:"A imagem excede o limite de tamanho: ",lowestPx:"O tamanho da imagem é muito pequeno. Tamanho mínimo: "}},fr:{hint:"Cliquez ou glissez le fichier ici.",loading:"Téléchargement…",noSupported:"Votre navigateur n'est pas supporté. Utilisez IE10 + ou un autre navigateur s'il vous plaît.",success:"Téléchargement réussit",fail:"Téléchargement echoué",preview:"Aperçu",btn:{off:"Annuler",close:"Fermer",back:"Retour",save:"Enregistrer"},error:{onlyImg:"Image uniquement",outOfSize:"L'image sélectionnée dépasse la taille maximum: ",lowestPx:"L'image sélectionnée est trop petite. Dimensions attendues: "}},nl:{hint:"Klik hier of sleep een afbeelding in dit vlak",loading:"Uploaden…",noSupported:"Je browser wordt helaas niet ondersteund. Gebruik IE10+ of een andere browser.",success:"Upload succesvol",fail:"Upload mislukt",preview:"Voorbeeld",btn:{off:"Annuleren",close:"Sluiten",back:"Terug",save:"Opslaan"},error:{onlyImg:"Alleen afbeeldingen",outOfSize:"De afbeelding is groter dan: ",lowestPx:"De afbeelding is te klein! Minimale afmetingen: "}},tr:{hint:"Tıkla veya yüklemek istediğini buraya sürükle",loading:"Yükleniyor…",noSupported:"Tarayıcı desteklenmiyor, lütfen IE10+ veya farklı tarayıcı kullanın",success:"Yükleme başarılı",fail:"Yüklemede hata oluştu",preview:"Önizle",btn:{off:"İptal",close:"Kapat",back:"Geri",save:"Kaydet"},error:{onlyImg:"Sadece resim",outOfSize:"Resim yükleme limitini aşıyor: ",lowestPx:"Resmin boyutu çok küçük. En az olması gereken: "}},"es-MX":{hint:"Selecciona o arrastra una imagen",loading:"Subiendo...",noSupported:"Tu navegador no es soportado, por favor usa IE10+ u otros navegadores más recientes",success:"Subido exitosamente",fail:"Sucedió un error",preview:"Vista previa",btn:{off:"Cancelar",close:"Cerrar",back:"Atrás",save:"Guardar"},error:{onlyImg:"Únicamente imágenes",outOfSize:"La imagen excede el tamaño maximo:",lowestPx:"La imagen es demasiado pequeña. Se espera por lo menos:"}},de:{hint:"Klick hier oder zieh eine Datei hier rein zum Hochladen",loading:"Hochladen…",noSupported:"Browser wird nicht unterstützt, bitte verwende IE10+ oder andere Browser",success:"Upload erfolgreich",fail:"Upload fehlgeschlagen",preview:"Vorschau",btn:{off:"Abbrechen",close:"Schließen",back:"Zurück",save:"Speichern"},error:{onlyImg:"Nur Bilder",outOfSize:"Das Bild ist zu groß: ",lowestPx:"Das Bild ist zu klein. Mindestens: "}},ja:{hint:"クリック・ドラッグしてファイルをアップロード",loading:"アップロード中...",noSupported:"このブラウザは対応されていません。IE10+かその他の主要ブラウザをお使いください。",success:"アップロード成功",fail:"アップロード失敗",preview:"プレビュー",btn:{off:"キャンセル",close:"閉じる",back:"戻る",save:"保存"},error:{onlyImg:"画像のみ",outOfSize:"画像サイズが上限を超えています。上限: ",lowestPx:"画像が小さすぎます。最小サイズ: "}},ua:{hint:"Натисніть, або перетягніть файл в це вікно",loading:"Завантажую……",noSupported:"Ваш браузер не підтримується, будь ласка скористайтесь IE10 + або іншими браузерами",success:"Завантаження виконано успішно",fail:"Помилка завантаження",preview:"Попередній перегляд",btn:{off:"Відмінити",close:"Закрити",back:"Назад",save:"Зберегти"},error:{onlyImg:"Тільки зображення",outOfSize:"Зображення перевищує граничний розмір: ",lowestPx:"Мінімальний розмір зображення: "}},it:{hint:"Clicca o trascina qui il file per caricarlo",loading:"Caricamento del file…",noSupported:"Browser non supportato, per favore usa IE10+ o un altro browser",success:"Caricamento completato",fail:"Caricamento fallito",preview:"Anteprima",btn:{off:"Annulla",close:"Chiudi",back:"Indietro",save:"Salva"},error:{onlyImg:"Sono accettate solo immagini",outOfSize:"L'immagine eccede i limiti di dimensione: ",lowestPx:"L'immagine è troppo piccola. Il requisito minimo è: "}},ar:{hint:"اضغط أو اسحب الملف هنا للتحميل",loading:"جاري التحميل...",noSupported:"المتصفح غير مدعوم ، يرجى استخدام IE10 + أو متصفح أخر",success:"تم التحميل بنجاح",fail:"فشل التحميل",preview:"معاينه",btn:{off:"إلغاء",close:"إغلاق",back:"رجوع",save:"حفظ"},error:{onlyImg:"صور فقط",outOfSize:"تتجاوز الصوره الحجم المحدد: ",lowestPx:"حجم الصورة صغير جدا. من المتوقع على الأقل: "}},ug:{hint:"مەزكۇر دائىرىنى چىكىپ رەسىم تاللاڭ ياكى رەسىمنى سۆرەپ ئەكىرىڭ",loading:"يوللىنىۋاتىدۇ...",noSupported:"تور كۆرگۈچ بۇ ئىقتىدارنى قوللىمايدۇ ، يۇقىرى نەشىردىكى تور كۆرگۈچنى ئىشلىتىڭ",success:"غەلبىلىك بولدى",fail:"مەغلۇب بولدى",preview:"ئۈنۈم رەسىم",btn:{off:"بولدى قىلىش",close:"تاقاش",back:"ئالدىنقى قەدەم",save:"ساقلاش"},error:{onlyImg:"پەقەت رەسىم فورماتىنىلا قوللايدۇ",outOfSize:"رەسىم چوڭ - كىچىكلىكى چەكتىن ئىشىپ كەتتى",lowestPx:"رەسىمنىڭ ئەڭ كىچىك ئۆلچىمى :"}},th:{hint:"คลิ๊กหรือลากรูปมาที่นี่",loading:"กำลังอัพโหลด…",noSupported:"เบราเซอร์ไม่รองรับ, กรุณาใช้ IE เวอร์ชั่น 10 ขึ้นไป หรือใช้เบราเซอร์ตัวอื่น",success:"อัพโหลดสำเร็จ",fail:"อัพโหลดล้มเหลว",preview:"ตัวอย่าง",btn:{off:"ยกเลิก",close:"ปิด",back:"กลับ",save:"บันทึก"},error:{onlyImg:"ไฟล์ภาพเท่านั้น",outOfSize:"ไฟล์ใหญ่เกินกำหนด: ",lowestPx:"ไฟล์เล็กเกินไป. อย่างน้อยต้องมีขนาด: "}},mm:{hint:"ဖိုင်ကို ဤနေရာတွင် နှိပ်၍ (သို့) ဆွဲထည့်၍ တင်ပါ",loading:"တင်နေသည်…",noSupported:"ဤဘရောက်ဇာကို အထောက်အပံ့ မပေးပါ၊ ကျေးဇူးပြု၍ IE10+ သို့မဟုတ် အခြား ဘရောက်ဇာ ကို အသုံးပြုပါ",success:"ဖိုင်တင်နေမှု မပြီးမြောက်ပါ",fail:"ဖိုင်တင်နေမှု မအောင်မြင်ပါ",preview:"အစမ်းကြည့်",btn:{off:"မလုပ်တော့ပါ",close:"ပိတ်မည်",back:"နောက်သို့",save:"သိမ်းမည်"},error:{onlyImg:"ဓာတ်ပုံ သီးသန့်သာ",outOfSize:"ဓာတ်ပုံဆိုဒ် ကြီးလွန်းသည် ။ အများဆုံး ဆိုဒ် : ",lowestPx:"ဓာတ်ပုံဆိုဒ် သေးလွန်းသည်။ အနည်းဆုံး ဆိုဒ် : "}},se:{hint:"Klicka eller dra en fil hit för att ladda upp den",loading:"Laddar upp…",noSupported:"Din webbläsare stöds inte, vänligen använd IE10+ eller andra webbläsare",success:"Uppladdning lyckades",fail:"Uppladdning misslyckades",preview:"Förhandsgranska",btn:{off:"Avbryt",close:"Stäng",back:"Tillbaka",save:"Spara"},error:{onlyImg:"Endast bilder",outOfSize:"Bilden är större än max-gränsen: ",lowestPx:"Bilden är för liten. Minimum är: "}}},g={jpg:"image/jpeg",png:"image/png",gif:"image/gif",svg:"image/svg+xml",psd:"image/photoshop"},f=function(t,e){t=t.split(",")[1],t=window.atob(t);for(var s=new Uint8Array(t.length),i=0;i<t.length;i++)s[i]=t.charCodeAt(i);return new Blob([s],{type:e})},v=function(t,e){var s=Object.assign({ele:t.target,type:"hit",bgc:"rgba(0, 0, 0, 0.15)"},e),i=s.ele;if(i){var n=i.getBoundingClientRect(),r=i.querySelector(".e-ripple");switch(r?r.className="e-ripple":(r=document.createElement("span"),r.className="e-ripple",r.style.height=r.style.width=Math.max(n.width,n.height)+"px",i.appendChild(r)),s.type){case"center":r.style.top=n.height/2-r.offsetHeight/2+"px",r.style.left=n.width/2-r.offsetWidth/2+"px";break;default:r.style.top=t.pageY-n.top-r.offsetHeight/2-document.body.scrollTop+"px",r.style.left=t.pageX-n.left-r.offsetWidth/2-document.body.scrollLeft+"px"}return r.style.backgroundColor=s.bgc,r.className="e-ripple z-active",!1}},m={props:{field:{type:String,default:"avatar"},ki:{default:0},value:{default:!0},url:{type:String,default:""},params:{type:Object,default:null},headers:{type:Object,default:null},width:{type:Number,default:200},height:{type:Number,default:200},noRotate:{type:Boolean,default:!0},noCircle:{type:Boolean,default:!1},noSquare:{type:Boolean,default:!1},maxSize:{type:Number,default:10240},langType:{type:String,default:"zh"},langExt:{type:Object,default:null},imgFormat:{type:String,default:"png"},imgBgc:{type:String,default:"#fff"},withCredentials:{type:Boolean,default:!1},method:{type:String,default:"POST"}},data(){let t=this,e=t.imgFormat,s=t.langType,i=t.langExt,n=t.width,r=t.height,a=!0,o=["jpg","png"],l=-1===o.indexOf(e)?"jpg":e,c=p[s]?p[s]:p["en"],u=g[l];return t.imgFormat=l,i&&Object.assign(c,i),"function"!=typeof FormData&&(a=!1),{mime:u,lang:c,isSupported:a,isSupportTouch:document.hasOwnProperty("ontouchstart"),step:1,loading:0,progress:0,hasError:!1,errorMsg:"",ratio:n/r,sourceImg:null,sourceImgUrl:"",createImgUrl:"",sourceImgMouseDown:{on:!1,mX:0,mY:0,x:0,y:0},previewContainer:{width:100,height:100},sourceImgContainer:{width:240,height:184},scale:{zoomAddOn:!1,zoomSubOn:!1,range:1,x:0,y:0,width:0,height:0,maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,naturalWidth:0,naturalHeight:0}}},computed:{progressStyle(){let t=this.progress;return{width:t+"%"}},sourceImgStyle(){let t=this.scale,e=this.sourceImgMasking,s=t.y+e.y+"px",i=t.x+e.x+"px";return{top:s,left:i,width:t.width+"px",height:t.height+"px"}},sourceImgMasking(){let t=this.width,e=this.height,s=this.ratio,i=this.sourceImgContainer,n=i,r=n.width/n.height,a=0,o=0,l=n.width,c=n.height,u=1;return s<r&&(u=n.height/e,l=n.height*s,a=(n.width-l)/2),s>r&&(u=n.width/t,c=n.width/s,o=(n.height-c)/2),{scale:u,x:a,y:o,width:l,height:c}},sourceImgShadeStyle(){let t=this.sourceImgMasking,e=this.sourceImgContainer,s=e,i=t,n=i.width==s.width?i.width:(s.width-i.width)/2,r=i.height==s.height?i.height:(s.height-i.height)/2;return{width:n+"px",height:r+"px"}},previewStyle(){this.width,this.height;let t=this.ratio,e=this.previewContainer,s=e,i=s.width,n=s.height,r=i/n;return t<r&&(i=s.height*t),t>r&&(n=s.width/t),{width:i+"px",height:n+"px"}}},watch:{value(t){t&&1!=this.loading&&this.reset()}},methods:{ripple(t){v(t)},off(){setTimeout(()=>{this.$emit("input",!1),3==this.step&&2==this.loading&&this.setStep(1)},200)},setStep(t){setTimeout(()=>{this.step=t},200)},preventDefault(t){return t.preventDefault(),!1},handleClick(t){1!==this.loading&&t.target!==this.$refs.fileinput&&(t.preventDefault(),document.activeElement!==this.$refs&&this.$refs.fileinput.click())},handleChange(t){if(t.preventDefault(),1!==this.loading){let e=t.target.files||t.dataTransfer.files;this.reset(),this.checkFile(e[0])&&this.setSourceImg(e[0])}},checkFile(t){let e=this,s=e.lang,i=e.maxSize;return-1===t.type.indexOf("image")?(e.hasError=!0,e.errorMsg=s.error.onlyImg,!1):!(t.size/1024>i)||(e.hasError=!0,e.errorMsg=s.error.outOfSize+i+"kb",!1)},reset(){let t=this;t.loading=0,t.hasError=!1,t.errorMsg="",t.progress=0},setSourceImg(t){this.$emit("src-file-set",t.name,t.type,t.size);let e=this,s=new FileReader;s.onload=function(t){e.sourceImgUrl=s.result,e.startCrop()},s.readAsDataURL(t)},startCrop(){let t=this,e=t.width,s=t.height,i=t.ratio,n=t.scale,r=t.sourceImgUrl,a=t.sourceImgMasking,o=t.lang,l=a,c=new Image;c.src=r,c.onload=function(){let r=c.naturalWidth,a=c.naturalHeight,u=r/a,h=l.width,d=l.height,p=0,g=0;if(r<e||a<s)return t.hasError=!0,t.errorMsg=o.error.lowestPx+e+"*"+s,!1;i>u&&(d=h/u,g=(l.height-d)/2),i<u&&(h=d*u,p=(l.width-h)/2),n.range=0,n.x=p,n.y=g,n.width=h,n.height=d,n.minWidth=h,n.minHeight=d,n.maxWidth=r*l.scale,n.maxHeight=a*l.scale,n.naturalWidth=r,n.naturalHeight=a,t.sourceImg=c,t.createImg(),t.setStep(2)}},imgStartMove(t){if(t.preventDefault(),this.isSupportTouch&&!t.targetTouches)return!1;let e=t.targetTouches?t.targetTouches[0]:t,s=this.sourceImgMouseDown,i=this.scale,n=s;n.mX=e.screenX,n.mY=e.screenY,n.x=i.x,n.y=i.y,n.on=!0},imgMove(t){if(t.preventDefault(),this.isSupportTouch&&!t.targetTouches)return!1;let e=t.targetTouches?t.targetTouches[0]:t,s=this.sourceImgMouseDown,i=s.on,n=s.mX,r=s.mY,a=s.x,o=s.y,l=this.scale,c=this.sourceImgMasking,u=c,h=e.screenX,d=e.screenY,p=h-n,g=d-r,f=a+p,v=o+g;i&&(f>0&&(f=0),v>0&&(v=0),f<u.width-l.width&&(f=u.width-l.width),v<u.height-l.height&&(v=u.height-l.height),l.x=f,l.y=v)},rotateImg(t){let e=this.sourceImg,s=this.scale,i=s.naturalWidth,n=s.naturalHeight,r=n,a=i,o=this.$refs.canvas,l=o.getContext("2d");o.width=r,o.height=a,l.clearRect(0,0,r,a),l.fillStyle="rgba(0,0,0,0)",l.fillRect(0,0,r,a),l.translate(r,0),l.rotate(90*Math.PI/180),l.drawImage(e,0,0,i,n);let c=o.toDataURL(g["png"]);this.sourceImgUrl=c,this.startCrop()},startZoomAdd(t){let e=this,s=e.scale;function i(){if(s.zoomAddOn){let t=s.range>=100?100:++s.range;e.zoomImg(t),setTimeout(function(){i()},60)}}s.zoomAddOn=!0,i()},endZoomAdd(t){this.scale.zoomAddOn=!1},startZoomSub(t){let e=this,s=e.scale;function i(){if(s.zoomSubOn){let t=s.range<=0?0:--s.range;e.zoomImg(t),setTimeout(function(){i()},60)}}s.zoomSubOn=!0,i()},endZoomSub(t){let e=this.scale;e.zoomSubOn=!1},zoomChange(t){this.zoomImg(t.target.value)},zoomImg(t){let e=this,s=this.sourceImgMasking,i=(this.sourceImgMouseDown,this.scale),n=i.maxWidth,r=i.maxHeight,a=i.minWidth,o=i.minHeight,l=i.width,c=i.height,u=i.x,h=i.y,d=(i.range,s),p=d.width,g=d.height,f=a+(n-a)*t/100,v=o+(r-o)*t/100,m=p/2-f/l*(p/2-u),_=g/2-v/c*(g/2-h);m>0&&(m=0),_>0&&(_=0),m<p-f&&(m=p-f),_<g-v&&(_=g-v),i.x=m,i.y=_,i.width=f,i.height=v,i.range=t,setTimeout(function(){i.range==t&&e.createImg()},300)},createImg(t){let e=this,s=e.imgFormat,i=e.imgBgc,n=e.mime,r=e.sourceImg,a=e.scale,o=a.x,l=a.y,c=a.width,u=a.height,h=e.sourceImgMasking.scale,d=e.$refs.canvas,p=d.getContext("2d");t&&(e.sourceImgMouseDown.on=!1),d.width=e.width,d.height=e.height,p.clearRect(0,0,e.width,e.height),p.fillStyle="png"==s?"rgba(0,0,0,0)":i,p.fillRect(0,0,e.width,e.height),p.drawImage(r,o/h,l/h,c/h,u/h),e.createImgUrl=d.toDataURL(n)},prepareUpload(){let t=this.url,e=this.createImgUrl,s=this.field,i=this.ki;this.$emit("crop-success",e,s,i),"string"==typeof t&&t?this.upload():this.off()},upload(){let t=this,e=this.lang,s=this.imgFormat,i=this.mime,n=this.url,r=this.params,a=this.headers,o=this.field,l=this.ki,c=this.createImgUrl,u=this.withCredentials,h=this.method,d=new FormData;d.append(o,f(c,i),o+"."+s),"object"==typeof r&&r&&Object.keys(r).forEach(t=>{d.append(t,r[t])});const p=function(e){e.lengthComputable&&(t.progress=100*Math.round(e.loaded)/e.total)};t.reset(),t.loading=1,t.setStep(3),new Promise(function(t,e){let s=new XMLHttpRequest;s.open(h,n,!0),s.withCredentials=u,s.onreadystatechange=function(){4===this.readyState&&(200===this.status||201===this.status?t(JSON.parse(this.responseText)):e(this.status))},s.upload.addEventListener("progress",p,!1),"object"==typeof a&&a&&Object.keys(a).forEach(t=>{s.setRequestHeader(t,a[t])}),s.send(d)}).then(function(e){t.value&&(t.loading=2,t.$emit("crop-upload-success",e,o,l))},function(s){t.value&&(t.loading=3,t.hasError=!0,t.errorMsg=e.fail,t.$emit("crop-upload-fail",s,o,l))})}},created(){document.addEventListener("keyup",t=>{!this.value||"Escape"!=t.key&&27!=t.keyCode||this.off()})}},_=m,b=(s("2133"),s("2877")),y=Object(b["a"])(_,h,d,!1,null,null,null),w=y.exports,C={mixins:[w],methods:{off(){this.$emit("input",!1),3===this.step&&2===this.loading&&this.setStep(1)},setStep(t){this.step=t}}},T=s("9c9e");function k(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function x(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?k(s,!0).forEach(function(e){S(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):k(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function S(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const E=o["b"];var O={mixins:[T["a"]],components:{"vue-image-crop-upload":C},props:{},data(){return{contextMenu:!1,showAvatarUpload:!1,removeAvatarInProgress:!1,showRemoveAvatarConfirm:!1,clearSessionConfirm:!1,clearSessionInProgress:!1}},beforeCreate(){this.chartTypeChartiq=u["a"],this.chartTypeTradingview=u["c"]},created(){this.consoleURL="https://console.zerodha.com",this.fetchProfile(),this.fetchAppSessions(),this.preProcess(),this.$events.on("refetchData:profile",this.fetchAll)},beforeDestroy(){this.postProcess(),this.$events.off("refetchData:profile",this.fetchAll)},activated(){this.preProcess()},deactivated(){this.postProcess()},computed:x({},Object(r["c"])(["isMobile"]),{},Object(r["c"])(E,["profile","profileError","profileFetchStatus","userName","userAvatar","appSessions","appSessionsError","appSessionsFetchStatus","preferences"]),{isProfileFetching(){return this.profileFetchStatus===c["a"].fetching},isProfileFetchFailed(){return this.profileFetchStatus===c["a"].error},isAppSessionsFetching(){return this.appSessionsFetchStatus===c["a"].fetching},isAppSessionsFailed(){return this.appSessionsFetchStatus===c["a"].error},avatar(){return this.newAvatarUrl?this.newAvatarUrl:this.userAvatar?this.userAvatar:""},orderNotificationsPref:{get(){return this.preferences&&this.preferences.order_update_web?this.preferences.order_update_web:"on"},set(t){this.updatePreference({key:"order_update_web",value:t})}},chartPref:{get(){return this.preferences&&this.preferences.chart_type?this.preferences.chart_type:u["a"]},set(t){this.updatePreference({key:"chart_type",value:t})}}}),methods:x({},Object(r["b"])(E,["fetchProfile","fetchAppSessions"]),{},Object(r["d"])(E,["setUserAvatar","updatePreference"]),{preProcess(){},postProcess(){},gotoToPasswordEdit(){this.$router.push(l["b"].editProfile)},fetchAll(){this.fetchProfile(),this.fetchAppSessions()},lastLoginDate(t){let e=new Date(t),s=["January","February","March","April","May","June","July","August","September","October","November","December"],i=e.getDate(),n=e.getMonth(),r=e.getFullYear();return i+" "+s[n]+" "+r+t.slice(10)},apiRemoveAvatar(){this.removeAvatarInProgress=!0,a["a"].deleteAvatar().then(t=>{this.removeAvatarInProgress=!1,this.hideRemoveAvatarConfirm(),this.setUserAvatar(""),this.$toast.success({title:"Deleted",message:"Profile picture has been deleted",orientation:this.$toast.TOP_RIGHT})}).catch(()=>{this.removeAvatarInProgress=!1,this.$toast.error({title:"Error",message:"Error deleting profile picture. Please try again",orientation:this.$toast.TOP_RIGHT})})},showAvatarUploadPopup(){this.showAvatarUpload=!0,window.addEventListener("click",this.handleWindowClick)},hideAvatarUploadPopup(){this.showAvatarUpload=!1,window.removeEventListener("click",this.handleWindowClick)},uploadAvatar(){this.showAvatarUploadPopup()},removeAvatar(){this.showRemoveAvatarConfirm=!0},avatarCropSuccess(t,e){},avatarUploadSuccess(t){t&&t.data&&this.setUserAvatar(t.data),this.hideAvatarUploadPopup()},avatarUploadFail(){},hideRemoveAvatarConfirm(){this.showRemoveAvatarConfirm=!1},handleWindowClick(t){t.target===this.$el.querySelector(".vue-image-crop-upload")&&this.hideAvatarUploadPopup()},showContextMenu(){this.contextMenu=!0},hideContextMenu(){this.contextMenu=!1},showClearSessionConfirm(){this.clearSessionConfirm=!0},hideClearSessionConfirm(){this.clearSessionConfirm=!1},apiClearAppSessions(){this.clearSessionInProgress=!0,a["a"].clearAppSessions().then(t=>{this.clearSessionInProgress=!1,this.hideClearSessionConfirm(),this.$toast.success({title:"Done",message:"Sessions has been cleared successfully",orientation:this.$toast.BOTTOM_RIGHT}),window.location.href="/logout"}).catch(()=>{this.clearSessionInProgress=!1,this.hideClearSessionConfirm(),this.$toast.error({title:"Error",message:"Error clearing session. Please try again",orientation:this.$toast.BOTTOM_RIGHT})})},updatePreferenceAPI(t,e){let s={key:t,value:e};a["a"].updatePreferences(s).then(t=>{}).catch(t=>{})}})},P=O,D=Object(b["a"])(P,i,n,!1,null,null,null);e["default"]=D.exports},d7b6:function(t,e,s){"use strict";var i=s("9579"),n=s.n(i);n.a},e2ac:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"dropdown"}},[s("div",{staticClass:"mobile-context-menu",attrs:{id:"mobile-context-menu-"+t._uid},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.close(e)}}},[s("ul",{staticClass:"mobile-context-menu-list list-flat"},[t._t("menu")],2)])])},n=[],r={name:"context-menu",props:{},data(){return{}},deactivated(){},methods:{close(){this.$emit("close")}}},a=r,o=s("2877"),l=Object(o["a"])(a,i,n,!1,null,null,null);e["a"]=l.exports},e7ec:function(t,e,s){
/*!
 * Vddl.js v0.5.3
 * (c) 2017 Hejx
 * Released under the MIT License.
 * https://github.com/hejianxian/vddl#readme
 */
(function(e,i){t.exports=i(s("c641"))})(0,function(t){t="default"in t?t["default"]:t;var e={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vddl-draggable"},[t._t("default")],2)},staticRenderFns:[],name:"vddl-draggable",props:{draggable:[Object,Array],wrapper:Array,index:Number,effectAllowed:String,type:String,disableIf:Boolean,dragstart:Function,selected:Function,dragend:Function,moved:Function,copied:Function,canceled:Function},data:function(){return{}},computed:{},methods:{handleDragstart:function(t){var e=this,s=JSON.stringify(this.draggable);if("false"==s||this.disableIf)return!0;t.dataTransfer.setData("Text",s),t.dataTransfer.effectAllowed=this.effectAllowed||"move",this.$el.className=this.$el.className.trim()+" vddl-dragging",setTimeout(function(){e.$el.className=e.$el.className.trim()+" vddl-dragging-source"},0),this.vddlDropEffectWorkaround.dropEffect="none",this.vddlDragTypeWorkaround.isDragging=!0,this.vddlDragTypeWorkaround.dragType=this.type||void 0,t._dndHandle&&t.dataTransfer.setDragImage&&t.dataTransfer.setDragImage(this.$el,t._dndHandleLeft,t._dndHandleTop),"function"===typeof this.dragstart&&this.dragstart.call(this,t.target),t.stopPropagation()},handleDragend:function(t){var e=this,s=this.vddlDropEffectWorkaround.dropEffect;switch(s){case"move":"function"===typeof this.moved?this.moved(this.index,t.target):this.wrapper.splice(this.index,1);break;case"copy":"function"===typeof this.copied&&this.copied(this.draggable,t.target);break;case"none":"function"===typeof this.canceled&&this.canceled(t.target);break}"function"===typeof this.dragend&&this.dragend(s,t.target),this.$el.className=this.$el.className.replace("vddl-dragging","").trim(),setTimeout(function(){e.$el&&(e.$el.className=e.$el.className.replace("vddl-dragging-source","").trim())},0),this.vddlDragTypeWorkaround.isDragging=!1,t.stopPropagation()},handleClick:function(t){this.selected&&("function"===typeof this.selected&&this.selected(this.wrapper[this.index],t.target),t.stopPropagation())},handleSelected:function(){return this.dragDrop&&this.dragDrop(),!1},init:function(){var t=!0;this.disableIf&&(t=!1),this.$el.setAttribute("draggable",t),this.$el.addEventListener("dragstart",this.handleDragstart,!1),this.$el.addEventListener("dragend",this.handleDragend,!1),this.$el.addEventListener("click",this.handleClick,!1),this.$el.addEventListener("selectstart",this.handleSelected,!1)}},watch:{disableIf:function(t){this.$el.setAttribute("draggable",!t)}},ready:function(){this.init()},mounted:function(){this.init()},beforeDestroy:function(){this.$el.removeEventListener("dragstart",this.handleDragstart,!1),this.$el.removeEventListener("dragend",this.handleDragend,!1),this.$el.removeEventListener("click",this.handleClick,!1),this.$el.removeEventListener("selectstart",this.handleSelected,!1)}},s={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vddl-list"},[t._t("default")],2)},staticRenderFns:[],name:"vddl-list",props:{list:Array,allowedTypes:Array,disableIf:Boolean,horizontal:Boolean,externalSources:Boolean,dragover:Function,inserted:Function,drop:Function},data:function(){return{}},computed:{},methods:{handleDragenter:function(t){if(!this.isDropAllowed(t))return!0;t.preventDefault()},handleDragover:function(t){var e=this;if(!this.isDropAllowed(t))return!0;if(this.placeholderNode.parentNode!=this.listNode&&this.listNode.appendChild(this.placeholderNode),t.target!==this.listNode){var s=t.target;while(s.parentNode!==this.listNode&&s.parentNode)s=s.parentNode;s.parentNode===this.listNode&&s!==this.placeholderNode&&(this.isMouseInFirstHalf(t,s)?this.listNode.insertBefore(this.placeholderNode,s):this.listNode.insertBefore(this.placeholderNode,s.nextSibling))}else if(this.isMouseInFirstHalf(t,this.placeholderNode,!0))while(this.placeholderNode.previousElementSibling&&(this.isMouseInFirstHalf(t,this.placeholderNode.previousElementSibling,!0)||0===this.placeholderNode.previousElementSibling.offsetHeight))e.listNode.insertBefore(e.placeholderNode,e.placeholderNode.previousElementSibling);else while(this.placeholderNode.nextElementSibling&&!this.isMouseInFirstHalf(t,this.placeholderNode.nextElementSibling,!0))e.listNode.insertBefore(e.placeholderNode,e.placeholderNode.nextElementSibling.nextElementSibling);return this.dragover&&!this.invokeCallback("dragover",t,this.getPlaceholderIndex())?this.stopDragover(t):(this.$el.className.indexOf("vddl-dragover")<0&&(this.$el.className=this.$el.className.trim()+" vddl-dragover"),t.preventDefault(),t.stopPropagation(),!1)},handleDrop:function(t){if(!this.isDropAllowed(t))return!0;t.preventDefault();var e,s=t.dataTransfer.getData("Text")||t.dataTransfer.getData("text/plain");try{e=JSON.parse(s)}catch(n){return this.stopDragover()}var i=this.getPlaceholderIndex();return this.drop&&(e=this.invokeCallback("drop",t,i,e),!e)?this.stopDragover():(!0!==e&&this.list.splice(i,0,e),this.invokeCallback("inserted",t,i,e),"none"===t.dataTransfer.dropEffect?"copy"===t.dataTransfer.effectAllowed||"move"===t.dataTransfer.effectAllowed?this.vddlDropEffectWorkaround.dropEffect=t.dataTransfer.effectAllowed:this.vddlDropEffectWorkaround.dropEffect=t.ctrlKey?"copy":"move":this.vddlDropEffectWorkaround.dropEffect=t.dataTransfer.dropEffect,this.stopDragover(),t.stopPropagation(),!1)},handleDragleave:function(t){var e=this;this.$el.className=this.$el.className.replace("vddl-dragover","").trim(),setTimeout(function(){e.$el.className.indexOf("vddl-dragover")<0&&e.placeholderNode.parentNode&&e.placeholderNode.parentNode.removeChild(e.placeholderNode)},100)},isMouseInFirstHalf:function(t,e,s){var i=this.horizontal?t.offsetX||t.layerX:t.offsetY||t.layerY,n=this.horizontal?e.offsetWidth:e.offsetHeight,r=this.horizontal?e.offsetLeft:e.offsetTop;return r=s?r:0,i<r+n/2},getPlaceholderElement:function(){var t,e=this.$el.parentNode.querySelectorAll(".vddl-placeholder");if(e.length>0)return t=e[0],t;var s=document.createElement("div");return s.setAttribute("class","vddl-placeholder"),s},getPlaceholderIndex:function(){return Array.prototype.indexOf.call(this.listNode.children,this.placeholderNode)},isDropAllowed:function(t){if(!this.vddlDragTypeWorkaround.isDragging&&!this.externalSources)return!1;if(!this.hasTextMimetype(t.dataTransfer.types))return!1;if(this.allowedTypes&&this.vddlDragTypeWorkaround.isDragging){var e=this.allowedTypes;if(Array.isArray(e)&&-1===e.indexOf(this.vddlDragTypeWorkaround.dragType))return!1}return!this.disableIf},stopDragover:function(){return this.placeholderNode.parentNode&&this.placeholderNode.parentNode.removeChild(this.placeholderNode),this.$el.className=this.$el.className.replace("vddl-dragover","").trim(),!0},invokeCallback:function(t,e,s,i){var n=this[t];return n&&n({event:e,index:s,item:i||void 0,external:!this.vddlDragTypeWorkaround.isDragging,type:this.vddlDragTypeWorkaround.isDragging?this.vddlDragTypeWorkaround.dragType:void 0}),!!n},hasTextMimetype:function(t){if(!t)return!0;for(var e=0;e<t.length;e+=1)if("Text"===t[e]||"text/plain"===t[e])return!0;return!1},init:function(){this.placeholderNode=this.getPlaceholderElement(),this.listNode=this.$el,this.placeholderNode.parentNode&&this.placeholderNode.parentNode.removeChild(this.placeholderNode),this.$el.addEventListener("dragenter",this.handleDragenter,!1),this.$el.addEventListener("dragover",this.handleDragover,!1),this.$el.addEventListener("drop",this.handleDrop,!1),this.$el.addEventListener("dragleave",this.handleDragleave,!1)}},ready:function(){this.init()},mounted:function(){this.init()},beforeDestroy:function(){this.$el.removeEventListener("dragenter",this.handleDragenter,!1),this.$el.removeEventListener("dragover",this.handleDragover,!1),this.$el.removeEventListener("drop",this.handleDrop,!1),this.$el.removeEventListener("dragleave",this.handleDragleave,!1)}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vddl-handle"},[t._t("default")],2)},staticRenderFns:[],name:"vddl-handle",props:{handleLeft:Number,handleTop:Number},data:function(){return{}},computed:{},methods:{handle:function(t){t._dndHandle=!0,t._dndHandleLeft=this.handleLeft||0,t._dndHandleTop=this.handleTop||0},init:function(){this.$el.setAttribute("draggable",!0),this.$el.addEventListener("dragstart",this.handle,!1),this.$el.addEventListener("dragend",this.handle,!1)}},ready:function(){this.init()},mounted:function(){this.init()},beforeDestroy:function(){this.$el.removeEventListener("dragstart",this.handle,!1),this.$el.removeEventListener("dragend",this.handle,!1)}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vddl-nodrag"},[t._t("default")],2)},staticRenderFns:[],name:"vddl-nodrag",props:{},data:function(){return{}},computed:{},methods:{handleDragstart:function(t){t._dndHandle||(t.dataTransfer.types&&t.dataTransfer.types.length||t.preventDefault(),t.stopPropagation())},handleDragend:function(t){t._dndHandle||t.stopPropagation()},init:function(){this.$el.setAttribute("draggable",!0),this.$el.addEventListener("dragstart",this.handleDragstart,!1),this.$el.addEventListener("dragend",this.handleDragend,!1)}},ready:function(){this.init()},mounted:function(){this.init()},beforeDestroy:function(){this.$el.removeEventListener("dragstart",this.handleDragstart,!1),this.$el.removeEventListener("dragend",this.handleDragend,!1)}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vddl-placeholder"},[t._t("default")],2)},staticRenderFns:[],name:"vddl-placeholder"},a={Draggable:e,List:s,Handle:i,Nodrag:n,Placeholder:r},o={install:function(e){e.prototype.vddlDropEffectWorkaround={},e.prototype.vddlDragTypeWorkaround={},t(a,function(t){e.component(t.name,t)})}};return o})},f4e2:function(t,e,s){"use strict";var i=s("d091"),n=s.n(i);n.a},f9a4:function(t,e,s){"use strict";s.d(e,"b",function(){return o});var i=s("a029a"),n=s("5fb0"),r=s("025e");let a=!0;const o="connect",l={connectedApps:null,connectedAppsError:null,connectedAppsFetchStatus:n["a"].initial},c={connectedApps:t=>t.connectedApps,connectedAppsError:t=>t.connectedAppsError,connectedAppsFetchStatus:t=>t.connectedAppsFetchStatus},u={setConnectedApps(t,e){t.connectedApps=e},setConnectedAppsFetchStatus(t,e){t.connectedAppsFetchStatus=e},setConnectedAppsError(t,e){t.connectedAppsError=e}},h={fetchConnectedApps(t){let e=t.commit;t.state;e("setConnectedAppsFetchStatus",n["a"].fetching);let s=i["a"].getConnectedApps();Object(r["f"])({commit:e,apiPromise:s,data:"setConnectedApps",status:"setConnectedAppsFetchStatus",error:"setConnectedAppsError"})}};e["a"]={state:l,getters:c,mutations:u,actions:h,namespaced:a}}}]);